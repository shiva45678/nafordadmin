(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ah(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bm={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function qN(){if(dS)return Vu;dS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Vu.Fragment=e,Vu.jsx=n,Vu.jsxs=n,Vu}var hS;function zN(){return hS||(hS=1,Bm.exports=qN()),Bm.exports}var S=zN(),qm={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function HN(){if(pS)return Le;pS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=T&&Y[T]||Y["@@iterator"],typeof Y=="function"?Y:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function B(Y,se,L){this.props=Y,this.context=se,this.refs=O,this.updater=L||I}B.prototype.isReactComponent={},B.prototype.setState=function(Y,se){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,se,"setState")},B.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function G(){}G.prototype=B.prototype;function H(Y,se,L){this.props=Y,this.context=se,this.refs=O,this.updater=L||I}var re=H.prototype=new G;re.constructor=H,D(re,B.prototype),re.isPureReactComponent=!0;var fe=Array.isArray;function j(){}var M={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function N(Y,se,L){var ye=L.ref;return{$$typeof:t,type:Y,key:se,ref:ye!==void 0?ye:null,props:L}}function U(Y,se){return N(Y.type,se,Y.props)}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function F(Y){var se={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(L){return se[L]})}var P=/\/+/g;function pe(Y,se){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):se.toString(36)}function _e(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(j,j):(Y.status="pending",Y.then(function(se){Y.status==="pending"&&(Y.status="fulfilled",Y.value=se)},function(se){Y.status==="pending"&&(Y.status="rejected",Y.reason=se)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Z(Y,se,L,ye,Ie){var Ce=typeof Y;(Ce==="undefined"||Ce==="boolean")&&(Y=null);var ze=!1;if(Y===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(Y.$$typeof){case t:case e:ze=!0;break;case m:return ze=Y._init,Z(ze(Y._payload),se,L,ye,Ie)}}if(ze)return Ie=Ie(Y),ze=ye===""?"."+pe(Y,0):ye,fe(Ie)?(L="",ze!=null&&(L=ze.replace(P,"$&/")+"/"),Z(Ie,se,L,"",function(Rn){return Rn})):Ie!=null&&(V(Ie)&&(Ie=U(Ie,L+(Ie.key==null||Y&&Y.key===Ie.key?"":(""+Ie.key).replace(P,"$&/")+"/")+ze)),se.push(Ie)),1;ze=0;var dt=ye===""?".":ye+":";if(fe(Y))for(var rt=0;rt<Y.length;rt++)ye=Y[rt],Ce=dt+pe(ye,rt),ze+=Z(ye,se,L,Ce,Ie);else if(rt=x(Y),typeof rt=="function")for(Y=rt.call(Y),rt=0;!(ye=Y.next()).done;)ye=ye.value,Ce=dt+pe(ye,rt++),ze+=Z(ye,se,L,Ce,Ie);else if(Ce==="object"){if(typeof Y.then=="function")return Z(_e(Y),se,L,ye,Ie);throw se=String(Y),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function de(Y,se,L){if(Y==null)return Y;var ye=[],Ie=0;return Z(Y,ye,"","",function(Ce){return se.call(L,Ce,Ie++)}),ye}function Te(Y){if(Y._status===-1){var se=Y._result;se=se(),se.then(function(L){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=L)},function(L){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=L)}),Y._status===-1&&(Y._status=0,Y._result=se)}if(Y._status===1)return Y._result.default;throw Y._result}var Ue=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},q={map:de,forEach:function(Y,se,L){de(Y,function(){se.apply(this,arguments)},L)},count:function(Y){var se=0;return de(Y,function(){se++}),se},toArray:function(Y){return de(Y,function(se){return se})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Le.Activity=_,Le.Children=q,Le.Component=B,Le.Fragment=n,Le.Profiler=s,Le.PureComponent=H,Le.StrictMode=i,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Le.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return M.H.useMemoCache(Y)}},Le.cache=function(Y){return function(){return Y.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(Y,se,L){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ye=D({},Y.props),Ie=Y.key;if(se!=null)for(Ce in se.key!==void 0&&(Ie=""+se.key),se)!k.call(se,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&se.ref===void 0||(ye[Ce]=se[Ce]);var Ce=arguments.length-2;if(Ce===1)ye.children=L;else if(1<Ce){for(var ze=Array(Ce),dt=0;dt<Ce;dt++)ze[dt]=arguments[dt+2];ye.children=ze}return N(Y.type,Ie,ye)},Le.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},Le.createElement=function(Y,se,L){var ye,Ie={},Ce=null;if(se!=null)for(ye in se.key!==void 0&&(Ce=""+se.key),se)k.call(se,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ie[ye]=se[ye]);var ze=arguments.length-2;if(ze===1)Ie.children=L;else if(1<ze){for(var dt=Array(ze),rt=0;rt<ze;rt++)dt[rt]=arguments[rt+2];Ie.children=dt}if(Y&&Y.defaultProps)for(ye in ze=Y.defaultProps,ze)Ie[ye]===void 0&&(Ie[ye]=ze[ye]);return N(Y,Ce,Ie)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(Y){return{$$typeof:c,render:Y}},Le.isValidElement=V,Le.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:Te}},Le.memo=function(Y,se){return{$$typeof:d,type:Y,compare:se===void 0?null:se}},Le.startTransition=function(Y){var se=M.T,L={};M.T=L;try{var ye=Y(),Ie=M.S;Ie!==null&&Ie(L,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(j,Ue)}catch(Ce){Ue(Ce)}finally{se!==null&&L.types!==null&&(se.types=L.types),M.T=se}},Le.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Le.use=function(Y){return M.H.use(Y)},Le.useActionState=function(Y,se,L){return M.H.useActionState(Y,se,L)},Le.useCallback=function(Y,se){return M.H.useCallback(Y,se)},Le.useContext=function(Y){return M.H.useContext(Y)},Le.useDebugValue=function(){},Le.useDeferredValue=function(Y,se){return M.H.useDeferredValue(Y,se)},Le.useEffect=function(Y,se){return M.H.useEffect(Y,se)},Le.useEffectEvent=function(Y){return M.H.useEffectEvent(Y)},Le.useId=function(){return M.H.useId()},Le.useImperativeHandle=function(Y,se,L){return M.H.useImperativeHandle(Y,se,L)},Le.useInsertionEffect=function(Y,se){return M.H.useInsertionEffect(Y,se)},Le.useLayoutEffect=function(Y,se){return M.H.useLayoutEffect(Y,se)},Le.useMemo=function(Y,se){return M.H.useMemo(Y,se)},Le.useOptimistic=function(Y,se){return M.H.useOptimistic(Y,se)},Le.useReducer=function(Y,se,L){return M.H.useReducer(Y,se,L)},Le.useRef=function(Y){return M.H.useRef(Y)},Le.useState=function(Y){return M.H.useState(Y)},Le.useSyncExternalStore=function(Y,se,L){return M.H.useSyncExternalStore(Y,se,L)},Le.useTransition=function(){return M.H.useTransition()},Le.version="19.2.0",Le}var mS;function _y(){return mS||(mS=1,qm.exports=HN()),qm.exports}var $=_y();const GN=ah($);var zm={exports:{}},Uu={},Hm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function YN(){return gS||(gS=1,(function(t){function e(Z,de){var Te=Z.length;Z.push(de);e:for(;0<Te;){var Ue=Te-1>>>1,q=Z[Ue];if(0<s(q,de))Z[Ue]=de,Z[Te]=q,Te=Ue;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var de=Z[0],Te=Z.pop();if(Te!==de){Z[0]=Te;e:for(var Ue=0,q=Z.length,Y=q>>>1;Ue<Y;){var se=2*(Ue+1)-1,L=Z[se],ye=se+1,Ie=Z[ye];if(0>s(L,Te))ye<q&&0>s(Ie,L)?(Z[Ue]=Ie,Z[ye]=Te,Ue=ye):(Z[Ue]=L,Z[se]=Te,Ue=se);else if(ye<q&&0>s(Ie,Te))Z[Ue]=Ie,Z[ye]=Te,Ue=ye;else break e}}return de}function s(Z,de){var Te=Z.sortIndex-de.sortIndex;return Te!==0?Te:Z.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,_=null,T=3,x=!1,I=!1,D=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function re(Z){for(var de=n(d);de!==null;){if(de.callback===null)i(d);else if(de.startTime<=Z)i(d),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(d)}}function fe(Z){if(D=!1,re(Z),!I)if(n(h)!==null)I=!0,j||(j=!0,F());else{var de=n(d);de!==null&&_e(fe,de.startTime-Z)}}var j=!1,M=-1,k=5,N=-1;function U(){return O?!0:!(t.unstable_now()-N<k)}function V(){if(O=!1,j){var Z=t.unstable_now();N=Z;var de=!0;try{e:{I=!1,D&&(D=!1,G(M),M=-1),x=!0;var Te=T;try{t:{for(re(Z),_=n(h);_!==null&&!(_.expirationTime>Z&&U());){var Ue=_.callback;if(typeof Ue=="function"){_.callback=null,T=_.priorityLevel;var q=Ue(_.expirationTime<=Z);if(Z=t.unstable_now(),typeof q=="function"){_.callback=q,re(Z),de=!0;break t}_===n(h)&&i(h),re(Z)}else i(h);_=n(h)}if(_!==null)de=!0;else{var Y=n(d);Y!==null&&_e(fe,Y.startTime-Z),de=!1}}break e}finally{_=null,T=Te,x=!1}de=void 0}}finally{de?F():j=!1}}}var F;if(typeof H=="function")F=function(){H(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,pe=P.port2;P.port1.onmessage=V,F=function(){pe.postMessage(null)}}else F=function(){B(V,0)};function _e(Z,de){M=B(function(){Z(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var Te=T;T=de;try{return Z()}finally{T=Te}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Te=T;T=Z;try{return de()}finally{T=Te}},t.unstable_scheduleCallback=function(Z,de,Te){var Ue=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ue+Te:Ue):Te=Ue,Z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Te+q,Z={id:m++,callback:de,priorityLevel:Z,startTime:Te,expirationTime:q,sortIndex:-1},Te>Ue?(Z.sortIndex=Te,e(d,Z),n(h)===null&&Z===n(d)&&(D?(G(M),M=-1):D=!0,_e(fe,Te-Ue))):(Z.sortIndex=q,e(h,Z),I||x||(I=!0,j||(j=!0,F()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var de=T;return function(){var Te=T;T=de;try{return Z.apply(this,arguments)}finally{T=Te}}}})(Gm)),Gm}var yS;function JN(){return yS||(yS=1,Hm.exports=YN()),Hm.exports}var Ym={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function KN(){if(vS)return En;vS=1;var t=_y();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,En.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},En.flushSync=function(h){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=m,i.d.f()}},En.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},En.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},En.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,_=c(m,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:x}):m==="script"&&i.d.X(h,{crossOrigin:_,integrity:T,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},En.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},En.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=c(m,d.crossOrigin);i.d.L(h,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},En.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},En.requestFormReset=function(h){i.d.r(h)},En.unstable_batchedUpdates=function(h,d){return h(d)},En.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},En.useFormStatus=function(){return l.H.useHostTransitionStatus()},En.version="19.2.0",En}var _S;function $N(){if(_S)return Ym.exports;_S=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=KN(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function jN(){if(ES)return Uu;ES=1;var t=JN(),e=_y(),n=$N();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(a(r)!==r)throw Error(i(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,f=o;;){var v=u.return;if(v===null)break;var E=v.alternate;if(E===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===u)return h(v),r;if(E===f)return h(v),o;E=E.sibling}throw Error(i(188))}if(u.return!==f.return)u=v,f=E;else{for(var C=!1,b=v.child;b;){if(b===u){C=!0,u=v,f=E;break}if(b===f){C=!0,f=v,u=E;break}b=b.sibling}if(!C){for(b=E.child;b;){if(b===u){C=!0,u=E,f=v;break}if(b===f){C=!0,f=E,u=v;break}b=b.sibling}if(!C)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case fe:return"Suspense";case j:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case H:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case re:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:pe(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return pe(r(o))}catch{}}return null}var _e=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Ue=[],q=-1;function Y(r){return{current:r}}function se(r){0>q||(r.current=Ue[q],Ue[q]=null,q--)}function L(r,o){q++,Ue[q]=r.current,r.current=o}var ye=Y(null),Ie=Y(null),Ce=Y(null),ze=Y(null);function dt(r,o){switch(L(Ce,o),L(Ie,r),L(ye,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?LT(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=LT(o),r=VT(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(ye),L(ye,r)}function rt(){se(ye),se(Ie),se(Ce)}function Rn(r){r.memoizedState!==null&&L(ze,r);var o=ye.current,u=VT(o,r.type);o!==u&&(L(Ie,r),L(ye,u))}function Ei(r){Ie.current===r&&(se(ye),se(Ie)),ze.current===r&&(se(ze),Mu._currentValue=Te)}var ts,ns;function ni(r){if(ts===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ts=o&&o[1]||"",ns=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+r+ns}var is=!1;function Bi(r,o){if(!r||is)return"";is=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ne){ee=ne}r.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),C=E[0],b=E[1];if(C&&b){var z=C.split(`
`),X=b.split(`
`);for(v=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(f===z.length||v===X.length)for(f=z.length-1,v=X.length-1;1<=f&&0<=v&&z[f]!==X[v];)v--;for(;1<=f&&0<=v;f--,v--)if(z[f]!==X[v]){if(f!==1||v!==1)do if(f--,v--,0>v||z[f]!==X[v]){var ie=`
`+z[f].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=f&&0<=v);break}}}finally{is=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ni(u):""}function rs(r,o){switch(r.tag){case 26:case 27:case 5:return ni(r.type);case 16:return ni("Lazy");case 13:return r.child!==o&&o!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return Bi(r.type,!1);case 11:return Bi(r.type.render,!1);case 1:return Bi(r.type,!0);case 31:return ni("Activity");default:return""}}function uo(r){try{var o="",u=null;do o+=rs(r,u),u=r,r=r.return;while(r);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var It=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,qi=t.unstable_cancelCallback,Vl=t.unstable_shouldYield,sa=t.unstable_requestPaint,un=t.unstable_now,Sr=t.unstable_getCurrentPriorityLevel,oe=t.unstable_ImmediatePriority,me=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,He=t.unstable_LowPriority,et=t.unstable_IdlePriority,vn=t.log,ii=t.unstable_setDisableYieldValue,kt=null,Rt=null;function rn(r){if(typeof vn=="function"&&ii(r),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(kt,r)}catch{}}var We=Math.clz32?Math.clz32:Oc,Ti=Math.log,_n=Math.LN2;function Oc(r){return r>>>=0,r===0?32:31-(Ti(r)/_n|0)|0}var zi=256,co=262144,Bt=4194304;function Hi(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Gi(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var v=0,E=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var b=f&134217727;return b!==0?(f=b&~E,f!==0?v=Hi(f):(C&=b,C!==0?v=Hi(C):u||(u=b&~r,u!==0&&(v=Hi(u))))):(b=f&~E,b!==0?v=Hi(b):C!==0?v=Hi(C):u||(u=f&~r,u!==0&&(v=Hi(u)))),v===0?0:o!==0&&o!==v&&(o&E)===0&&(E=v&-v,u=o&-o,E>=u||E===32&&(u&4194048)!==0)?o:v}function Si(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Gh(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var r=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),r}function Yi(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function fo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yh(r,o,u,f,v,E){var C=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var b=r.entanglements,z=r.expirationTimes,X=r.hiddenUpdates;for(u=C&~u;0<u;){var ie=31-We(u),ue=1<<ie;b[ie]=0,z[ie]=-1;var ee=X[ie];if(ee!==null)for(X[ie]=null,ie=0;ie<ee.length;ie++){var ne=ee[ie];ne!==null&&(ne.lane&=-536870913)}u&=~ue}f!==0&&ho(r,f,0),E!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=E&~(C&~o))}function ho(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-We(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&261930}function Ul(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-We(u),v=1<<f;v&o|r[f]&o&&(r[f]|=o),u&=~v}}function Ol(r,o){var u=o&-o;return u=(u&42)!==0?1:po(u),(u&(r.suspendedLanes|o))!==0?0:u}function po(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function xr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bc(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:sS(r.type))}function xi(r,o){var u=de.p;try{return de.p=r,o()}finally{de.p=u}}var Ai=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ai,sn="__reactProps$"+Ai,Ji="__reactContainer$"+Ai,oa="__reactEvents$"+Ai,Jh="__reactListeners$"+Ai,qc="__reactHandles$"+Ai,zc="__reactResources$"+Ai,Ki="__reactMarker$"+Ai;function aa(r){delete r[qt],delete r[sn],delete r[oa],delete r[Jh],delete r[qc]}function $i(r){var o=r[qt];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ji]||u[qt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=HT(r);r!==null;){if(u=r[qt])return u;r=HT(r)}return o}r=u,u=r.parentNode}return null}function ri(r){if(r=r[qt]||r[Ji]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Gn(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function ji(r){var o=r[zc];return o||(o=r[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function zt(r){r[Ki]=!0}var Fl=new Set,Bl={};function Qi(r,o){Wi(r,o),Wi(r+"Capture",o)}function Wi(r,o){for(Bl[r]=o,r=0;r<o.length;r++)Fl.add(o[r])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Hl={};function Hc(r){return It.call(Hl,r)?!0:It.call(zl,r)?!1:ql.test(r)?Hl[r]=!0:(zl[r]=!0,!1)}function la(r,o,u){if(Hc(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Yn(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Ht(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ss(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Gl(r,o,u){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,E=f.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){u=""+C,E.call(this,C)}}),Object.defineProperty(r,o,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function ut(r){if(!r._valueTracker){var o=ss(r)?"checked":"value";r._valueTracker=Gl(r,o,""+r[o])}}function mo(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=ss(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function Xi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var go=/[\n"\\]/g;function Nn(r){return r.replace(go,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ua(r,o,u,f,v,E,C,b){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),o!=null?C==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+on(o)):r.value!==""+on(o)&&(r.value=""+on(o)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),o!=null?Yl(r,C,on(o)):u!=null?Yl(r,C,on(u)):f!=null&&r.removeAttribute("value"),v==null&&E!=null&&(r.defaultChecked=!!E),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+on(b):r.removeAttribute("name")}function Gc(r,o,u,f,v,E,C,b){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.type=E),o!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||o!=null)){ut(r);return}u=u!=null?""+on(u):"",o=o!=null?""+on(o):u,b||o===r.value||(r.value=o),r.defaultValue=o}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=b?r.checked:!!f,r.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C),ut(r)}function Yl(r,o,u){o==="number"&&Xi(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function os(r,o,u,f){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&f&&(r[u].defaultSelected=!0)}else{for(u=""+on(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function Yc(r,o,u){if(o!=null&&(o=""+on(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+on(u):""}function as(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(_e(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=on(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f),ut(r)}function Dn(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||Jc.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Kl(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var v in o)f=o[v],o.hasOwnProperty(v)&&u[v]!==f&&Jl(r,v,f)}else for(var E in o)o.hasOwnProperty(E)&&Jl(r,E,o[E])}function ca(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(r){return ls.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ci(){}var $l=null;function si(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var us=null,Zi=null;function yo(r){var o=ri(r);if(o&&(r=o.stateNode)){var u=r[sn]||null;e:switch(r=o.stateNode,o.type){case"input":if(ua(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var v=f[sn]||null;if(!v)throw Error(i(90));ua(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&mo(f)}break e;case"textarea":Yc(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&os(r,!!u.multiple,o,!1)}}}var da=!1;function cs(r,o,u){if(da)return r(o,u);da=!0;try{var f=r(o);return f}finally{if(da=!1,(us!==null||Zi!==null)&&(qf(),us&&(o=us,r=Zi,Zi=us=null,yo(o),r)))for(o=0;o<r.length;o++)yo(r[o])}}function wi(r,o){var u=r.stateNode;if(u===null)return null;var f=u[sn]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=!1;if(oi)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){vo=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{vo=!1}var er=null,jl=null,_o=null;function Ql(){if(_o)return _o;var r,o=jl,u=o.length,f,v="value"in er?er.value:er.textContent,E=v.length;for(r=0;r<u&&o[r]===v[r];r++);var C=u-r;for(f=1;f<=C&&o[u-f]===v[E-f];f++);return _o=v.slice(r,1<f?1-f:void 0)}function Eo(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ar(){return!0}function bi(){return!1}function cn(r){function o(u,f,v,E,C){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=E,this.target=C,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(u=r[b],this[b]=u?u(E):E[b]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ar:bi,this.isPropagationStopped=bi,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),o}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=cn(Cr),fs=_({},Cr,{view:0,detail:0}),Wl=cn(fs),ds,ha,nr,pa=_({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(ds=r.screenX-nr.screenX,ha=r.screenY-nr.screenY):ha=ds=0,nr=r),ds)},movementY:function(r){return"movementY"in r?r.movementY:ha}}),Xl=cn(pa),To=_({},pa,{dataTransfer:0}),$c=cn(To),jc=_({},fs,{relatedTarget:0}),So=cn(jc),Zl=_({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=cn(Zl),ma=_({},Cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wc=cn(ma),Xc=_({},Cr,{data:0}),ir=cn(Xc),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nf(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=tf[r])?!!o[r]:!1}function hs(){return nf}var bn=_({},fs,{key:function(r){if(r.key){var o=Zc[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ef[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rf=cn(bn),sf=_({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wr=cn(sf),g=_({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),A=cn(g),w=_({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=cn(w),Q=_({},pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=cn(Q),ge=_({},Cr,{newState:0,oldState:0}),Oe=cn(ge),Lt=[9,13,27,32],st=oi&&"CompositionEvent"in window,Ct=null;oi&&"documentMode"in document&&(Ct=document.documentMode);var ai=oi&&"TextEvent"in window&&!Ct,rr=oi&&(!st||Ct&&8<Ct&&11>=Ct),Ii=" ",Ri=!1;function xo(r,o){switch(r){case"keyup":return Lt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ya=!1;function fR(r,o){switch(r){case"compositionend":return ga(o);case"keypress":return o.which!==32?null:(Ri=!0,Ii);case"textInput":return r=o.data,r===Ii&&Ri?null:r;default:return null}}function dR(r,o){if(ya)return r==="compositionend"||!st&&xo(r,o)?(r=Ql(),_o=jl=er=null,ya=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rr&&o.locale!=="ko"?null:o.data;default:return null}}var hR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!hR[r.type]:o==="textarea"}function Kv(r,o,u,f){us?Zi?Zi.push(f):Zi=[f]:us=f,o=$f(o,"onChange"),0<o.length&&(u=new tr("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var eu=null,tu=null;function pR(r){RT(r,0)}function of(r){var o=Gn(r);if(mo(o))return r}function $v(r,o){if(r==="change")return o}var jv=!1;if(oi){var Kh;if(oi){var $h="oninput"in document;if(!$h){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),$h=typeof Qv.oninput=="function"}Kh=$h}else Kh=!1;jv=Kh&&(!document.documentMode||9<document.documentMode)}function Wv(){eu&&(eu.detachEvent("onpropertychange",Xv),tu=eu=null)}function Xv(r){if(r.propertyName==="value"&&of(tu)){var o=[];Kv(o,tu,r,si(r)),cs(pR,o)}}function mR(r,o,u){r==="focusin"?(Wv(),eu=o,tu=u,eu.attachEvent("onpropertychange",Xv)):r==="focusout"&&Wv()}function gR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return of(tu)}function yR(r,o){if(r==="click")return of(o)}function vR(r,o){if(r==="input"||r==="change")return of(o)}function _R(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Jn=typeof Object.is=="function"?Object.is:_R;function nu(r,o){if(Jn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!It.call(o,v)||!Jn(r[v],o[v]))return!1}return!0}function Zv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function e_(r,o){var u=Zv(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Zv(u)}}function t_(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?t_(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function n_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Xi(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Xi(r.document)}return o}function jh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var ER=oi&&"documentMode"in document&&11>=document.documentMode,va=null,Qh=null,iu=null,Wh=!1;function i_(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wh||va==null||va!==Xi(f)||(f=va,"selectionStart"in f&&jh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),iu&&nu(iu,f)||(iu=f,f=$f(Qh,"onSelect"),0<f.length&&(o=new tr("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=va)))}function Ao(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var _a={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},Xh={},r_={};oi&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Co(r){if(Xh[r])return Xh[r];if(!_a[r])return r;var o=_a[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in r_)return Xh[r]=o[u];return r}var s_=Co("animationend"),o_=Co("animationiteration"),a_=Co("animationstart"),TR=Co("transitionrun"),SR=Co("transitionstart"),xR=Co("transitioncancel"),l_=Co("transitionend"),u_=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Ni(r,o){u_.set(r,o),Qi(o,[r])}var af=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},li=[],Ea=0,ep=0;function lf(){for(var r=Ea,o=ep=Ea=0;o<r;){var u=li[o];li[o++]=null;var f=li[o];li[o++]=null;var v=li[o];li[o++]=null;var E=li[o];if(li[o++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}E!==0&&c_(u,v,E)}}function uf(r,o,u,f){li[Ea++]=r,li[Ea++]=o,li[Ea++]=u,li[Ea++]=f,ep|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function tp(r,o,u,f){return uf(r,o,u,f),cf(r)}function wo(r,o){return uf(r,null,null,o),cf(r)}function c_(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var v=!1,E=r.return;E!==null;)E.childLanes|=u,f=E.alternate,f!==null&&(f.childLanes|=u),E.tag===22&&(r=E.stateNode,r===null||r._visibility&1||(v=!0)),r=E,E=E.return;return r.tag===3?(E=r.stateNode,v&&o!==null&&(v=31-We(u),r=E.hiddenUpdates,f=r[v],f===null?r[v]=[o]:f.push(o),o.lane=u|536870912),E):null}function cf(r){if(50<Cu)throw Cu=0,cm=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ta={};function AR(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,o,u,f){return new AR(r,o,u,f)}function np(r){return r=r.prototype,!(!r||!r.isReactComponent)}function br(r,o){var u=r.alternate;return u===null?(u=Kn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function f_(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function ff(r,o,u,f,v,E){var C=0;if(f=r,typeof r=="function")np(r)&&(C=1);else if(typeof r=="string")C=RN(r,u,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Kn(31,u,o,v),r.elementType=N,r.lanes=E,r;case D:return bo(u.children,v,E,o);case O:C=8,v|=24;break;case B:return r=Kn(12,u,o,v|2),r.elementType=B,r.lanes=E,r;case fe:return r=Kn(13,u,o,v),r.elementType=fe,r.lanes=E,r;case j:return r=Kn(19,u,o,v),r.elementType=j,r.lanes=E,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:C=10;break e;case G:C=9;break e;case re:C=11;break e;case M:C=14;break e;case k:C=16,f=null;break e}C=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=Kn(C,u,o,v),o.elementType=r,o.type=f,o.lanes=E,o}function bo(r,o,u,f){return r=Kn(7,r,f,o),r.lanes=u,r}function ip(r,o,u){return r=Kn(6,r,null,o),r.lanes=u,r}function d_(r){var o=Kn(18,null,null,0);return o.stateNode=r,o}function rp(r,o,u){return o=Kn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var h_=new WeakMap;function ui(r,o){if(typeof r=="object"&&r!==null){var u=h_.get(r);return u!==void 0?u:(o={value:r,source:o,stack:uo(o)},h_.set(r,o),o)}return{value:r,source:o,stack:uo(o)}}var Sa=[],xa=0,df=null,ru=0,ci=[],fi=0,ps=null,sr=1,or="";function Ir(r,o){Sa[xa++]=ru,Sa[xa++]=df,df=r,ru=o}function p_(r,o,u){ci[fi++]=sr,ci[fi++]=or,ci[fi++]=ps,ps=r;var f=sr;r=or;var v=32-We(f)-1;f&=~(1<<v),u+=1;var E=32-We(o)+v;if(30<E){var C=v-v%5;E=(f&(1<<C)-1).toString(32),f>>=C,v-=C,sr=1<<32-We(o)+v|u<<v|f,or=E+r}else sr=1<<E|u<<v|f,or=r}function sp(r){r.return!==null&&(Ir(r,1),p_(r,1,0))}function op(r){for(;r===df;)df=Sa[--xa],Sa[xa]=null,ru=Sa[--xa],Sa[xa]=null;for(;r===ps;)ps=ci[--fi],ci[fi]=null,or=ci[--fi],ci[fi]=null,sr=ci[--fi],ci[fi]=null}function m_(r,o){ci[fi++]=sr,ci[fi++]=or,ci[fi++]=ps,sr=o.id,or=o.overflow,ps=r}var fn=null,St=null,Xe=!1,ms=null,di=!1,ap=Error(i(519));function gs(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(ui(o,r)),ap}function g_(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[qt]=r,o[sn]=f,u){case"dialog":Ye("cancel",o),Ye("close",o);break;case"iframe":case"object":case"embed":Ye("load",o);break;case"video":case"audio":for(u=0;u<bu.length;u++)Ye(bu[u],o);break;case"source":Ye("error",o);break;case"img":case"image":case"link":Ye("error",o),Ye("load",o);break;case"details":Ye("toggle",o);break;case"input":Ye("invalid",o),Gc(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ye("invalid",o);break;case"textarea":Ye("invalid",o),as(o,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||PT(o.textContent,u)?(f.popover!=null&&(Ye("beforetoggle",o),Ye("toggle",o)),f.onScroll!=null&&Ye("scroll",o),f.onScrollEnd!=null&&Ye("scrollend",o),f.onClick!=null&&(o.onclick=Ci),o=!0):o=!1,o||gs(r,!0)}function y_(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:fn=fn.return}}function Aa(r){if(r!==fn)return!1;if(!Xe)return y_(r),Xe=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Cm(r.type,r.memoizedProps)),u=!u),u&&St&&gs(r),y_(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));St=zT(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));St=zT(r)}else o===27?(o=St,Ns(r.type)?(r=Nm,Nm=null,St=r):St=o):St=fn?pi(r.stateNode.nextSibling):null;return!0}function Io(){St=fn=null,Xe=!1}function lp(){var r=ms;return r!==null&&(Ln===null?Ln=r:Ln.push.apply(Ln,r),ms=null),r}function su(r){ms===null?ms=[r]:ms.push(r)}var up=Y(null),Ro=null,Rr=null;function ys(r,o,u){L(up,o._currentValue),o._currentValue=u}function Nr(r){r._currentValue=up.current,se(up)}function cp(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function fp(r,o,u,f){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var E=v.dependencies;if(E!==null){var C=v.child;E=E.firstContext;e:for(;E!==null;){var b=E;E=v;for(var z=0;z<o.length;z++)if(b.context===o[z]){E.lanes|=u,b=E.alternate,b!==null&&(b.lanes|=u),cp(E.return,u,r),f||(C=null);break e}E=b.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=u,E=C.alternate,E!==null&&(E.lanes|=u),cp(C,u,r),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===r){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Ca(r,o,u,f){r=null;for(var v=o,E=!1;v!==null;){if(!E){if((v.flags&524288)!==0)E=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var b=v.type;Jn(v.pendingProps.value,C.value)||(r!==null?r.push(b):r=[b])}}else if(v===ze.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Mu):r=[Mu])}v=v.return}r!==null&&fp(o,r,u,f),o.flags|=262144}function hf(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function No(r){Ro=r,Rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return v_(Ro,r)}function pf(r,o){return Ro===null&&No(r),v_(r,o)}function v_(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Rr===null){if(r===null)throw Error(i(308));Rr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Rr=Rr.next=o;return u}var CR=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},wR=t.unstable_scheduleCallback,bR=t.unstable_NormalPriority,Gt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dp(){return{controller:new CR,data:new Map,refCount:0}}function ou(r){r.refCount--,r.refCount===0&&wR(bR,function(){r.controller.abort()})}var au=null,hp=0,wa=0,ba=null;function IR(r,o){if(au===null){var u=au=[];hp=0,wa=gm(),ba={status:"pending",value:void 0,then:function(f){u.push(f)}}}return hp++,o.then(__,__),o}function __(){if(--hp===0&&au!==null){ba!==null&&(ba.status="fulfilled");var r=au;au=null,wa=0,ba=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function RR(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var E_=Z.S;Z.S=function(r,o){iT=un(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&IR(r,o),E_!==null&&E_(r,o)};var Do=Y(null);function pp(){var r=Do.current;return r!==null?r:yt.pooledCache}function mf(r,o){o===null?L(Do,Do.current):L(Do,o.pool)}function T_(){var r=pp();return r===null?null:{parent:Gt._currentValue,pool:r}}var Ia=Error(i(460)),mp=Error(i(474)),gf=Error(i(542)),yf={then:function(){}};function S_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function x_(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Ci,Ci),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,C_(r),r;default:if(typeof o.status=="string")o.then(Ci,Ci);else{if(r=yt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=f}},function(f){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,C_(r),r}throw Po=o,Ia}}function Mo(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Po=u,Ia):u}}var Po=null;function A_(){if(Po===null)throw Error(i(459));var r=Po;return Po=null,r}function C_(r){if(r===Ia||r===gf)throw Error(i(483))}var Ra=null,lu=0;function vf(r){var o=lu;return lu+=1,Ra===null&&(Ra=[]),x_(Ra,r,o)}function uu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function _f(r,o){throw o.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function w_(r){function o(K,J){if(r){var W=K.deletions;W===null?(K.deletions=[J],K.flags|=16):W.push(J)}}function u(K,J){if(!r)return null;for(;J!==null;)o(K,J),J=J.sibling;return null}function f(K){for(var J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function v(K,J){return K=br(K,J),K.index=0,K.sibling=null,K}function E(K,J,W){return K.index=W,r?(W=K.alternate,W!==null?(W=W.index,W<J?(K.flags|=67108866,J):W):(K.flags|=67108866,J)):(K.flags|=1048576,J)}function C(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function b(K,J,W,ae){return J===null||J.tag!==6?(J=ip(W,K.mode,ae),J.return=K,J):(J=v(J,W),J.return=K,J)}function z(K,J,W,ae){var we=W.type;return we===D?ie(K,J,W.props.children,ae,W.key):J!==null&&(J.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===k&&Mo(we)===J.type)?(J=v(J,W.props),uu(J,W),J.return=K,J):(J=ff(W.type,W.key,W.props,null,K.mode,ae),uu(J,W),J.return=K,J)}function X(K,J,W,ae){return J===null||J.tag!==4||J.stateNode.containerInfo!==W.containerInfo||J.stateNode.implementation!==W.implementation?(J=rp(W,K.mode,ae),J.return=K,J):(J=v(J,W.children||[]),J.return=K,J)}function ie(K,J,W,ae,we){return J===null||J.tag!==7?(J=bo(W,K.mode,ae,we),J.return=K,J):(J=v(J,W),J.return=K,J)}function ue(K,J,W){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=ip(""+J,K.mode,W),J.return=K,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return W=ff(J.type,J.key,J.props,null,K.mode,W),uu(W,J),W.return=K,W;case I:return J=rp(J,K.mode,W),J.return=K,J;case k:return J=Mo(J),ue(K,J,W)}if(_e(J)||F(J))return J=bo(J,K.mode,W,null),J.return=K,J;if(typeof J.then=="function")return ue(K,vf(J),W);if(J.$$typeof===H)return ue(K,pf(K,J),W);_f(K,J)}return null}function ee(K,J,W,ae){var we=J!==null?J.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return we!==null?null:b(K,J,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===we?z(K,J,W,ae):null;case I:return W.key===we?X(K,J,W,ae):null;case k:return W=Mo(W),ee(K,J,W,ae)}if(_e(W)||F(W))return we!==null?null:ie(K,J,W,ae,null);if(typeof W.then=="function")return ee(K,J,vf(W),ae);if(W.$$typeof===H)return ee(K,J,pf(K,W),ae);_f(K,W)}return null}function ne(K,J,W,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(W)||null,b(J,K,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return K=K.get(ae.key===null?W:ae.key)||null,z(J,K,ae,we);case I:return K=K.get(ae.key===null?W:ae.key)||null,X(J,K,ae,we);case k:return ae=Mo(ae),ne(K,J,W,ae,we)}if(_e(ae)||F(ae))return K=K.get(W)||null,ie(J,K,ae,we,null);if(typeof ae.then=="function")return ne(K,J,W,vf(ae),we);if(ae.$$typeof===H)return ne(K,J,W,pf(J,ae),we);_f(J,ae)}return null}function Se(K,J,W,ae){for(var we=null,tt=null,Ae=J,Be=J=0,Ke=null;Ae!==null&&Be<W.length;Be++){Ae.index>Be?(Ke=Ae,Ae=null):Ke=Ae.sibling;var nt=ee(K,Ae,W[Be],ae);if(nt===null){Ae===null&&(Ae=Ke);break}r&&Ae&&nt.alternate===null&&o(K,Ae),J=E(nt,J,Be),tt===null?we=nt:tt.sibling=nt,tt=nt,Ae=Ke}if(Be===W.length)return u(K,Ae),Xe&&Ir(K,Be),we;if(Ae===null){for(;Be<W.length;Be++)Ae=ue(K,W[Be],ae),Ae!==null&&(J=E(Ae,J,Be),tt===null?we=Ae:tt.sibling=Ae,tt=Ae);return Xe&&Ir(K,Be),we}for(Ae=f(Ae);Be<W.length;Be++)Ke=ne(Ae,K,Be,W[Be],ae),Ke!==null&&(r&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Be:Ke.key),J=E(Ke,J,Be),tt===null?we=Ke:tt.sibling=Ke,tt=Ke);return r&&Ae.forEach(function(Ls){return o(K,Ls)}),Xe&&Ir(K,Be),we}function Ne(K,J,W,ae){if(W==null)throw Error(i(151));for(var we=null,tt=null,Ae=J,Be=J=0,Ke=null,nt=W.next();Ae!==null&&!nt.done;Be++,nt=W.next()){Ae.index>Be?(Ke=Ae,Ae=null):Ke=Ae.sibling;var Ls=ee(K,Ae,nt.value,ae);if(Ls===null){Ae===null&&(Ae=Ke);break}r&&Ae&&Ls.alternate===null&&o(K,Ae),J=E(Ls,J,Be),tt===null?we=Ls:tt.sibling=Ls,tt=Ls,Ae=Ke}if(nt.done)return u(K,Ae),Xe&&Ir(K,Be),we;if(Ae===null){for(;!nt.done;Be++,nt=W.next())nt=ue(K,nt.value,ae),nt!==null&&(J=E(nt,J,Be),tt===null?we=nt:tt.sibling=nt,tt=nt);return Xe&&Ir(K,Be),we}for(Ae=f(Ae);!nt.done;Be++,nt=W.next())nt=ne(Ae,K,Be,nt.value,ae),nt!==null&&(r&&nt.alternate!==null&&Ae.delete(nt.key===null?Be:nt.key),J=E(nt,J,Be),tt===null?we=nt:tt.sibling=nt,tt=nt);return r&&Ae.forEach(function(BN){return o(K,BN)}),Xe&&Ir(K,Be),we}function gt(K,J,W,ae){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:e:{for(var we=W.key;J!==null;){if(J.key===we){if(we=W.type,we===D){if(J.tag===7){u(K,J.sibling),ae=v(J,W.props.children),ae.return=K,K=ae;break e}}else if(J.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===k&&Mo(we)===J.type){u(K,J.sibling),ae=v(J,W.props),uu(ae,W),ae.return=K,K=ae;break e}u(K,J);break}else o(K,J);J=J.sibling}W.type===D?(ae=bo(W.props.children,K.mode,ae,W.key),ae.return=K,K=ae):(ae=ff(W.type,W.key,W.props,null,K.mode,ae),uu(ae,W),ae.return=K,K=ae)}return C(K);case I:e:{for(we=W.key;J!==null;){if(J.key===we)if(J.tag===4&&J.stateNode.containerInfo===W.containerInfo&&J.stateNode.implementation===W.implementation){u(K,J.sibling),ae=v(J,W.children||[]),ae.return=K,K=ae;break e}else{u(K,J);break}else o(K,J);J=J.sibling}ae=rp(W,K.mode,ae),ae.return=K,K=ae}return C(K);case k:return W=Mo(W),gt(K,J,W,ae)}if(_e(W))return Se(K,J,W,ae);if(F(W)){if(we=F(W),typeof we!="function")throw Error(i(150));return W=we.call(W),Ne(K,J,W,ae)}if(typeof W.then=="function")return gt(K,J,vf(W),ae);if(W.$$typeof===H)return gt(K,J,pf(K,W),ae);_f(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,J!==null&&J.tag===6?(u(K,J.sibling),ae=v(J,W),ae.return=K,K=ae):(u(K,J),ae=ip(W,K.mode,ae),ae.return=K,K=ae),C(K)):u(K,J)}return function(K,J,W,ae){try{lu=0;var we=gt(K,J,W,ae);return Ra=null,we}catch(Ae){if(Ae===Ia||Ae===gf)throw Ae;var tt=Kn(29,Ae,null,K.mode);return tt.lanes=ae,tt.return=K,tt}finally{}}}var ko=w_(!0),b_=w_(!1),vs=!1;function gp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _s(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Es(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,o=cf(r),c_(r,null,u),o}return uf(r,f,o,u),cf(r)}function cu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Ul(r,u)}}function vp(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?v=E=C:E=E.next=C,u=u.next}while(u!==null);E===null?v=E=o:E=E.next=o}else v=E=o;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var _p=!1;function fu(){if(_p){var r=ba;if(r!==null)throw r}}function du(r,o,u,f){_p=!1;var v=r.updateQueue;vs=!1;var E=v.firstBaseUpdate,C=v.lastBaseUpdate,b=v.shared.pending;if(b!==null){v.shared.pending=null;var z=b,X=z.next;z.next=null,C===null?E=X:C.next=X,C=z;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,b=ie.lastBaseUpdate,b!==C&&(b===null?ie.firstBaseUpdate=X:b.next=X,ie.lastBaseUpdate=z))}if(E!==null){var ue=v.baseState;C=0,ie=X=z=null,b=E;do{var ee=b.lane&-536870913,ne=ee!==b.lane;if(ne?(Je&ee)===ee:(f&ee)===ee){ee!==0&&ee===wa&&(_p=!0),ie!==null&&(ie=ie.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=r,Ne=b;ee=o;var gt=u;switch(Ne.tag){case 1:if(Se=Ne.payload,typeof Se=="function"){ue=Se.call(gt,ue,ee);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ne.payload,ee=typeof Se=="function"?Se.call(gt,ue,ee):Se,ee==null)break e;ue=_({},ue,ee);break e;case 2:vs=!0}}ee=b.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ie===null?(X=ie=ne,z=ue):ie=ie.next=ne,C|=ee;if(b=b.next,b===null){if(b=v.shared.pending,b===null)break;ne=b,b=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);ie===null&&(z=ue),v.baseState=z,v.firstBaseUpdate=X,v.lastBaseUpdate=ie,E===null&&(v.shared.lanes=0),Cs|=C,r.lanes=C,r.memoizedState=ue}}function I_(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function R_(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)I_(u[r],o)}var Na=Y(null),Ef=Y(0);function N_(r,o){r=Fr,L(Ef,r),L(Na,o),Fr=r|o.baseLanes}function Ep(){L(Ef,Fr),L(Na,Na.current)}function Tp(){Fr=Ef.current,se(Na),se(Ef)}var $n=Y(null),hi=null;function Ts(r){var o=r.alternate;L(Vt,Vt.current&1),L($n,r),hi===null&&(o===null||Na.current!==null||o.memoizedState!==null)&&(hi=r)}function Sp(r){L(Vt,Vt.current),L($n,r),hi===null&&(hi=r)}function D_(r){r.tag===22?(L(Vt,Vt.current),L($n,r),hi===null&&(hi=r)):Ss()}function Ss(){L(Vt,Vt.current),L($n,$n.current)}function jn(r){se($n),hi===r&&(hi=null),se(Vt)}var Vt=Y(0);function Tf(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Im(u)||Rm(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dr=0,Fe=null,pt=null,Yt=null,Sf=!1,Da=!1,Lo=!1,xf=0,hu=0,Ma=null,NR=0;function Mt(){throw Error(i(321))}function xp(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Jn(r[u],o[u]))return!1;return!0}function Ap(r,o,u,f,v,E){return Dr=E,Fe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=r===null||r.memoizedState===null?pE:Fp,Lo=!1,E=u(f,v),Lo=!1,Da&&(E=P_(o,u,f,v)),M_(r),E}function M_(r){Z.H=gu;var o=pt!==null&&pt.next!==null;if(Dr=0,Yt=pt=Fe=null,Sf=!1,hu=0,Ma=null,o)throw Error(i(300));r===null||Jt||(r=r.dependencies,r!==null&&hf(r)&&(Jt=!0))}function P_(r,o,u,f){Fe=r;var v=0;do{if(Da&&(Ma=null),hu=0,Da=!1,25<=v)throw Error(i(301));if(v+=1,Yt=pt=null,r.updateQueue!=null){var E=r.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Z.H=mE,E=o(u,f)}while(Da);return E}function DR(){var r=Z.H,o=r.useState()[0];return o=typeof o.then=="function"?pu(o):o,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(Fe.flags|=1024),o}function Cp(){var r=xf!==0;return xf=0,r}function wp(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function bp(r){if(Sf){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Sf=!1}Dr=0,Yt=pt=Fe=null,Da=!1,hu=xf=0,Ma=null}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Fe.memoizedState=Yt=r:Yt=Yt.next=r,Yt}function Ut(){if(pt===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var o=Yt===null?Fe.memoizedState:Yt.next;if(o!==null)Yt=o,pt=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?Fe.memoizedState=Yt=r:Yt=Yt.next=r}return Yt}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(r){var o=hu;return hu+=1,Ma===null&&(Ma=[]),r=x_(Ma,r,o),o=Fe,(Yt===null?o.memoizedState:Yt.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?pE:Fp),r}function Cf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return pu(r);if(r.$$typeof===H)return dn(r)}throw Error(i(438,String(r)))}function Ip(r){var o=null,u=Fe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Fe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Af(),Fe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=U;return o.index++,u}function Mr(r,o){return typeof o=="function"?o(r):o}function wf(r){var o=Ut();return Rp(o,pt,r)}function Rp(r,o,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var v=r.baseQueue,E=f.pending;if(E!==null){if(v!==null){var C=v.next;v.next=E.next,E.next=C}o.baseQueue=v=E,f.pending=null}if(E=r.baseState,v===null)r.memoizedState=E;else{o=v.next;var b=C=null,z=null,X=o,ie=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(Je&ue)===ue:(Dr&ue)===ue){var ee=X.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===wa&&(ie=!0);else if((Dr&ee)===ee){X=X.next,ee===wa&&(ie=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(b=z=ue,C=E):z=z.next=ue,Fe.lanes|=ee,Cs|=ee;ue=X.action,Lo&&u(E,ue),E=X.hasEagerState?X.eagerState:u(E,ue)}else ee={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(b=z=ee,C=E):z=z.next=ee,Fe.lanes|=ue,Cs|=ue;X=X.next}while(X!==null&&X!==o);if(z===null?C=E:z.next=b,!Jn(E,r.memoizedState)&&(Jt=!0,ie&&(u=ba,u!==null)))throw u;r.memoizedState=E,r.baseState=C,r.baseQueue=z,f.lastRenderedState=E}return v===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Np(r){var o=Ut(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,v=u.pending,E=o.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do E=r(E,C.action),C=C.next;while(C!==v);Jn(E,o.memoizedState)||(Jt=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),u.lastRenderedState=E}return[E,f]}function k_(r,o,u){var f=Fe,v=Ut(),E=Xe;if(E){if(u===void 0)throw Error(i(407));u=u()}else u=o();var C=!Jn((pt||v).memoizedState,u);if(C&&(v.memoizedState=u,Jt=!0),v=v.queue,Pp(U_.bind(null,f,v,r),[r]),v.getSnapshot!==o||C||Yt!==null&&Yt.memoizedState.tag&1){if(f.flags|=2048,Pa(9,{destroy:void 0},V_.bind(null,f,v,u,o),null),yt===null)throw Error(i(349));E||(Dr&127)!==0||L_(f,o,u)}return u}function L_(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Fe.updateQueue,o===null?(o=Af(),Fe.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function V_(r,o,u,f){o.value=u,o.getSnapshot=f,O_(o)&&F_(r)}function U_(r,o,u){return u(function(){O_(o)&&F_(r)})}function O_(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Jn(r,u)}catch{return!0}}function F_(r){var o=wo(r,2);o!==null&&Vn(o,r,2)}function Dp(r){var o=In();if(typeof r=="function"){var u=r;if(r=u(),Lo){rn(!0);try{u()}finally{rn(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:r},o}function B_(r,o,u,f){return r.baseState=u,Rp(r,pt,typeof f=="function"?f:Mr)}function MR(r,o,u,f,v){if(Rf(r))throw Error(i(485));if(r=o.action,r!==null){var E={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){E.listeners.push(C)}};Z.T!==null?u(!0):E.isTransition=!1,f(E),u=o.pending,u===null?(E.next=o.pending=E,q_(o,E)):(E.next=u.next,o.pending=u.next=E)}}function q_(r,o){var u=o.action,f=o.payload,v=r.state;if(o.isTransition){var E=Z.T,C={};Z.T=C;try{var b=u(v,f),z=Z.S;z!==null&&z(C,b),z_(r,o,b)}catch(X){Mp(r,o,X)}finally{E!==null&&C.types!==null&&(E.types=C.types),Z.T=E}}else try{E=u(v,f),z_(r,o,E)}catch(X){Mp(r,o,X)}}function z_(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){H_(r,o,f)},function(f){return Mp(r,o,f)}):H_(r,o,u)}function H_(r,o,u){o.status="fulfilled",o.value=u,G_(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,q_(r,u)))}function Mp(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,G_(o),o=o.next;while(o!==f)}r.action=null}function G_(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Y_(r,o){return o}function J_(r,o){if(Xe){var u=yt.formState;if(u!==null){e:{var f=Fe;if(Xe){if(St){t:{for(var v=St,E=di;v.nodeType!==8;){if(!E){v=null;break t}if(v=pi(v.nextSibling),v===null){v=null;break t}}E=v.data,v=E==="F!"||E==="F"?v:null}if(v){St=pi(v.nextSibling),f=v.data==="F!";break e}}gs(f)}f=!1}f&&(o=u[0])}}return u=In(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y_,lastRenderedState:o},u.queue=f,u=fE.bind(null,Fe,f),f.dispatch=u,f=Dp(!1),E=Op.bind(null,Fe,!1,f.queue),f=In(),v={state:o,dispatch:null,action:r,pending:null},f.queue=v,u=MR.bind(null,Fe,v,E,u),v.dispatch=u,f.memoizedState=r,[o,u,!1]}function K_(r){var o=Ut();return $_(o,pt,r)}function $_(r,o,u){if(o=Rp(r,o,Y_)[0],r=wf(Mr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=pu(o)}catch(C){throw C===Ia?gf:C}else f=o;o=Ut();var v=o.queue,E=v.dispatch;return u!==o.memoizedState&&(Fe.flags|=2048,Pa(9,{destroy:void 0},PR.bind(null,v,u),null)),[f,E,r]}function PR(r,o){r.action=o}function j_(r){var o=Ut(),u=pt;if(u!==null)return $_(o,u,r);Ut(),o=o.memoizedState,u=Ut();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function Pa(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=Fe.updateQueue,o===null&&(o=Af(),Fe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Q_(){return Ut().memoizedState}function bf(r,o,u,f){var v=In();Fe.flags|=r,v.memoizedState=Pa(1|o,{destroy:void 0},u,f===void 0?null:f)}function If(r,o,u,f){var v=Ut();f=f===void 0?null:f;var E=v.memoizedState.inst;pt!==null&&f!==null&&xp(f,pt.memoizedState.deps)?v.memoizedState=Pa(o,E,u,f):(Fe.flags|=r,v.memoizedState=Pa(1|o,E,u,f))}function W_(r,o){bf(8390656,8,r,o)}function Pp(r,o){If(2048,8,r,o)}function kR(r){Fe.flags|=4;var o=Fe.updateQueue;if(o===null)o=Af(),Fe.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function X_(r){var o=Ut().memoizedState;return kR({ref:o,nextImpl:r}),function(){if((ot&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Z_(r,o){return If(4,2,r,o)}function eE(r,o){return If(4,4,r,o)}function tE(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function nE(r,o,u){u=u!=null?u.concat([r]):null,If(4,4,tE.bind(null,o,r),u)}function kp(){}function iE(r,o){var u=Ut();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&xp(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function rE(r,o){var u=Ut();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&xp(o,f[1]))return f[0];if(f=r(),Lo){rn(!0);try{r()}finally{rn(!1)}}return u.memoizedState=[f,o],f}function Lp(r,o,u){return u===void 0||(Dr&1073741824)!==0&&(Je&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=sT(),Fe.lanes|=r,Cs|=r,u)}function sE(r,o,u,f){return Jn(u,o)?u:Na.current!==null?(r=Lp(r,u,f),Jn(r,o)||(Jt=!0),r):(Dr&42)===0||(Dr&1073741824)!==0&&(Je&261930)===0?(Jt=!0,r.memoizedState=u):(r=sT(),Fe.lanes|=r,Cs|=r,o)}function oE(r,o,u,f,v){var E=de.p;de.p=E!==0&&8>E?E:8;var C=Z.T,b={};Z.T=b,Op(r,!1,o,u);try{var z=v(),X=Z.S;if(X!==null&&X(b,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=RR(z,f);mu(r,o,ie,Xn(r))}else mu(r,o,f,Xn(r))}catch(ue){mu(r,o,{then:function(){},status:"rejected",reason:ue},Xn())}finally{de.p=E,C!==null&&b.types!==null&&(C.types=b.types),Z.T=C}}function LR(){}function Vp(r,o,u,f){if(r.tag!==5)throw Error(i(476));var v=aE(r).queue;oE(r,v,o,Te,u===null?LR:function(){return lE(r),u(f)})}function aE(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:Te},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function lE(r){var o=aE(r);o.next===null&&(o=r.alternate.memoizedState),mu(r,o.next.queue,{},Xn())}function Up(){return dn(Mu)}function uE(){return Ut().memoizedState}function cE(){return Ut().memoizedState}function VR(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Xn();r=_s(u);var f=Es(o,r,u);f!==null&&(Vn(f,o,u),cu(f,o,u)),o={cache:dp()},r.payload=o;return}o=o.return}}function UR(r,o,u){var f=Xn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Rf(r)?dE(o,u):(u=tp(r,o,u,f),u!==null&&(Vn(u,r,f),hE(u,o,f)))}function fE(r,o,u){var f=Xn();mu(r,o,u,f)}function mu(r,o,u,f){var v={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Rf(r))dE(o,v);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var C=o.lastRenderedState,b=E(C,u);if(v.hasEagerState=!0,v.eagerState=b,Jn(b,C))return uf(r,o,v,0),yt===null&&lf(),!1}catch{}finally{}if(u=tp(r,o,v,f),u!==null)return Vn(u,r,f),hE(u,o,f),!0}return!1}function Op(r,o,u,f){if(f={lane:2,revertLane:gm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Rf(r)){if(o)throw Error(i(479))}else o=tp(r,u,f,2),o!==null&&Vn(o,r,2)}function Rf(r){var o=r.alternate;return r===Fe||o!==null&&o===Fe}function dE(r,o){Da=Sf=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function hE(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Ul(r,u)}}var gu={readContext:dn,use:Cf,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};gu.useEffectEvent=Mt;var pE={readContext:dn,use:Cf,useCallback:function(r,o){return In().memoizedState=[r,o===void 0?null:o],r},useContext:dn,useEffect:W_,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,bf(4194308,4,tE.bind(null,o,r),u)},useLayoutEffect:function(r,o){return bf(4194308,4,r,o)},useInsertionEffect:function(r,o){bf(4,2,r,o)},useMemo:function(r,o){var u=In();o=o===void 0?null:o;var f=r();if(Lo){rn(!0);try{r()}finally{rn(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=In();if(u!==void 0){var v=u(o);if(Lo){rn(!0);try{u(o)}finally{rn(!1)}}}else v=o;return f.memoizedState=f.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},f.queue=r,r=r.dispatch=UR.bind(null,Fe,r),[f.memoizedState,r]},useRef:function(r){var o=In();return r={current:r},o.memoizedState=r},useState:function(r){r=Dp(r);var o=r.queue,u=fE.bind(null,Fe,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:kp,useDeferredValue:function(r,o){var u=In();return Lp(u,r,o)},useTransition:function(){var r=Dp(!1);return r=oE.bind(null,Fe,r.queue,!0,!1),In().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=Fe,v=In();if(Xe){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),yt===null)throw Error(i(349));(Je&127)!==0||L_(f,o,u)}v.memoizedState=u;var E={value:u,getSnapshot:o};return v.queue=E,W_(U_.bind(null,f,E,r),[r]),f.flags|=2048,Pa(9,{destroy:void 0},V_.bind(null,f,E,u,o),null),u},useId:function(){var r=In(),o=yt.identifierPrefix;if(Xe){var u=or,f=sr;u=(f&~(1<<32-We(f)-1)).toString(32)+u,o="_"+o+"R_"+u,u=xf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=NR++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Up,useFormState:J_,useActionState:J_,useOptimistic:function(r){var o=In();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Op.bind(null,Fe,!0,u),u.dispatch=o,[r,o]},useMemoCache:Ip,useCacheRefresh:function(){return In().memoizedState=VR.bind(null,Fe)},useEffectEvent:function(r){var o=In(),u={impl:r};return o.memoizedState=u,function(){if((ot&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Fp={readContext:dn,use:Cf,useCallback:iE,useContext:dn,useEffect:Pp,useImperativeHandle:nE,useInsertionEffect:Z_,useLayoutEffect:eE,useMemo:rE,useReducer:wf,useRef:Q_,useState:function(){return wf(Mr)},useDebugValue:kp,useDeferredValue:function(r,o){var u=Ut();return sE(u,pt.memoizedState,r,o)},useTransition:function(){var r=wf(Mr)[0],o=Ut().memoizedState;return[typeof r=="boolean"?r:pu(r),o]},useSyncExternalStore:k_,useId:uE,useHostTransitionStatus:Up,useFormState:K_,useActionState:K_,useOptimistic:function(r,o){var u=Ut();return B_(u,pt,r,o)},useMemoCache:Ip,useCacheRefresh:cE};Fp.useEffectEvent=X_;var mE={readContext:dn,use:Cf,useCallback:iE,useContext:dn,useEffect:Pp,useImperativeHandle:nE,useInsertionEffect:Z_,useLayoutEffect:eE,useMemo:rE,useReducer:Np,useRef:Q_,useState:function(){return Np(Mr)},useDebugValue:kp,useDeferredValue:function(r,o){var u=Ut();return pt===null?Lp(u,r,o):sE(u,pt.memoizedState,r,o)},useTransition:function(){var r=Np(Mr)[0],o=Ut().memoizedState;return[typeof r=="boolean"?r:pu(r),o]},useSyncExternalStore:k_,useId:uE,useHostTransitionStatus:Up,useFormState:j_,useActionState:j_,useOptimistic:function(r,o){var u=Ut();return pt!==null?B_(u,pt,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:cE};mE.useEffectEvent=X_;function Bp(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:_({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var qp={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=Xn(),v=_s(f);v.payload=o,u!=null&&(v.callback=u),o=Es(r,v,f),o!==null&&(Vn(o,r,f),cu(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=Xn(),v=_s(f);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Es(r,v,f),o!==null&&(Vn(o,r,f),cu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Xn(),f=_s(u);f.tag=2,o!=null&&(f.callback=o),o=Es(r,f,u),o!==null&&(Vn(o,r,u),cu(o,r,u))}};function gE(r,o,u,f,v,E,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,E,C):o.prototype&&o.prototype.isPureReactComponent?!nu(u,f)||!nu(v,E):!0}function yE(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&qp.enqueueReplaceState(o,o.state,null)}function Vo(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=_({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}function vE(r){af(r)}function _E(r){console.error(r)}function EE(r){af(r)}function Nf(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function TE(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zp(r,o,u){return u=_s(u),u.tag=3,u.payload={element:null},u.callback=function(){Nf(r,o)},u}function SE(r){return r=_s(r),r.tag=3,r}function xE(r,o,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var E=f.value;r.payload=function(){return v(E)},r.callback=function(){TE(o,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){TE(o,u,f),typeof v!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var b=f.stack;this.componentDidCatch(f.value,{componentStack:b!==null?b:""})})}function OR(r,o,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Ca(o,u,v,!0),u=$n.current,u!==null){switch(u.tag){case 31:case 13:return hi===null?zf():u.alternate===null&&Pt===0&&(Pt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===yf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),hm(r,f,v)),!1;case 22:return u.flags|=65536,f===yf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),hm(r,f,v)),!1}throw Error(i(435,u.tag))}return hm(r,f,v),zf(),!1}if(Xe)return o=$n.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,f!==ap&&(r=Error(i(422),{cause:f}),su(ui(r,u)))):(f!==ap&&(o=Error(i(423),{cause:f}),su(ui(o,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,f=ui(f,u),v=zp(r.stateNode,f,v),vp(r,v),Pt!==4&&(Pt=2)),!1;var E=Error(i(520),{cause:f});if(E=ui(E,u),Au===null?Au=[E]:Au.push(E),Pt!==4&&(Pt=2),o===null)return!0;f=ui(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=zp(u.stateNode,f,r),vp(u,r),!1;case 1:if(o=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ws===null||!ws.has(E))))return u.flags|=65536,v&=-v,u.lanes|=v,v=SE(v),xE(v,r,u,f),vp(u,v),!1}u=u.return}while(u!==null);return!1}var Hp=Error(i(461)),Jt=!1;function hn(r,o,u,f){o.child=r===null?b_(o,null,u,f):ko(o,r.child,u,f)}function AE(r,o,u,f,v){u=u.render;var E=o.ref;if("ref"in f){var C={};for(var b in f)b!=="ref"&&(C[b]=f[b])}else C=f;return No(o),f=Ap(r,o,u,C,E,v),b=Cp(),r!==null&&!Jt?(wp(r,o,v),Pr(r,o,v)):(Xe&&b&&sp(o),o.flags|=1,hn(r,o,f,v),o.child)}function CE(r,o,u,f,v){if(r===null){var E=u.type;return typeof E=="function"&&!np(E)&&E.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=E,wE(r,o,E,f,v)):(r=ff(u.type,null,f,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(E=r.child,!Wp(r,v)){var C=E.memoizedProps;if(u=u.compare,u=u!==null?u:nu,u(C,f)&&r.ref===o.ref)return Pr(r,o,v)}return o.flags|=1,r=br(E,f),r.ref=o.ref,r.return=o,o.child=r}function wE(r,o,u,f,v){if(r!==null){var E=r.memoizedProps;if(nu(E,f)&&r.ref===o.ref)if(Jt=!1,o.pendingProps=f=E,Wp(r,v))(r.flags&131072)!==0&&(Jt=!0);else return o.lanes=r.lanes,Pr(r,o,v)}return Gp(r,o,u,f,v)}function bE(r,o,u,f){var v=f.children,E=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,r!==null){for(f=o.child=r.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~E}else f=0,o.child=null;return IE(r,o,E,u,f)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&mf(o,E!==null?E.cachePool:null),E!==null?N_(o,E):Ep(),D_(o);else return f=o.lanes=536870912,IE(r,o,E!==null?E.baseLanes|u:u,u,f)}else E!==null?(mf(o,E.cachePool),N_(o,E),Ss(),o.memoizedState=null):(r!==null&&mf(o,null),Ep(),Ss());return hn(r,o,v,u),o.child}function yu(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function IE(r,o,u,f,v){var E=pp();return E=E===null?null:{parent:Gt._currentValue,pool:E},o.memoizedState={baseLanes:u,cachePool:E},r!==null&&mf(o,null),Ep(),D_(o),r!==null&&Ca(r,o,f,!0),o.childLanes=v,null}function Df(r,o){return o=Pf({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function RE(r,o,u){return ko(o,r.child,null,u),r=Df(o,o.pendingProps),r.flags|=2,jn(o),o.memoizedState=null,r}function FR(r,o,u){var f=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Xe){if(f.mode==="hidden")return r=Df(o,f),o.lanes=536870912,yu(null,r);if(Sp(o),(r=St)?(r=qT(r,di),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ps!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},u=d_(r),u.return=o,o.child=u,fn=o,St=null)):r=null,r===null)throw gs(o);return o.lanes=536870912,null}return Df(o,f)}var E=r.memoizedState;if(E!==null){var C=E.dehydrated;if(Sp(o),v)if(o.flags&256)o.flags&=-257,o=RE(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Jt||Ca(r,o,u,!1),v=(u&r.childLanes)!==0,Jt||v){if(f=yt,f!==null&&(C=Ol(f,u),C!==0&&C!==E.retryLane))throw E.retryLane=C,wo(r,C),Vn(f,r,C),Hp;zf(),o=RE(r,o,u)}else r=E.treeContext,St=pi(C.nextSibling),fn=o,Xe=!0,ms=null,di=!1,r!==null&&m_(o,r),o=Df(o,f),o.flags|=4096;return o}return r=br(r.child,{mode:f.mode,children:f.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Mf(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Gp(r,o,u,f,v){return No(o),u=Ap(r,o,u,f,void 0,v),f=Cp(),r!==null&&!Jt?(wp(r,o,v),Pr(r,o,v)):(Xe&&f&&sp(o),o.flags|=1,hn(r,o,u,v),o.child)}function NE(r,o,u,f,v,E){return No(o),o.updateQueue=null,u=P_(o,f,u,v),M_(r),f=Cp(),r!==null&&!Jt?(wp(r,o,E),Pr(r,o,E)):(Xe&&f&&sp(o),o.flags|=1,hn(r,o,u,E),o.child)}function DE(r,o,u,f,v){if(No(o),o.stateNode===null){var E=Ta,C=u.contextType;typeof C=="object"&&C!==null&&(E=dn(C)),E=new u(f,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=qp,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=f,E.state=o.memoizedState,E.refs={},gp(o),C=u.contextType,E.context=typeof C=="object"&&C!==null?dn(C):Ta,E.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Bp(o,u,C,f),E.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(C=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),C!==E.state&&qp.enqueueReplaceState(E,E.state,null),du(o,f,E,v),fu(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){E=o.stateNode;var b=o.memoizedProps,z=Vo(u,b);E.props=z;var X=E.context,ie=u.contextType;C=Ta,typeof ie=="object"&&ie!==null&&(C=dn(ie));var ue=u.getDerivedStateFromProps;ie=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function",b=o.pendingProps!==b,ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b||X!==C)&&yE(o,E,f,C),vs=!1;var ee=o.memoizedState;E.state=ee,du(o,f,E,v),fu(),X=o.memoizedState,b||ee!==X||vs?(typeof ue=="function"&&(Bp(o,u,ue,f),X=o.memoizedState),(z=vs||gE(o,u,z,f,ee,X,C))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),E.props=f,E.state=X,E.context=C,f=z):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,yp(r,o),C=o.memoizedProps,ie=Vo(u,C),E.props=ie,ue=o.pendingProps,ee=E.context,X=u.contextType,z=Ta,typeof X=="object"&&X!==null&&(z=dn(X)),b=u.getDerivedStateFromProps,(X=typeof b=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ue||ee!==z)&&yE(o,E,f,z),vs=!1,ee=o.memoizedState,E.state=ee,du(o,f,E,v),fu();var ne=o.memoizedState;C!==ue||ee!==ne||vs||r!==null&&r.dependencies!==null&&hf(r.dependencies)?(typeof b=="function"&&(Bp(o,u,b,f),ne=o.memoizedState),(ie=vs||gE(o,u,ie,f,ee,ne,z)||r!==null&&r.dependencies!==null&&hf(r.dependencies))?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,ne,z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,ne,z)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ne),E.props=f,E.state=ne,E.context=z,f=ie):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),f=!1)}return E=f,Mf(r,o),f=(o.flags&128)!==0,E||f?(E=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,r!==null&&f?(o.child=ko(o,r.child,null,v),o.child=ko(o,null,u,v)):hn(r,o,u,v),o.memoizedState=E.state,r=o.child):r=Pr(r,o,v),r}function ME(r,o,u,f){return Io(),o.flags|=256,hn(r,o,u,f),o.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jp(r){return{baseLanes:r,cachePool:T_()}}function Kp(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Wn),r}function PE(r,o,u){var f=o.pendingProps,v=!1,E=(o.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),C&&(v=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,r===null){if(Xe){if(v?Ts(o):Ss(),(r=St)?(r=qT(r,di),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ps!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},u=d_(r),u.return=o,o.child=u,fn=o,St=null)):r=null,r===null)throw gs(o);return Rm(r)?o.lanes=32:o.lanes=536870912,null}var b=f.children;return f=f.fallback,v?(Ss(),v=o.mode,b=Pf({mode:"hidden",children:b},v),f=bo(f,v,u,null),b.return=o,f.return=o,b.sibling=f,o.child=b,f=o.child,f.memoizedState=Jp(u),f.childLanes=Kp(r,C,u),o.memoizedState=Yp,yu(null,f)):(Ts(o),$p(o,b))}var z=r.memoizedState;if(z!==null&&(b=z.dehydrated,b!==null)){if(E)o.flags&256?(Ts(o),o.flags&=-257,o=jp(r,o,u)):o.memoizedState!==null?(Ss(),o.child=r.child,o.flags|=128,o=null):(Ss(),b=f.fallback,v=o.mode,f=Pf({mode:"visible",children:f.children},v),b=bo(b,v,u,null),b.flags|=2,f.return=o,b.return=o,f.sibling=b,o.child=f,ko(o,r.child,null,u),f=o.child,f.memoizedState=Jp(u),f.childLanes=Kp(r,C,u),o.memoizedState=Yp,o=yu(null,f));else if(Ts(o),Rm(b)){if(C=b.nextSibling&&b.nextSibling.dataset,C)var X=C.dgst;C=X,f=Error(i(419)),f.stack="",f.digest=C,su({value:f,source:null,stack:null}),o=jp(r,o,u)}else if(Jt||Ca(r,o,u,!1),C=(u&r.childLanes)!==0,Jt||C){if(C=yt,C!==null&&(f=Ol(C,u),f!==0&&f!==z.retryLane))throw z.retryLane=f,wo(r,f),Vn(C,r,f),Hp;Im(b)||zf(),o=jp(r,o,u)}else Im(b)?(o.flags|=192,o.child=r.child,o=null):(r=z.treeContext,St=pi(b.nextSibling),fn=o,Xe=!0,ms=null,di=!1,r!==null&&m_(o,r),o=$p(o,f.children),o.flags|=4096);return o}return v?(Ss(),b=f.fallback,v=o.mode,z=r.child,X=z.sibling,f=br(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,X!==null?b=br(X,b):(b=bo(b,v,u,null),b.flags|=2),b.return=o,f.return=o,f.sibling=b,o.child=f,yu(null,f),f=o.child,b=r.child.memoizedState,b===null?b=Jp(u):(v=b.cachePool,v!==null?(z=Gt._currentValue,v=v.parent!==z?{parent:z,pool:z}:v):v=T_(),b={baseLanes:b.baseLanes|u,cachePool:v}),f.memoizedState=b,f.childLanes=Kp(r,C,u),o.memoizedState=Yp,yu(r.child,f)):(Ts(o),u=r.child,r=u.sibling,u=br(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(C=o.deletions,C===null?(o.deletions=[r],o.flags|=16):C.push(r)),o.child=u,o.memoizedState=null,u)}function $p(r,o){return o=Pf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Pf(r,o){return r=Kn(22,r,null,o),r.lanes=0,r}function jp(r,o,u){return ko(o,r.child,null,u),r=$p(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function kE(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),cp(r.return,o,u)}function Qp(r,o,u,f,v,E){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v,treeForkCount:E}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=u,C.tailMode=v,C.treeForkCount=E)}function LE(r,o,u){var f=o.pendingProps,v=f.revealOrder,E=f.tail;f=f.children;var C=Vt.current,b=(C&2)!==0;if(b?(C=C&1|2,o.flags|=128):C&=1,L(Vt,C),hn(r,o,f,u),f=Xe?ru:0,!b&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kE(r,u,o);else if(r.tag===19)kE(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&Tf(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Qp(o,!1,v,u,E,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&Tf(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}Qp(o,!0,u,null,E,f);break;case"together":Qp(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Pr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Cs|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Ca(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=br(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=br(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Wp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&hf(r)))}function BR(r,o,u){switch(o.tag){case 3:dt(o,o.stateNode.containerInfo),ys(o,Gt,r.memoizedState.cache),Io();break;case 27:case 5:Rn(o);break;case 4:dt(o,o.stateNode.containerInfo);break;case 10:ys(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sp(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ts(o),o.flags|=128,null):(u&o.child.childLanes)!==0?PE(r,o,u):(Ts(o),r=Pr(r,o,u),r!==null?r.sibling:null);Ts(o);break;case 19:var v=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Ca(r,o,u,!1),f=(u&o.childLanes)!==0),v){if(f)return LE(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),L(Vt,Vt.current),f)break;return null;case 22:return o.lanes=0,bE(r,o,u,o.pendingProps);case 24:ys(o,Gt,r.memoizedState.cache)}return Pr(r,o,u)}function VE(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Jt=!0;else{if(!Wp(r,u)&&(o.flags&128)===0)return Jt=!1,BR(r,o,u);Jt=(r.flags&131072)!==0}else Jt=!1,Xe&&(o.flags&1048576)!==0&&p_(o,ru,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(r=Mo(o.elementType),o.type=r,typeof r=="function")np(r)?(f=Vo(r,f),o.tag=1,o=DE(null,o,r,f,u)):(o.tag=0,o=Gp(null,o,r,f,u));else{if(r!=null){var v=r.$$typeof;if(v===re){o.tag=11,o=AE(null,o,r,f,u);break e}else if(v===M){o.tag=14,o=CE(null,o,r,f,u);break e}}throw o=pe(r)||r,Error(i(306,o,""))}}return o;case 0:return Gp(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,v=Vo(f,o.pendingProps),DE(r,o,f,v,u);case 3:e:{if(dt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var E=o.memoizedState;v=E.element,yp(r,o),du(o,f,null,u);var C=o.memoizedState;if(f=C.cache,ys(o,Gt,f),f!==E.cache&&fp(o,[Gt],u,!0),fu(),f=C.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=ME(r,o,f,u);break e}else if(f!==v){v=ui(Error(i(424)),o),su(v),o=ME(r,o,f,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(St=pi(r.firstChild),fn=o,Xe=!0,ms=null,di=!0,u=b_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Io(),f===v){o=Pr(r,o,u);break e}hn(r,o,f,u)}o=o.child}return o;case 26:return Mf(r,o),r===null?(u=KT(o.type,null,o.pendingProps,null))?o.memoizedState=u:Xe||(u=o.type,r=o.pendingProps,f=jf(Ce.current).createElement(u),f[qt]=o,f[sn]=r,pn(f,u,r),zt(f),o.stateNode=f):o.memoizedState=KT(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Rn(o),r===null&&Xe&&(f=o.stateNode=GT(o.type,o.pendingProps,Ce.current),fn=o,di=!0,v=St,Ns(o.type)?(Nm=v,St=pi(f.firstChild)):St=v),hn(r,o,o.pendingProps.children,u),Mf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Xe&&((v=f=St)&&(f=gN(f,o.type,o.pendingProps,di),f!==null?(o.stateNode=f,fn=o,St=pi(f.firstChild),di=!1,v=!0):v=!1),v||gs(o)),Rn(o),v=o.type,E=o.pendingProps,C=r!==null?r.memoizedProps:null,f=E.children,Cm(v,E)?f=null:C!==null&&Cm(v,C)&&(o.flags|=32),o.memoizedState!==null&&(v=Ap(r,o,DR,null,null,u),Mu._currentValue=v),Mf(r,o),hn(r,o,f,u),o.child;case 6:return r===null&&Xe&&((r=u=St)&&(u=yN(u,o.pendingProps,di),u!==null?(o.stateNode=u,fn=o,St=null,r=!0):r=!1),r||gs(o)),null;case 13:return PE(r,o,u);case 4:return dt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=ko(o,null,f,u):hn(r,o,f,u),o.child;case 11:return AE(r,o,o.type,o.pendingProps,u);case 7:return hn(r,o,o.pendingProps,u),o.child;case 8:return hn(r,o,o.pendingProps.children,u),o.child;case 12:return hn(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,ys(o,o.type,f.value),hn(r,o,f.children,u),o.child;case 9:return v=o.type._context,f=o.pendingProps.children,No(o),v=dn(v),f=f(v),o.flags|=1,hn(r,o,f,u),o.child;case 14:return CE(r,o,o.type,o.pendingProps,u);case 15:return wE(r,o,o.type,o.pendingProps,u);case 19:return LE(r,o,u);case 31:return FR(r,o,u);case 22:return bE(r,o,u,o.pendingProps);case 24:return No(o),f=dn(Gt),r===null?(v=pp(),v===null&&(v=yt,E=dp(),v.pooledCache=E,E.refCount++,E!==null&&(v.pooledCacheLanes|=u),v=E),o.memoizedState={parent:f,cache:v},gp(o),ys(o,Gt,v)):((r.lanes&u)!==0&&(yp(r,o),du(o,null,null,u),fu()),v=r.memoizedState,E=o.memoizedState,v.parent!==f?(v={parent:f,cache:f},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ys(o,Gt,f)):(f=E.cache,ys(o,Gt,f),f!==v.cache&&fp(o,[Gt],u,!0))),hn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function kr(r){r.flags|=4}function Xp(r,o,u,f,v){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(uT())r.flags|=8192;else throw Po=yf,mp}else r.flags&=-16777217}function UE(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!XT(o))if(uT())r.flags|=8192;else throw Po=yf,mp}function kf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Fc():536870912,r.lanes|=o,Ua|=o)}function vu(r,o){if(!Xe)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function xt(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function qR(r,o,u){var f=o.pendingProps;switch(op(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(o),null;case 1:return xt(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Nr(Gt),rt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Aa(o)?kr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,lp())),xt(o),null;case 26:var v=o.type,E=o.memoizedState;return r===null?(kr(o),E!==null?(xt(o),UE(o,E)):(xt(o),Xp(o,v,null,f,u))):E?E!==r.memoizedState?(kr(o),xt(o),UE(o,E)):(xt(o),o.flags&=-16777217):(r=r.memoizedProps,r!==f&&kr(o),xt(o),Xp(o,v,r,f,u)),null;case 27:if(Ei(o),u=Ce.current,v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&kr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return xt(o),null}r=ye.current,Aa(o)?g_(o):(r=GT(v,f,u),o.stateNode=r,kr(o))}return xt(o),null;case 5:if(Ei(o),v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&kr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return xt(o),null}if(E=ye.current,Aa(o))g_(o);else{var C=jf(Ce.current);switch(E){case 1:E=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:E=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":E=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":E=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":E=C.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?E.multiple=!0:f.size&&(E.size=f.size);break;default:E=typeof f.is=="string"?C.createElement(v,{is:f.is}):C.createElement(v)}}E[qt]=o,E[sn]=f;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)E.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=E;e:switch(pn(E,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&kr(o)}}return xt(o),Xp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&kr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=Ce.current,Aa(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,v=fn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}r[qt]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||PT(r.nodeValue,u)),r||gs(o,!0)}else r=jf(r).createTextNode(f),r[qt]=o,o.stateNode=r}return xt(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(f=Aa(o),u!==null){if(r===null){if(!f)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[qt]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xt(o),r=!1}else u=lp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(jn(o),o):(jn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return xt(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Aa(o),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[qt]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xt(o),v=!1}else v=lp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(jn(o),o):(jn(o),null)}return jn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=f!==null,r=r!==null&&r.memoizedState!==null,u&&(f=o.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==v&&(f.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),kf(o,o.updateQueue),xt(o),null);case 4:return rt(),r===null&&Em(o.stateNode.containerInfo),xt(o),null;case 10:return Nr(o.type),xt(o),null;case 19:if(se(Vt),f=o.memoizedState,f===null)return xt(o),null;if(v=(o.flags&128)!==0,E=f.rendering,E===null)if(v)vu(f,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(E=Tf(r),E!==null){for(o.flags|=128,vu(f,!1),r=E.updateQueue,o.updateQueue=r,kf(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)f_(u,r),u=u.sibling;return L(Vt,Vt.current&1|2),Xe&&Ir(o,f.treeForkCount),o.child}r=r.sibling}f.tail!==null&&un()>Ff&&(o.flags|=128,v=!0,vu(f,!1),o.lanes=4194304)}else{if(!v)if(r=Tf(E),r!==null){if(o.flags|=128,v=!0,r=r.updateQueue,o.updateQueue=r,kf(o,r),vu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!E.alternate&&!Xe)return xt(o),null}else 2*un()-f.renderingStartTime>Ff&&u!==536870912&&(o.flags|=128,v=!0,vu(f,!1),o.lanes=4194304);f.isBackwards?(E.sibling=o.child,o.child=E):(r=f.last,r!==null?r.sibling=E:o.child=E,f.last=E)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=un(),r.sibling=null,u=Vt.current,L(Vt,v?u&1|2:u&1),Xe&&Ir(o,f.treeForkCount),r):(xt(o),null);case 22:case 23:return jn(o),Tp(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(xt(o),o.subtreeFlags&6&&(o.flags|=8192)):xt(o),u=o.updateQueue,u!==null&&kf(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&se(Do),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Nr(Gt),xt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function zR(r,o){switch(op(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Nr(Gt),rt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ei(o),null;case 31:if(o.memoizedState!==null){if(jn(o),o.alternate===null)throw Error(i(340));Io()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(jn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Io()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return se(Vt),null;case 4:return rt(),null;case 10:return Nr(o.type),null;case 22:case 23:return jn(o),Tp(),r!==null&&se(Do),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Nr(Gt),null;case 25:return null;default:return null}}function OE(r,o){switch(op(o),o.tag){case 3:Nr(Gt),rt();break;case 26:case 27:case 5:Ei(o);break;case 4:rt();break;case 31:o.memoizedState!==null&&jn(o);break;case 13:jn(o);break;case 19:se(Vt);break;case 10:Nr(o.type);break;case 22:case 23:jn(o),Tp(),r!==null&&se(Do);break;case 24:Nr(Gt)}}function _u(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&r)===r){f=void 0;var E=u.create,C=u.inst;f=E(),C.destroy=f}u=u.next}while(u!==v)}}catch(b){ft(o,o.return,b)}}function xs(r,o,u){try{var f=o.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var E=v.next;f=E;do{if((f.tag&r)===r){var C=f.inst,b=C.destroy;if(b!==void 0){C.destroy=void 0,v=o;var z=u,X=b;try{X()}catch(ie){ft(v,z,ie)}}}f=f.next}while(f!==E)}}catch(ie){ft(o,o.return,ie)}}function FE(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{R_(o,u)}catch(f){ft(r,r.return,f)}}}function BE(r,o,u){u.props=Vo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){ft(r,o,f)}}function Eu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(v){ft(r,o,v)}}function ar(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){ft(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ft(r,o,v)}else u.current=null}function qE(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){ft(r,r.return,v)}}function Zp(r,o,u){try{var f=r.stateNode;cN(f,r.type,u,o),f[sn]=o}catch(v){ft(r,r.return,v)}}function zE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ns(r.type)||r.tag===4}function em(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ns(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tm(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ci));else if(f!==4&&(f===27&&Ns(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(tm(r,o,u),r=r.sibling;r!==null;)tm(r,o,u),r=r.sibling}function Lf(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&Ns(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Lf(r,o,u),r=r.sibling;r!==null;)Lf(r,o,u),r=r.sibling}function HE(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);pn(o,f,u),o[qt]=r,o[sn]=u}catch(E){ft(r,r.return,E)}}var Lr=!1,Kt=!1,nm=!1,GE=typeof WeakSet=="function"?WeakSet:Set,an=null;function HR(r,o){if(r=r.containerInfo,xm=nd,r=n_(r),jh(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var C=0,b=-1,z=-1,X=0,ie=0,ue=r,ee=null;t:for(;;){for(var ne;ue!==u||v!==0&&ue.nodeType!==3||(b=C+v),ue!==E||f!==0&&ue.nodeType!==3||(z=C+f),ue.nodeType===3&&(C+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===r)break t;if(ee===u&&++X===v&&(b=C),ee===E&&++ie===f&&(z=C),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}u=b===-1||z===-1?null:{start:b,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Am={focusedElem:r,selectionRange:u},nd=!1,an=o;an!==null;)if(o=an,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,an=r;else for(;an!==null;){switch(o=an,E=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)v=r[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&E!==null){r=void 0,u=o,v=E.memoizedProps,E=E.memoizedState,f=u.stateNode;try{var Se=Vo(u.type,v);r=f.getSnapshotBeforeUpdate(Se,E),f.__reactInternalSnapshotBeforeUpdate=r}catch(Ne){ft(u,u.return,Ne)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)bm(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":bm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,an=r;break}an=o.return}}function YE(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ur(r,u),f&4&&_u(5,u);break;case 1:if(Ur(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(C){ft(u,u.return,C)}else{var v=Vo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(C){ft(u,u.return,C)}}f&64&&FE(u),f&512&&Eu(u,u.return);break;case 3:if(Ur(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{R_(r,o)}catch(C){ft(u,u.return,C)}}break;case 27:o===null&&f&4&&HE(u);case 26:case 5:Ur(r,u),o===null&&f&4&&qE(u),f&512&&Eu(u,u.return);break;case 12:Ur(r,u);break;case 31:Ur(r,u),f&4&&$E(r,u);break;case 13:Ur(r,u),f&4&&jE(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=XR.bind(null,u),vN(r,u))));break;case 22:if(f=u.memoizedState!==null||Lr,!f){o=o!==null&&o.memoizedState!==null||Kt,v=Lr;var E=Kt;Lr=f,(Kt=o)&&!E?Or(r,u,(u.subtreeFlags&8772)!==0):Ur(r,u),Lr=v,Kt=E}break;case 30:break;default:Ur(r,u)}}function JE(r){var o=r.alternate;o!==null&&(r.alternate=null,JE(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&aa(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var wt=null,Mn=!1;function Vr(r,o,u){for(u=u.child;u!==null;)KE(r,o,u),u=u.sibling}function KE(r,o,u){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(kt,u)}catch{}switch(u.tag){case 26:Kt||ar(u,o),Vr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Kt||ar(u,o);var f=wt,v=Mn;Ns(u.type)&&(wt=u.stateNode,Mn=!1),Vr(r,o,u),Ru(u.stateNode),wt=f,Mn=v;break;case 5:Kt||ar(u,o);case 6:if(f=wt,v=Mn,wt=null,Vr(r,o,u),wt=f,Mn=v,wt!==null)if(Mn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(u.stateNode)}catch(E){ft(u,o,E)}else try{wt.removeChild(u.stateNode)}catch(E){ft(u,o,E)}break;case 18:wt!==null&&(Mn?(r=wt,FT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Ya(r)):FT(wt,u.stateNode));break;case 4:f=wt,v=Mn,wt=u.stateNode.containerInfo,Mn=!0,Vr(r,o,u),wt=f,Mn=v;break;case 0:case 11:case 14:case 15:xs(2,u,o),Kt||xs(4,u,o),Vr(r,o,u);break;case 1:Kt||(ar(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&BE(u,o,f)),Vr(r,o,u);break;case 21:Vr(r,o,u);break;case 22:Kt=(f=Kt)||u.memoizedState!==null,Vr(r,o,u),Kt=f;break;default:Vr(r,o,u)}}function $E(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ya(r)}catch(u){ft(o,o.return,u)}}}function jE(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ya(r)}catch(u){ft(o,o.return,u)}}function GR(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new GE),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new GE),o;default:throw Error(i(435,r.tag))}}function Vf(r,o){var u=GR(r);o.forEach(function(f){if(!u.has(f)){u.add(f);var v=ZR.bind(null,r,f);f.then(v,v)}})}function Pn(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],E=r,C=o,b=C;e:for(;b!==null;){switch(b.tag){case 27:if(Ns(b.type)){wt=b.stateNode,Mn=!1;break e}break;case 5:wt=b.stateNode,Mn=!1;break e;case 3:case 4:wt=b.stateNode.containerInfo,Mn=!0;break e}b=b.return}if(wt===null)throw Error(i(160));KE(E,C,v),wt=null,Mn=!1,E=v.alternate,E!==null&&(E.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)QE(o,r),o=o.sibling}var Di=null;function QE(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Pn(o,r),kn(r),f&4&&(xs(3,r,r.return),_u(3,r),xs(5,r,r.return));break;case 1:Pn(o,r),kn(r),f&512&&(Kt||u===null||ar(u,u.return)),f&64&&Lr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Di;if(Pn(o,r),kn(r),f&512&&(Kt||u===null||ar(u,u.return)),f&4){var E=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":E=v.getElementsByTagName("title")[0],(!E||E[Ki]||E[qt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=v.createElement(f),v.head.insertBefore(E,v.querySelector("head > title"))),pn(E,f,u),E[qt]=r,zt(E),f=E;break e;case"link":var C=QT("link","href",v).get(f+(u.href||""));if(C){for(var b=0;b<C.length;b++)if(E=C[b],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(b,1);break t}}E=v.createElement(f),pn(E,f,u),v.head.appendChild(E);break;case"meta":if(C=QT("meta","content",v).get(f+(u.content||""))){for(b=0;b<C.length;b++)if(E=C[b],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(b,1);break t}}E=v.createElement(f),pn(E,f,u),v.head.appendChild(E);break;default:throw Error(i(468,f))}E[qt]=r,zt(E),f=E}r.stateNode=f}else WT(v,r.type,r.stateNode);else r.stateNode=jT(v,f,r.memoizedProps);else E!==f?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,f===null?WT(v,r.type,r.stateNode):jT(v,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Zp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Pn(o,r),kn(r),f&512&&(Kt||u===null||ar(u,u.return)),u!==null&&f&4&&Zp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Pn(o,r),kn(r),f&512&&(Kt||u===null||ar(u,u.return)),r.flags&32){v=r.stateNode;try{Dn(v,"")}catch(Se){ft(r,r.return,Se)}}f&4&&r.stateNode!=null&&(v=r.memoizedProps,Zp(r,v,u!==null?u.memoizedProps:v)),f&1024&&(nm=!0);break;case 6:if(Pn(o,r),kn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(Se){ft(r,r.return,Se)}}break;case 3:if(Xf=null,v=Di,Di=Qf(o.containerInfo),Pn(o,r),Di=v,kn(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ya(o.containerInfo)}catch(Se){ft(r,r.return,Se)}nm&&(nm=!1,WE(r));break;case 4:f=Di,Di=Qf(r.stateNode.containerInfo),Pn(o,r),kn(r),Di=f;break;case 12:Pn(o,r),kn(r);break;case 31:Pn(o,r),kn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vf(r,f)));break;case 13:Pn(o,r),kn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Of=un()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vf(r,f)));break;case 22:v=r.memoizedState!==null;var z=u!==null&&u.memoizedState!==null,X=Lr,ie=Kt;if(Lr=X||v,Kt=ie||z,Pn(o,r),Kt=ie,Lr=X,kn(r),f&8192)e:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||z||Lr||Kt||Uo(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){z=u=o;try{if(E=z.stateNode,v)C=E.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{b=z.stateNode;var ue=z.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;b.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){ft(z,z.return,Se)}}}else if(o.tag===6){if(u===null){z=o;try{z.stateNode.nodeValue=v?"":z.memoizedProps}catch(Se){ft(z,z.return,Se)}}}else if(o.tag===18){if(u===null){z=o;try{var ne=z.stateNode;v?BT(ne,!0):BT(z.stateNode,!1)}catch(Se){ft(z,z.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Vf(r,u))));break;case 19:Pn(o,r),kn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vf(r,f)));break;case 30:break;case 21:break;default:Pn(o,r),kn(r)}}function kn(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(zE(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,E=em(r);Lf(r,E,v);break;case 5:var C=u.stateNode;u.flags&32&&(Dn(C,""),u.flags&=-33);var b=em(r);Lf(r,b,C);break;case 3:case 4:var z=u.stateNode.containerInfo,X=em(r);tm(r,X,z);break;default:throw Error(i(161))}}catch(ie){ft(r,r.return,ie)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function WE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;WE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Ur(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)YE(r,o.alternate,o),o=o.sibling}function Uo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:xs(4,o,o.return),Uo(o);break;case 1:ar(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&BE(o,o.return,u),Uo(o);break;case 27:Ru(o.stateNode);case 26:case 5:ar(o,o.return),Uo(o);break;case 22:o.memoizedState===null&&Uo(o);break;case 30:Uo(o);break;default:Uo(o)}r=r.sibling}}function Or(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,v=r,E=o,C=E.flags;switch(E.tag){case 0:case 11:case 15:Or(v,E,u),_u(4,E);break;case 1:if(Or(v,E,u),f=E,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){ft(f,f.return,X)}if(f=E,v=f.updateQueue,v!==null){var b=f.stateNode;try{var z=v.shared.hiddenCallbacks;if(z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<z.length;v++)I_(z[v],b)}catch(X){ft(f,f.return,X)}}u&&C&64&&FE(E),Eu(E,E.return);break;case 27:HE(E);case 26:case 5:Or(v,E,u),u&&f===null&&C&4&&qE(E),Eu(E,E.return);break;case 12:Or(v,E,u);break;case 31:Or(v,E,u),u&&C&4&&$E(v,E);break;case 13:Or(v,E,u),u&&C&4&&jE(v,E);break;case 22:E.memoizedState===null&&Or(v,E,u),Eu(E,E.return);break;case 30:break;default:Or(v,E,u)}o=o.sibling}}function im(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&ou(u))}function rm(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&ou(r))}function Mi(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)XE(r,o,u,f),o=o.sibling}function XE(r,o,u,f){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Mi(r,o,u,f),v&2048&&_u(9,o);break;case 1:Mi(r,o,u,f);break;case 3:Mi(r,o,u,f),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&ou(r)));break;case 12:if(v&2048){Mi(r,o,u,f),r=o.stateNode;try{var E=o.memoizedProps,C=E.id,b=E.onPostCommit;typeof b=="function"&&b(C,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){ft(o,o.return,z)}}else Mi(r,o,u,f);break;case 31:Mi(r,o,u,f);break;case 13:Mi(r,o,u,f);break;case 23:break;case 22:E=o.stateNode,C=o.alternate,o.memoizedState!==null?E._visibility&2?Mi(r,o,u,f):Tu(r,o):E._visibility&2?Mi(r,o,u,f):(E._visibility|=2,ka(r,o,u,f,(o.subtreeFlags&10256)!==0||!1)),v&2048&&im(C,o);break;case 24:Mi(r,o,u,f),v&2048&&rm(o.alternate,o);break;default:Mi(r,o,u,f)}}function ka(r,o,u,f,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var E=r,C=o,b=u,z=f,X=C.flags;switch(C.tag){case 0:case 11:case 15:ka(E,C,b,z,v),_u(8,C);break;case 23:break;case 22:var ie=C.stateNode;C.memoizedState!==null?ie._visibility&2?ka(E,C,b,z,v):Tu(E,C):(ie._visibility|=2,ka(E,C,b,z,v)),v&&X&2048&&im(C.alternate,C);break;case 24:ka(E,C,b,z,v),v&&X&2048&&rm(C.alternate,C);break;default:ka(E,C,b,z,v)}o=o.sibling}}function Tu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,v=f.flags;switch(f.tag){case 22:Tu(u,f),v&2048&&im(f.alternate,f);break;case 24:Tu(u,f),v&2048&&rm(f.alternate,f);break;default:Tu(u,f)}o=o.sibling}}var Su=8192;function La(r,o,u){if(r.subtreeFlags&Su)for(r=r.child;r!==null;)ZE(r,o,u),r=r.sibling}function ZE(r,o,u){switch(r.tag){case 26:La(r,o,u),r.flags&Su&&r.memoizedState!==null&&NN(u,Di,r.memoizedState,r.memoizedProps);break;case 5:La(r,o,u);break;case 3:case 4:var f=Di;Di=Qf(r.stateNode.containerInfo),La(r,o,u),Di=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Su,Su=16777216,La(r,o,u),Su=f):La(r,o,u));break;default:La(r,o,u)}}function eT(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function xu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];an=f,nT(f,r)}eT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tT(r),r=r.sibling}function tT(r){switch(r.tag){case 0:case 11:case 15:xu(r),r.flags&2048&&xs(9,r,r.return);break;case 3:xu(r);break;case 12:xu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Uf(r)):xu(r);break;default:xu(r)}}function Uf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];an=f,nT(f,r)}eT(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:xs(8,o,o.return),Uf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Uf(o));break;default:Uf(o)}r=r.sibling}}function nT(r,o){for(;an!==null;){var u=an;switch(u.tag){case 0:case 11:case 15:xs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ou(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,an=f;else e:for(u=r;an!==null;){f=an;var v=f.sibling,E=f.return;if(JE(f),f===u){an=null;break e}if(v!==null){v.return=E,an=v;break e}an=E}}}var YR={getCacheForType:function(r){var o=dn(Gt),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return dn(Gt).controller.signal}},JR=typeof WeakMap=="function"?WeakMap:Map,ot=0,yt=null,Ge=null,Je=0,ct=0,Qn=null,As=!1,Va=!1,sm=!1,Fr=0,Pt=0,Cs=0,Oo=0,om=0,Wn=0,Ua=0,Au=null,Ln=null,am=!1,Of=0,iT=0,Ff=1/0,Bf=null,ws=null,en=0,bs=null,Oa=null,Br=0,lm=0,um=null,rT=null,Cu=0,cm=null;function Xn(){return(ot&2)!==0&&Je!==0?Je&-Je:Z.T!==null?gm():Bc()}function sT(){if(Wn===0)if((Je&536870912)===0||Xe){var r=co;co<<=1,(co&3932160)===0&&(co=262144),Wn=r}else Wn=536870912;return r=$n.current,r!==null&&(r.flags|=32),Wn}function Vn(r,o,u){(r===yt&&(ct===2||ct===9)||r.cancelPendingCommit!==null)&&(Fa(r,0),Is(r,Je,Wn,!1)),fo(r,u),((ot&2)===0||r!==yt)&&(r===yt&&((ot&2)===0&&(Oo|=u),Pt===4&&Is(r,Je,Wn,!1)),lr(r))}function oT(r,o,u){if((ot&6)!==0)throw Error(i(327));var f=!u&&(o&127)===0&&(o&r.expiredLanes)===0||Si(r,o),v=f?jR(r,o):dm(r,o,!0),E=f;do{if(v===0){Va&&!f&&Is(r,o,0,!1);break}else{if(u=r.current.alternate,E&&!KR(u)){v=dm(r,o,!1),E=!1;continue}if(v===2){if(E=o,r.errorRecoveryDisabledLanes&E)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var b=r;v=Au;var z=b.current.memoizedState.isDehydrated;if(z&&(Fa(b,C).flags|=256),C=dm(b,C,!1),C!==2){if(sm&&!z){b.errorRecoveryDisabledLanes|=E,Oo|=E,v=4;break e}E=Ln,Ln=v,E!==null&&(Ln===null?Ln=E:Ln.push.apply(Ln,E))}v=C}if(E=!1,v!==2)continue}}if(v===1){Fa(r,0),Is(r,o,0,!0);break}e:{switch(f=r,E=v,E){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Is(f,o,Wn,!As);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=Of+300-un(),10<v)){if(Is(f,o,Wn,!As),Gi(f,0,!0)!==0)break e;Br=o,f.timeoutHandle=UT(aT.bind(null,f,u,Ln,Bf,am,o,Wn,Oo,Ua,As,E,"Throttled",-0,0),v);break e}aT(f,u,Ln,Bf,am,o,Wn,Oo,Ua,As,E,null,-0,0)}}break}while(!0);lr(r)}function aT(r,o,u,f,v,E,C,b,z,X,ie,ue,ee,ne){if(r.timeoutHandle=-1,ue=o.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},ZE(o,E,ue);var Se=(E&62914560)===E?Of-un():(E&4194048)===E?iT-un():0;if(Se=DN(ue,Se),Se!==null){Br=E,r.cancelPendingCommit=Se(mT.bind(null,r,o,E,u,f,v,C,b,z,ie,ue,null,ee,ne)),Is(r,E,C,!X);return}}mT(r,o,E,u,f,v,C,b,z)}function KR(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],E=v.getSnapshot;v=v.value;try{if(!Jn(E(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(r,o,u,f){o&=~om,o&=~Oo,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var v=o;0<v;){var E=31-We(v),C=1<<E;f[E]=-1,v&=~C}u!==0&&ho(r,u,o)}function qf(){return(ot&6)===0?(wu(0),!1):!0}function fm(){if(Ge!==null){if(ct===0)var r=Ge.return;else r=Ge,Rr=Ro=null,bp(r),Ra=null,lu=0,r=Ge;for(;r!==null;)OE(r.alternate,r),r=r.return;Ge=null}}function Fa(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,hN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Br=0,fm(),yt=r,Ge=u=br(r.current,null),Je=o,ct=0,Qn=null,As=!1,Va=Si(r,o),sm=!1,Ua=Wn=om=Oo=Cs=Pt=0,Ln=Au=null,am=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var v=31-We(f),E=1<<v;o|=r[v],f&=~E}return Fr=o,lf(),u}function lT(r,o){Fe=null,Z.H=gu,o===Ia||o===gf?(o=A_(),ct=3):o===mp?(o=A_(),ct=4):ct=o===Hp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qn=o,Ge===null&&(Pt=1,Nf(r,ui(o,r.current)))}function uT(){var r=$n.current;return r===null?!0:(Je&4194048)===Je?hi===null:(Je&62914560)===Je||(Je&536870912)!==0?r===hi:!1}function cT(){var r=Z.H;return Z.H=gu,r===null?gu:r}function fT(){var r=Z.A;return Z.A=YR,r}function zf(){Pt=4,As||(Je&4194048)!==Je&&$n.current!==null||(Va=!0),(Cs&134217727)===0&&(Oo&134217727)===0||yt===null||Is(yt,Je,Wn,!1)}function dm(r,o,u){var f=ot;ot|=2;var v=cT(),E=fT();(yt!==r||Je!==o)&&(Bf=null,Fa(r,o)),o=!1;var C=Pt;e:do try{if(ct!==0&&Ge!==null){var b=Ge,z=Qn;switch(ct){case 8:fm(),C=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(o=!0);var X=ct;if(ct=0,Qn=null,Ba(r,b,z,X),u&&Va){C=0;break e}break;default:X=ct,ct=0,Qn=null,Ba(r,b,z,X)}}$R(),C=Pt;break}catch(ie){lT(r,ie)}while(!0);return o&&r.shellSuspendCounter++,Rr=Ro=null,ot=f,Z.H=v,Z.A=E,Ge===null&&(yt=null,Je=0,lf()),C}function $R(){for(;Ge!==null;)dT(Ge)}function jR(r,o){var u=ot;ot|=2;var f=cT(),v=fT();yt!==r||Je!==o?(Bf=null,Ff=un()+500,Fa(r,o)):Va=Si(r,o);e:do try{if(ct!==0&&Ge!==null){o=Ge;var E=Qn;t:switch(ct){case 1:ct=0,Qn=null,Ba(r,o,E,1);break;case 2:case 9:if(S_(E)){ct=0,Qn=null,hT(o);break}o=function(){ct!==2&&ct!==9||yt!==r||(ct=7),lr(r)},E.then(o,o);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:S_(E)?(ct=0,Qn=null,hT(o)):(ct=0,Qn=null,Ba(r,o,E,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var b=Ge;if(C?XT(C):b.stateNode.complete){ct=0,Qn=null;var z=b.sibling;if(z!==null)Ge=z;else{var X=b.return;X!==null?(Ge=X,Hf(X)):Ge=null}break t}}ct=0,Qn=null,Ba(r,o,E,5);break;case 6:ct=0,Qn=null,Ba(r,o,E,6);break;case 8:fm(),Pt=6;break e;default:throw Error(i(462))}}QR();break}catch(ie){lT(r,ie)}while(!0);return Rr=Ro=null,Z.H=f,Z.A=v,ot=u,Ge!==null?0:(yt=null,Je=0,lf(),Pt)}function QR(){for(;Ge!==null&&!Vl();)dT(Ge)}function dT(r){var o=VE(r.alternate,r,Fr);r.memoizedProps=r.pendingProps,o===null?Hf(r):Ge=o}function hT(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=NE(u,o,o.pendingProps,o.type,void 0,Je);break;case 11:o=NE(u,o,o.pendingProps,o.type.render,o.ref,Je);break;case 5:bp(o);default:OE(u,o),o=Ge=f_(o,Fr),o=VE(u,o,Fr)}r.memoizedProps=r.pendingProps,o===null?Hf(r):Ge=o}function Ba(r,o,u,f){Rr=Ro=null,bp(o),Ra=null,lu=0;var v=o.return;try{if(OR(r,v,o,u,Je)){Pt=1,Nf(r,ui(u,r.current)),Ge=null;return}}catch(E){if(v!==null)throw Ge=v,E;Pt=1,Nf(r,ui(u,r.current)),Ge=null;return}o.flags&32768?(Xe||f===1?r=!0:Va||(Je&536870912)!==0?r=!1:(As=r=!0,(f===2||f===9||f===3||f===6)&&(f=$n.current,f!==null&&f.tag===13&&(f.flags|=16384))),pT(o,r)):Hf(o)}function Hf(r){var o=r;do{if((o.flags&32768)!==0){pT(o,As);return}r=o.return;var u=qR(o.alternate,o,Fr);if(u!==null){Ge=u;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=r}while(o!==null);Pt===0&&(Pt=5)}function pT(r,o){do{var u=zR(r.alternate,r);if(u!==null){u.flags&=32767,Ge=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=u}while(r!==null);Pt=6,Ge=null}function mT(r,o,u,f,v,E,C,b,z){r.cancelPendingCommit=null;do Gf();while(en!==0);if((ot&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(E=o.lanes|o.childLanes,E|=ep,Yh(r,u,E,C,b,z),r===yt&&(Ge=yt=null,Je=0),Oa=o,bs=r,Br=u,lm=E,um=v,rT=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,eN(Re,function(){return ET(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,v=de.p,de.p=2,C=ot,ot|=4;try{HR(r,o,u)}finally{ot=C,de.p=v,Z.T=f}}en=1,gT(),yT(),vT()}}function gT(){if(en===1){en=0;var r=bs,o=Oa,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var f=de.p;de.p=2;var v=ot;ot|=4;try{QE(o,r);var E=Am,C=n_(r.containerInfo),b=E.focusedElem,z=E.selectionRange;if(C!==b&&b&&b.ownerDocument&&t_(b.ownerDocument.documentElement,b)){if(z!==null&&jh(b)){var X=z.start,ie=z.end;if(ie===void 0&&(ie=X),"selectionStart"in b)b.selectionStart=X,b.selectionEnd=Math.min(ie,b.value.length);else{var ue=b.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Se=b.textContent.length,Ne=Math.min(z.start,Se),gt=z.end===void 0?Ne:Math.min(z.end,Se);!ne.extend&&Ne>gt&&(C=gt,gt=Ne,Ne=C);var K=e_(b,Ne),J=e_(b,gt);if(K&&J&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==J.node||ne.focusOffset!==J.offset)){var W=ue.createRange();W.setStart(K.node,K.offset),ne.removeAllRanges(),Ne>gt?(ne.addRange(W),ne.extend(J.node,J.offset)):(W.setEnd(J.node,J.offset),ne.addRange(W))}}}}for(ue=[],ne=b;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ue.length;b++){var ae=ue[b];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}nd=!!xm,Am=xm=null}finally{ot=v,de.p=f,Z.T=u}}r.current=o,en=2}}function yT(){if(en===2){en=0;var r=bs,o=Oa,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var f=de.p;de.p=2;var v=ot;ot|=4;try{YE(r,o.alternate,o)}finally{ot=v,de.p=f,Z.T=u}}en=3}}function vT(){if(en===4||en===3){en=0,sa();var r=bs,o=Oa,u=Br,f=rT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?en=5:(en=0,Oa=bs=null,_T(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(ws=null),xr(u),o=o.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(kt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Z.T,v=de.p,de.p=2,Z.T=null;try{for(var E=r.onRecoverableError,C=0;C<f.length;C++){var b=f[C];E(b.value,{componentStack:b.stack})}}finally{Z.T=o,de.p=v}}(Br&3)!==0&&Gf(),lr(r),v=r.pendingLanes,(u&261930)!==0&&(v&42)!==0?r===cm?Cu++:(Cu=0,cm=r):Cu=0,wu(0)}}function _T(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,ou(o)))}function Gf(){return gT(),yT(),vT(),ET()}function ET(){if(en!==5)return!1;var r=bs,o=lm;lm=0;var u=xr(Br),f=Z.T,v=de.p;try{de.p=32>u?32:u,Z.T=null,u=um,um=null;var E=bs,C=Br;if(en=0,Oa=bs=null,Br=0,(ot&6)!==0)throw Error(i(331));var b=ot;if(ot|=4,tT(E.current),XE(E,E.current,C,u),ot=b,wu(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(kt,E)}catch{}return!0}finally{de.p=v,Z.T=f,_T(r,o)}}function TT(r,o,u){o=ui(u,o),o=zp(r.stateNode,o,2),r=Es(r,o,2),r!==null&&(fo(r,2),lr(r))}function ft(r,o,u){if(r.tag===3)TT(r,r,u);else for(;o!==null;){if(o.tag===3){TT(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))){r=ui(u,r),u=SE(2),f=Es(o,u,2),f!==null&&(xE(u,f,o,r),fo(f,2),lr(f));break}}o=o.return}}function hm(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new JR;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(u)||(sm=!0,v.add(u),r=WR.bind(null,r,o,u),o.then(r,r))}function WR(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,yt===r&&(Je&u)===u&&(Pt===4||Pt===3&&(Je&62914560)===Je&&300>un()-Of?(ot&2)===0&&Fa(r,0):om|=u,Ua===Je&&(Ua=0)),lr(r)}function ST(r,o){o===0&&(o=Fc()),r=wo(r,o),r!==null&&(fo(r,o),lr(r))}function XR(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),ST(r,u)}function ZR(r,o){var u=0;switch(r.tag){case 31:case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),ST(r,u)}function eN(r,o){return Dt(r,o)}var Yf=null,qa=null,pm=!1,Jf=!1,mm=!1,Rs=0;function lr(r){r!==qa&&r.next===null&&(qa===null?Yf=qa=r:qa=qa.next=r),Jf=!0,pm||(pm=!0,nN())}function wu(r,o){if(!mm&&Jf){mm=!0;do for(var u=!1,f=Yf;f!==null;){if(r!==0){var v=f.pendingLanes;if(v===0)var E=0;else{var C=f.suspendedLanes,b=f.pingedLanes;E=(1<<31-We(42|r)+1)-1,E&=v&~(C&~b),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,wT(f,E))}else E=Je,E=Gi(f,f===yt?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||Si(f,E)||(u=!0,wT(f,E));f=f.next}while(u);mm=!1}}function tN(){xT()}function xT(){Jf=pm=!1;var r=0;Rs!==0&&dN()&&(r=Rs);for(var o=un(),u=null,f=Yf;f!==null;){var v=f.next,E=AT(f,o);E===0?(f.next=null,u===null?Yf=v:u.next=v,v===null&&(qa=u)):(u=f,(r!==0||(E&3)!==0)&&(Jf=!0)),f=v}en!==0&&en!==5||wu(r),Rs!==0&&(Rs=0)}function AT(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,E=r.pendingLanes&-62914561;0<E;){var C=31-We(E),b=1<<C,z=v[C];z===-1?((b&u)===0||(b&f)!==0)&&(v[C]=Gh(b,o)):z<=o&&(r.expiredLanes|=b),E&=~b}if(o=yt,u=Je,u=Gi(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(ct===2||ct===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&qi(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Si(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&qi(f),xr(u)){case 2:case 8:u=me;break;case 32:u=Re;break;case 268435456:u=et;break;default:u=Re}return f=CT.bind(null,r),u=Dt(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&qi(f),r.callbackPriority=2,r.callbackNode=null,2}function CT(r,o){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Gf()&&r.callbackNode!==u)return null;var f=Je;return f=Gi(r,r===yt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(oT(r,f,o),AT(r,un()),r.callbackNode!=null&&r.callbackNode===u?CT.bind(null,r):null)}function wT(r,o){if(Gf())return null;oT(r,o,!0)}function nN(){pN(function(){(ot&6)!==0?Dt(oe,tN):xT()})}function gm(){if(Rs===0){var r=wa;r===0&&(r=zi,zi<<=1,(zi&261888)===0&&(zi=256)),Rs=r}return Rs}function bT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fa(""+r)}function IT(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function iN(r,o,u,f,v){if(o==="submit"&&u&&u.stateNode===v){var E=bT((v[sn]||null).action),C=f.submitter;C&&(o=(o=C[sn]||null)?bT(o.formAction):C.getAttribute("formAction"),o!==null&&(E=o,C=null));var b=new tr("action","action",null,f,v);r.push({event:b,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Rs!==0){var z=C?IT(v,C):new FormData(v);Vp(u,{pending:!0,data:z,method:v.method,action:E},null,z)}}else typeof E=="function"&&(b.preventDefault(),z=C?IT(v,C):new FormData(v),Vp(u,{pending:!0,data:z,method:v.method,action:E},E,z))},currentTarget:v}]})}}for(var ym=0;ym<Zh.length;ym++){var vm=Zh[ym],rN=vm.toLowerCase(),sN=vm[0].toUpperCase()+vm.slice(1);Ni(rN,"on"+sN)}Ni(s_,"onAnimationEnd"),Ni(o_,"onAnimationIteration"),Ni(a_,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(TR,"onTransitionRun"),Ni(SR,"onTransitionStart"),Ni(xR,"onTransitionCancel"),Ni(l_,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function RT(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],v=f.event;f=f.listeners;e:{var E=void 0;if(o)for(var C=f.length-1;0<=C;C--){var b=f[C],z=b.instance,X=b.currentTarget;if(b=b.listener,z!==E&&v.isPropagationStopped())break e;E=b,v.currentTarget=X;try{E(v)}catch(ie){af(ie)}v.currentTarget=null,E=z}else for(C=0;C<f.length;C++){if(b=f[C],z=b.instance,X=b.currentTarget,b=b.listener,z!==E&&v.isPropagationStopped())break e;E=b,v.currentTarget=X;try{E(v)}catch(ie){af(ie)}v.currentTarget=null,E=z}}}}function Ye(r,o){var u=o[oa];u===void 0&&(u=o[oa]=new Set);var f=r+"__bubble";u.has(f)||(NT(o,r,2,!1),u.add(f))}function _m(r,o,u){var f=0;o&&(f|=4),NT(u,r,f,o)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Em(r){if(!r[Kf]){r[Kf]=!0,Fl.forEach(function(u){u!=="selectionchange"&&(oN.has(u)||_m(u,!1,r),_m(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Kf]||(o[Kf]=!0,_m("selectionchange",!1,o))}}function NT(r,o,u,f){switch(sS(o)){case 2:var v=kN;break;case 8:v=LN;break;default:v=Lm}u=v.bind(null,o,u,r),v=void 0,!vo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function Tm(r,o,u,f,v){var E=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var b=f.stateNode.containerInfo;if(b===v)break;if(C===4)for(C=f.return;C!==null;){var z=C.tag;if((z===3||z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;b!==null;){if(C=$i(b),C===null)return;if(z=C.tag,z===5||z===6||z===26||z===27){f=E=C;continue e}b=b.parentNode}}f=f.return}cs(function(){var X=E,ie=si(u),ue=[];e:{var ee=u_.get(r);if(ee!==void 0){var ne=tr,Se=r;switch(r){case"keypress":if(Eo(u)===0)break e;case"keydown":case"keyup":ne=rf;break;case"focusin":Se="focus",ne=So;break;case"focusout":Se="blur",ne=So;break;case"beforeblur":case"afterblur":ne=So;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=A;break;case s_:case o_:case a_:ne=Qc;break;case l_:ne=R;break;case"scroll":case"scrollend":ne=Wl;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=wr;break;case"toggle":case"beforetoggle":ne=Oe}var Ne=(o&4)!==0,gt=!Ne&&(r==="scroll"||r==="scrollend"),K=Ne?ee!==null?ee+"Capture":null:ee;Ne=[];for(var J=X,W;J!==null;){var ae=J;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||K===null||(ae=wi(J,K),ae!=null&&Ne.push(Iu(J,ae,W))),gt)break;J=J.return}0<Ne.length&&(ee=new ne(ee,Se,null,u,ie),ue.push({event:ee,listeners:Ne}))}}if((o&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&u!==$l&&(Se=u.relatedTarget||u.fromElement)&&($i(Se)||Se[Ji]))break e;if((ne||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Se=u.relatedTarget||u.toElement,ne=X,Se=Se?$i(Se):null,Se!==null&&(gt=a(Se),Ne=Se.tag,Se!==gt||Ne!==5&&Ne!==27&&Ne!==6)&&(Se=null)):(ne=null,Se=X),ne!==Se)){if(Ne=Xl,ae="onMouseLeave",K="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=wr,ae="onPointerLeave",K="onPointerEnter",J="pointer"),gt=ne==null?ee:Gn(ne),W=Se==null?ee:Gn(Se),ee=new Ne(ae,J+"leave",ne,u,ie),ee.target=gt,ee.relatedTarget=W,ae=null,$i(ie)===X&&(Ne=new Ne(K,J+"enter",Se,u,ie),Ne.target=W,Ne.relatedTarget=gt,ae=Ne),gt=ae,ne&&Se)t:{for(Ne=aN,K=ne,J=Se,W=0,ae=K;ae;ae=Ne(ae))W++;ae=0;for(var we=J;we;we=Ne(we))ae++;for(;0<W-ae;)K=Ne(K),W--;for(;0<ae-W;)J=Ne(J),ae--;for(;W--;){if(K===J||J!==null&&K===J.alternate){Ne=K;break t}K=Ne(K),J=Ne(J)}Ne=null}else Ne=null;ne!==null&&DT(ue,ee,ne,Ne,!1),Se!==null&&gt!==null&&DT(ue,gt,Se,Ne,!0)}}e:{if(ee=X?Gn(X):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var tt=$v;else if(Jv(ee))if(jv)tt=vR;else{tt=gR;var Ae=mR}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&ca(X.elementType)&&(tt=$v):tt=yR;if(tt&&(tt=tt(r,X))){Kv(ue,tt,u,ie);break e}Ae&&Ae(r,ee,X),r==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Yl(ee,"number",ee.value)}switch(Ae=X?Gn(X):window,r){case"focusin":(Jv(Ae)||Ae.contentEditable==="true")&&(va=Ae,Qh=X,iu=null);break;case"focusout":iu=Qh=va=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,i_(ue,u,ie);break;case"selectionchange":if(ER)break;case"keydown":case"keyup":i_(ue,u,ie)}var Be;if(st)e:{switch(r){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else ya?xo(r,u)&&(Ke="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Ke="onCompositionStart");Ke&&(rr&&u.locale!=="ko"&&(ya||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&ya&&(Be=Ql()):(er=ie,jl="value"in er?er.value:er.textContent,ya=!0)),Ae=$f(X,Ke),0<Ae.length&&(Ke=new ir(Ke,r,null,u,ie),ue.push({event:Ke,listeners:Ae}),Be?Ke.data=Be:(Be=ga(u),Be!==null&&(Ke.data=Be)))),(Be=ai?fR(r,u):dR(r,u))&&(Ke=$f(X,"onBeforeInput"),0<Ke.length&&(Ae=new ir("onBeforeInput","beforeinput",null,u,ie),ue.push({event:Ae,listeners:Ke}),Ae.data=Be)),iN(ue,r,X,u,ie)}RT(ue,o)})}function Iu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function $f(r,o){for(var u=o+"Capture",f=[];r!==null;){var v=r,E=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||E===null||(v=wi(r,u),v!=null&&f.unshift(Iu(r,v,E)),v=wi(r,o),v!=null&&f.push(Iu(r,v,E))),r.tag===3)return f;r=r.return}return[]}function aN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function DT(r,o,u,f,v){for(var E=o._reactName,C=[];u!==null&&u!==f;){var b=u,z=b.alternate,X=b.stateNode;if(b=b.tag,z!==null&&z===f)break;b!==5&&b!==26&&b!==27||X===null||(z=X,v?(X=wi(u,E),X!=null&&C.unshift(Iu(u,X,z))):v||(X=wi(u,E),X!=null&&C.push(Iu(u,X,z)))),u=u.return}C.length!==0&&r.push({event:o,listeners:C})}var lN=/\r\n?/g,uN=/\u0000|\uFFFD/g;function MT(r){return(typeof r=="string"?r:""+r).replace(lN,`
`).replace(uN,"")}function PT(r,o){return o=MT(o),MT(r)===o}function mt(r,o,u,f,v,E){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Dn(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Dn(r,""+f);break;case"className":Yn(r,"class",f);break;case"tabIndex":Yn(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(r,u,f);break;case"style":Kl(r,f,E);break;case"data":if(o!=="object"){Yn(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=fa(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(o!=="input"&&mt(r,o,"name",v.name,v,null),mt(r,o,"formEncType",v.formEncType,v,null),mt(r,o,"formMethod",v.formMethod,v,null),mt(r,o,"formTarget",v.formTarget,v,null)):(mt(r,o,"encType",v.encType,v,null),mt(r,o,"method",v.method,v,null),mt(r,o,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=fa(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ci);break;case"onScroll":f!=null&&Ye("scroll",r);break;case"onScrollEnd":f!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=fa(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),la(r,"popover",f);break;case"xlinkActuate":Ht(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ht(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ht(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ht(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ht(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ht(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ht(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ht(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ht(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":la(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Kc.get(u)||u,la(r,u,f))}}function Sm(r,o,u,f,v,E){switch(u){case"style":Kl(r,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?Dn(r,f):(typeof f=="number"||typeof f=="bigint")&&Dn(r,""+f);break;case"onScroll":f!=null&&Ye("scroll",r);break;case"onScrollEnd":f!=null&&Ye("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),E=r[sn]||null,E=E!=null?E[u]:null,typeof E=="function"&&r.removeEventListener(o,E,v),typeof f=="function")){typeof E!="function"&&E!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,v);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):la(r,u,f)}}}function pn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var f=!1,v=!1,E;for(E in u)if(u.hasOwnProperty(E)){var C=u[E];if(C!=null)switch(E){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:mt(r,o,E,C,u,null)}}v&&mt(r,o,"srcSet",u.srcSet,u,null),f&&mt(r,o,"src",u.src,u,null);return;case"input":Ye("invalid",r);var b=E=C=v=null,z=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var ie=u[f];if(ie!=null)switch(f){case"name":v=ie;break;case"type":C=ie;break;case"checked":z=ie;break;case"defaultChecked":X=ie;break;case"value":E=ie;break;case"defaultValue":b=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,o));break;default:mt(r,o,f,ie,u,null)}}Gc(r,E,b,z,X,C,v,!1);return;case"select":Ye("invalid",r),f=C=E=null;for(v in u)if(u.hasOwnProperty(v)&&(b=u[v],b!=null))switch(v){case"value":E=b;break;case"defaultValue":C=b;break;case"multiple":f=b;default:mt(r,o,v,b,u,null)}o=E,u=C,r.multiple=!!f,o!=null?os(r,!!f,o,!1):u!=null&&os(r,!!f,u,!0);return;case"textarea":Ye("invalid",r),E=v=f=null;for(C in u)if(u.hasOwnProperty(C)&&(b=u[C],b!=null))switch(C){case"value":f=b;break;case"defaultValue":v=b;break;case"children":E=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:mt(r,o,C,b,u,null)}as(r,f,v,E);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(f=u[z],f!=null))switch(z){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:mt(r,o,z,f,u,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(f=0;f<bu.length;f++)Ye(bu[f],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:mt(r,o,X,f,u,null)}return;default:if(ca(o)){for(ie in u)u.hasOwnProperty(ie)&&(f=u[ie],f!==void 0&&Sm(r,o,ie,f,u,void 0));return}}for(b in u)u.hasOwnProperty(b)&&(f=u[b],f!=null&&mt(r,o,b,f,u,null))}function cN(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,E=null,C=null,b=null,z=null,X=null,ie=null;for(ne in u){var ue=u[ne];if(u.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=ue;default:f.hasOwnProperty(ne)||mt(r,o,ne,null,f,ue)}}for(var ee in f){var ne=f[ee];if(ue=u[ee],f.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":E=ne;break;case"name":v=ne;break;case"checked":X=ne;break;case"defaultChecked":ie=ne;break;case"value":C=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,o));break;default:ne!==ue&&mt(r,o,ee,ne,f,ue)}}ua(r,C,b,z,X,ie,E,v);return;case"select":ne=C=b=ee=null;for(E in u)if(z=u[E],u.hasOwnProperty(E)&&z!=null)switch(E){case"value":break;case"multiple":ne=z;default:f.hasOwnProperty(E)||mt(r,o,E,null,f,z)}for(v in f)if(E=f[v],z=u[v],f.hasOwnProperty(v)&&(E!=null||z!=null))switch(v){case"value":ee=E;break;case"defaultValue":b=E;break;case"multiple":C=E;default:E!==z&&mt(r,o,v,E,f,z)}o=b,u=C,f=ne,ee!=null?os(r,!!u,ee,!1):!!f!=!!u&&(o!=null?os(r,!!u,o,!0):os(r,!!u,u?[]:"",!1));return;case"textarea":ne=ee=null;for(b in u)if(v=u[b],u.hasOwnProperty(b)&&v!=null&&!f.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:mt(r,o,b,null,f,v)}for(C in f)if(v=f[C],E=u[C],f.hasOwnProperty(C)&&(v!=null||E!=null))switch(C){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==E&&mt(r,o,C,v,f,E)}Yc(r,ee,ne);return;case"option":for(var Se in u)if(ee=u[Se],u.hasOwnProperty(Se)&&ee!=null&&!f.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:mt(r,o,Se,null,f,ee)}for(z in f)if(ee=f[z],ne=u[z],f.hasOwnProperty(z)&&ee!==ne&&(ee!=null||ne!=null))switch(z){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(r,o,z,ee,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)ee=u[Ne],u.hasOwnProperty(Ne)&&ee!=null&&!f.hasOwnProperty(Ne)&&mt(r,o,Ne,null,f,ee);for(X in f)if(ee=f[X],ne=u[X],f.hasOwnProperty(X)&&ee!==ne&&(ee!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:mt(r,o,X,ee,f,ne)}return;default:if(ca(o)){for(var gt in u)ee=u[gt],u.hasOwnProperty(gt)&&ee!==void 0&&!f.hasOwnProperty(gt)&&Sm(r,o,gt,void 0,f,ee);for(ie in f)ee=f[ie],ne=u[ie],!f.hasOwnProperty(ie)||ee===ne||ee===void 0&&ne===void 0||Sm(r,o,ie,ee,f,ne);return}}for(var K in u)ee=u[K],u.hasOwnProperty(K)&&ee!=null&&!f.hasOwnProperty(K)&&mt(r,o,K,null,f,ee);for(ue in f)ee=f[ue],ne=u[ue],!f.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||mt(r,o,ue,ee,f,ne)}function kT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var v=u[f],E=v.transferSize,C=v.initiatorType,b=v.duration;if(E&&b&&kT(C)){for(C=0,b=v.responseEnd,f+=1;f<u.length;f++){var z=u[f],X=z.startTime;if(X>b)break;var ie=z.transferSize,ue=z.initiatorType;ie&&kT(ue)&&(z=z.responseEnd,C+=ie*(z<b?1:(b-X)/(z-X)))}if(--f,o+=8*(E+C)/(v.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var xm=null,Am=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function LT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VT(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Cm(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wm=null;function dN(){var r=window.event;return r&&r.type==="popstate"?r===wm?!1:(wm=r,!0):(wm=null,!1)}var UT=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(r){return OT.resolve(null).then(r).catch(mN)}:UT;function mN(r){setTimeout(function(){throw r})}function Ns(r){return r==="head"}function FT(r,o){var u=o,f=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(f===0){r.removeChild(v),Ya(o);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Ru(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Ru(u);for(var E=u.firstChild;E;){var C=E.nextSibling,b=E.nodeName;E[Ki]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=C}}else u==="body"&&Ru(r.ownerDocument.body);u=v}while(u);Ya(o)}function BT(r,o){var u=r;r=0;do{var f=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=f}while(u)}function bm(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":bm(u),aa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function gN(r,o,u,f){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ki])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(E=r.getAttribute("rel"),E==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(E!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(E=r.getAttribute("src"),(E!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&E&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var E=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===E)return r}else return r;if(r=pi(r.nextSibling),r===null)break}return null}function yN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=pi(r.nextSibling),r===null))return null;return r}function qT(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pi(r.nextSibling),r===null))return null;return r}function Im(r){return r.data==="$?"||r.data==="$~"}function Rm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function vN(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function pi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Nm=null;function zT(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return pi(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function HT(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function GT(r,o,u){switch(o=jf(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ru(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);aa(r)}var mi=new Map,YT=new Set;function Qf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var qr=de.d;de.d={f:_N,r:EN,D:TN,C:SN,L:xN,m:AN,X:wN,S:CN,M:bN};function _N(){var r=qr.f(),o=qf();return r||o}function EN(r){var o=ri(r);o!==null&&o.tag===5&&o.type==="form"?lE(o):qr.r(r)}var za=typeof document>"u"?null:document;function JT(r,o,u){var f=za;if(f&&typeof o=="string"&&o){var v=Nn(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),YT.has(v)||(YT.add(v),r={rel:r,crossOrigin:u,href:o},f.querySelector(v)===null&&(o=f.createElement("link"),pn(o,"link",r),zt(o),f.head.appendChild(o)))}}function TN(r){qr.D(r),JT("dns-prefetch",r,null)}function SN(r,o){qr.C(r,o),JT("preconnect",r,o)}function xN(r,o,u){qr.L(r,o,u);var f=za;if(f&&r&&o){var v='link[rel="preload"][as="'+Nn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Nn(u.imageSizes)+'"]')):v+='[href="'+Nn(r)+'"]';var E=v;switch(o){case"style":E=Ha(r);break;case"script":E=Ga(r)}mi.has(E)||(r=_({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),mi.set(E,r),f.querySelector(v)!==null||o==="style"&&f.querySelector(Nu(E))||o==="script"&&f.querySelector(Du(E))||(o=f.createElement("link"),pn(o,"link",r),zt(o),f.head.appendChild(o)))}}function AN(r,o){qr.m(r,o);var u=za;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Nn(f)+'"][href="'+Nn(r)+'"]',E=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ga(r)}if(!mi.has(E)&&(r=_({rel:"modulepreload",href:r},o),mi.set(E,r),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Du(E)))return}f=u.createElement("link"),pn(f,"link",r),zt(f),u.head.appendChild(f)}}}function CN(r,o,u){qr.S(r,o,u);var f=za;if(f&&r){var v=ji(f).hoistableStyles,E=Ha(r);o=o||"default";var C=v.get(E);if(!C){var b={loading:0,preload:null};if(C=f.querySelector(Nu(E)))b.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":o},u),(u=mi.get(E))&&Dm(r,u);var z=C=f.createElement("link");zt(z),pn(z,"link",r),z._p=new Promise(function(X,ie){z.onload=X,z.onerror=ie}),z.addEventListener("load",function(){b.loading|=1}),z.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Wf(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:b},v.set(E,C)}}}function wN(r,o){qr.X(r,o);var u=za;if(u&&r){var f=ji(u).hoistableScripts,v=Ga(r),E=f.get(v);E||(E=u.querySelector(Du(v)),E||(r=_({src:r,async:!0},o),(o=mi.get(v))&&Mm(r,o),E=u.createElement("script"),zt(E),pn(E,"link",r),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(v,E))}}function bN(r,o){qr.M(r,o);var u=za;if(u&&r){var f=ji(u).hoistableScripts,v=Ga(r),E=f.get(v);E||(E=u.querySelector(Du(v)),E||(r=_({src:r,async:!0,type:"module"},o),(o=mi.get(v))&&Mm(r,o),E=u.createElement("script"),zt(E),pn(E,"link",r),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(v,E))}}function KT(r,o,u,f){var v=(v=Ce.current)?Qf(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ha(u.href),u=ji(v).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ha(u.href);var E=ji(v).hoistableStyles,C=E.get(r);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(r,C),(E=v.querySelector(Nu(r)))&&!E._p&&(C.instance=E,C.state.loading=5),mi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mi.set(r,u),E||IN(v,r,u,C.state))),o&&f===null)throw Error(i(528,""));return C}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ga(u),u=ji(v).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ha(r){return'href="'+Nn(r)+'"'}function Nu(r){return'link[rel="stylesheet"]['+r+"]"}function $T(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function IN(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),pn(o,"link",u),zt(o),r.head.appendChild(o))}function Ga(r){return'[src="'+Nn(r)+'"]'}function Du(r){return"script[async]"+r}function jT(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Nn(u.href)+'"]');if(f)return o.instance=f,zt(f),f;var v=_({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),zt(f),pn(f,"style",v),Wf(f,u.precedence,r),o.instance=f;case"stylesheet":v=Ha(u.href);var E=r.querySelector(Nu(v));if(E)return o.state.loading|=4,o.instance=E,zt(E),E;f=$T(u),(v=mi.get(v))&&Dm(f,v),E=(r.ownerDocument||r).createElement("link"),zt(E);var C=E;return C._p=new Promise(function(b,z){C.onload=b,C.onerror=z}),pn(E,"link",f),o.state.loading|=4,Wf(E,u.precedence,r),o.instance=E;case"script":return E=Ga(u.src),(v=r.querySelector(Du(E)))?(o.instance=v,zt(v),v):(f=u,(v=mi.get(E))&&(f=_({},u),Mm(f,v)),r=r.ownerDocument||r,v=r.createElement("script"),zt(v),pn(v,"link",f),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Wf(f,u.precedence,r));return o.instance}function Wf(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,E=v,C=0;C<f.length;C++){var b=f[C];if(b.dataset.precedence===o)E=b;else if(E!==v)break}E?E.parentNode.insertBefore(r,E.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Dm(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Mm(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Xf=null;function QT(r,o,u){if(Xf===null){var f=new Map,v=Xf=new Map;v.set(u,f)}else v=Xf,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var E=u[v];if(!(E[Ki]||E[qt]||r==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var C=E.getAttribute(o)||"";C=r+C;var b=f.get(C);b?b.push(E):f.set(C,[E])}}return f}function WT(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function RN(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function XT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function NN(r,o,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ha(f.href),E=o.querySelector(Nu(v));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Zf.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=E,zt(E);return}E=o.ownerDocument||o,f=$T(f),(v=mi.get(v))&&Dm(f,v),E=E.createElement("link"),zt(E);var C=E;C._p=new Promise(function(b,z){C.onload=b,C.onerror=z}),pn(E,"link",f),u.instance=E}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Zf.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var Pm=0;function DN(r,o){return r.stylesheets&&r.count===0&&td(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var f=setTimeout(function(){if(r.stylesheets&&td(r,r.stylesheets),r.unsuspend){var E=r.unsuspend;r.unsuspend=null,E()}},6e4+o);0<r.imgBytes&&Pm===0&&(Pm=62500*fN());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&td(r,r.stylesheets),r.unsuspend)){var E=r.unsuspend;r.unsuspend=null,E()}},(r.imgBytes>Pm?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ed=null;function td(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ed=new Map,o.forEach(MN,r),ed=null,Zf.call(r))}function MN(r,o){if(!(o.state.loading&4)){var u=ed.get(r);if(u)var f=u.get(null);else{u=new Map,ed.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<v.length;E++){var C=v[E];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}v=o.instance,C=v.getAttribute("data-precedence"),E=u.get(C)||f,E===f&&u.set(null,v),u.set(C,v),this.count++,f=Zf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),E?E.parentNode.insertBefore(v,E.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var Mu={$$typeof:H,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function PN(r,o,u,f,v,E,C,b,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=E,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function ZT(r,o,u,f,v,E,C,b,z,X,ie,ue){return r=new PN(r,o,u,C,z,X,ie,ue,b),o=1,E===!0&&(o|=24),E=Kn(3,null,null,o),r.current=E,E.stateNode=r,o=dp(),o.refCount++,r.pooledCache=o,o.refCount++,E.memoizedState={element:f,isDehydrated:u,cache:o},gp(E),r}function eS(r){return r?(r=Ta,r):Ta}function tS(r,o,u,f,v,E){v=eS(v),f.context===null?f.context=v:f.pendingContext=v,f=_s(o),f.payload={element:u},E=E===void 0?null:E,E!==null&&(f.callback=E),u=Es(r,f,o),u!==null&&(Vn(u,r,o),cu(u,r,o))}function nS(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function km(r,o){nS(r,o),(r=r.alternate)&&nS(r,o)}function iS(r){if(r.tag===13||r.tag===31){var o=wo(r,67108864);o!==null&&Vn(o,r,67108864),km(r,67108864)}}function rS(r){if(r.tag===13||r.tag===31){var o=Xn();o=po(o);var u=wo(r,o);u!==null&&Vn(u,r,o),km(r,o)}}var nd=!0;function kN(r,o,u,f){var v=Z.T;Z.T=null;var E=de.p;try{de.p=2,Lm(r,o,u,f)}finally{de.p=E,Z.T=v}}function LN(r,o,u,f){var v=Z.T;Z.T=null;var E=de.p;try{de.p=8,Lm(r,o,u,f)}finally{de.p=E,Z.T=v}}function Lm(r,o,u,f){if(nd){var v=Vm(f);if(v===null)Tm(r,o,f,id,u),oS(r,f);else if(UN(v,r,o,u,f))f.stopPropagation();else if(oS(r,f),o&4&&-1<VN.indexOf(r)){for(;v!==null;){var E=ri(v);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var C=Hi(E.pendingLanes);if(C!==0){var b=E;for(b.pendingLanes|=2,b.entangledLanes|=2;C;){var z=1<<31-We(C);b.entanglements[1]|=z,C&=~z}lr(E),(ot&6)===0&&(Ff=un()+500,wu(0))}}break;case 31:case 13:b=wo(E,2),b!==null&&Vn(b,E,2),qf(),km(E,2)}if(E=Vm(f),E===null&&Tm(r,o,f,id,u),E===v)break;v=E}v!==null&&f.stopPropagation()}else Tm(r,o,f,null,u)}}function Vm(r){return r=si(r),Um(r)}var id=null;function Um(r){if(id=null,r=$i(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return id=r,null}function sS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case oe:return 2;case me:return 8;case Re:case He:return 32;case et:return 268435456;default:return 32}default:return 32}}var Om=!1,Ds=null,Ms=null,Ps=null,Pu=new Map,ku=new Map,ks=[],VN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oS(r,o){switch(r){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Pu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(o.pointerId)}}function Lu(r,o,u,f,v,E){return r===null||r.nativeEvent!==E?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:E,targetContainers:[v]},o!==null&&(o=ri(o),o!==null&&iS(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function UN(r,o,u,f,v){switch(o){case"focusin":return Ds=Lu(Ds,r,o,u,f,v),!0;case"dragenter":return Ms=Lu(Ms,r,o,u,f,v),!0;case"mouseover":return Ps=Lu(Ps,r,o,u,f,v),!0;case"pointerover":var E=v.pointerId;return Pu.set(E,Lu(Pu.get(E)||null,r,o,u,f,v)),!0;case"gotpointercapture":return E=v.pointerId,ku.set(E,Lu(ku.get(E)||null,r,o,u,f,v)),!0}return!1}function aS(r){var o=$i(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,xi(r.priority,function(){rS(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,xi(r.priority,function(){rS(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Vm(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);$l=f,u.target.dispatchEvent(f),$l=null}else return o=ri(u),o!==null&&iS(o),r.blockedOn=u,!1;o.shift()}return!0}function lS(r,o,u){rd(r)&&u.delete(o)}function ON(){Om=!1,Ds!==null&&rd(Ds)&&(Ds=null),Ms!==null&&rd(Ms)&&(Ms=null),Ps!==null&&rd(Ps)&&(Ps=null),Pu.forEach(lS),ku.forEach(lS)}function sd(r,o){r.blockedOn===o&&(r.blockedOn=null,Om||(Om=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ON)))}var od=null;function uS(r){od!==r&&(od=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){od===r&&(od=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],v=r[o+2];if(typeof f!="function"){if(Um(f||u)===null)continue;break}var E=ri(u);E!==null&&(r.splice(o,3),o-=3,Vp(E,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Ya(r){function o(z){return sd(z,r)}Ds!==null&&sd(Ds,r),Ms!==null&&sd(Ms,r),Ps!==null&&sd(Ps,r),Pu.forEach(o),ku.forEach(o);for(var u=0;u<ks.length;u++){var f=ks[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ks.length&&(u=ks[0],u.blockedOn===null);)aS(u),u.blockedOn===null&&ks.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],E=u[f+1],C=v[sn]||null;if(typeof E=="function")C||uS(u);else if(C){var b=null;if(E&&E.hasAttribute("formAction")){if(v=E,C=E[sn]||null)b=C.formAction;else if(Um(v)!==null)continue}else b=C.action;typeof b=="function"?u[f+1]=b:(u.splice(f,3),f-=3),uS(u)}}}function cS(){function r(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Fm(r){this._internalRoot=r}ad.prototype.render=Fm.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Xn();tS(u,f,r,o,null,null)},ad.prototype.unmount=Fm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;tS(r.current,2,null,r,null,null),qf(),o[Ji]=null}};function ad(r){this._internalRoot=r}ad.prototype.unstable_scheduleHydration=function(r){if(r){var o=Bc();r={blockedOn:null,target:r,priority:o};for(var u=0;u<ks.length&&o!==0&&o<ks[u].priority;u++);ks.splice(u,0,r),u===0&&aS(r)}};var fS=e.version;if(fS!=="19.2.0")throw Error(i(527,fS,"19.2.0"));de.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var FN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{kt=ld.inject(FN),Rt=ld}catch{}}return Uu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,f="",v=vE,E=_E,C=EE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=ZT(r,1,!1,null,null,u,f,null,v,E,C,cS),r[Ji]=o.current,Em(r),new Fm(o)},Uu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var f=!1,v="",E=vE,C=_E,b=EE,z=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(b=u.onRecoverableError),u.formState!==void 0&&(z=u.formState)),o=ZT(r,1,!0,o,u??null,f,v,z,E,C,b,cS),o.context=eS(null),u=o.current,f=Xn(),f=po(f),v=_s(f),v.callback=null,Es(u,v,f),u=f,o.current.lanes=u,fo(o,u),lr(o),r[Ji]=o.current,Em(r),new ad(o)},Uu.version="19.2.0",Uu}var TS;function QN(){if(TS)return zm.exports;TS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zm.exports=jN(),zm.exports}var WN=QN();const XN=ah(WN);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SS="popstate";function ZN(t={}){function e(s,a){let{pathname:l="/",search:c="",hash:h=""}=Wo(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),bg("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof a=="string"?a:oc(a))}function i(s,a){_i(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return t1(e,n,i,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _i(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e1(){return Math.random().toString(36).substring(2,10)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function bg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:n,key:e&&e.key||i||e1()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function t1(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function _(){c="POP";let O=m(),B=O==null?null:O-d;d=O,h&&h({action:c,location:D.location,delta:B})}function T(O,B){c="PUSH";let G=bg(D.location,O,B);n&&n(G,O),d=m()+1;let H=xS(G,d),re=D.createHref(G);try{l.pushState(H,"",re)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;s.location.assign(re)}a&&h&&h({action:c,location:D.location,delta:1})}function x(O,B){c="REPLACE";let G=bg(D.location,O,B);n&&n(G,O),d=m();let H=xS(G,d),re=D.createHref(G);l.replaceState(H,"",re),a&&h&&h({action:c,location:D.location,delta:0})}function I(O){return n1(O)}let D={get action(){return c},get location(){return t(s,l)},listen(O){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(SS,_),h=O,()=>{s.removeEventListener(SS,_),h=null}},createHref(O){return e(s,O)},createURL:I,encodeLocation(O){let B=I(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:x,go(O){return l.go(O)}};return D}function n1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:oc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function uw(t,e,n="/"){return i1(t,e,n,!1)}function i1(t,e,n,i){let s=typeof e=="string"?Wo(e):e,a=Kr(s.pathname||"/",n);if(a==null)return null;let l=cw(t);r1(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=m1(a);c=h1(l[h],d,i)}return c}function cw(t,e=[],n=[],i="",s=!1){let a=(l,c,h=s,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&h)return;bt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let _=Yr([i,m.relativePath]),T=n.concat(m);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),cw(l.children,e,T,_,h)),!(l.path==null&&!l.index)&&e.push({path:_,score:f1(_,l.index),routesMeta:T})};return t.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let d of fw(l.path))a(l,c,!0,d)}),e}function fw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=fw(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function r1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var s1=/^:[\w-]+$/,o1=3,a1=2,l1=1,u1=10,c1=-2,AS=t=>t==="*";function f1(t,e){let n=t.split("/"),i=n.length;return n.some(AS)&&(i+=c1),e&&(i+=a1),n.filter(s=>!AS(s)).reduce((s,a)=>s+(s1.test(a)?o1:a===""?l1:u1),i)}function d1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function h1(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",_=Ld({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),T=h.route;if(!_&&d&&n&&!i[i.length-1].route.index&&(_=Ld({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Yr([a,_.pathname]),pathnameBase:_1(Yr([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=Yr([a,_.pathnameBase]))}return l}function Ld(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=p1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},T)=>{if(m==="*"){let I=c[T]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const x=c[T];return _&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:t}}function p1(t,e=!1,n=!0){_i(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function m1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function g1(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:y1(n,e):e,search:E1(i),hash:T1(s)}}function y1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jm(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t){let e=v1(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ty(t,e,n,i=!1){let s;typeof t=="string"?s=Wo(t):(s={...t},bt(!s.pathname||!s.pathname.includes("?"),Jm("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Jm("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Jm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!i&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}c=_>=0?e[_]:"/"}let h=g1(s,c),d=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var Yr=t=>t.join("/").replace(/\/\/+/g,"/"),_1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dw=["POST","PUT","PATCH","DELETE"];new Set(dw);var x1=["GET",...dw];new Set(x1);var _l=$.createContext(null);_l.displayName="DataRouter";var lh=$.createContext(null);lh.displayName="DataRouterState";$.createContext(!1);var hw=$.createContext({isTransitioning:!1});hw.displayName="ViewTransition";var A1=$.createContext(new Map);A1.displayName="Fetchers";var C1=$.createContext(null);C1.displayName="Await";var Ui=$.createContext(null);Ui.displayName="Navigation";var vc=$.createContext(null);vc.displayName="Location";var Oi=$.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Sy=$.createContext(null);Sy.displayName="RouteError";function w1(t,{relative:e}={}){bt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=$.useContext(Ui),{hash:s,pathname:a,search:l}=_c(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Yr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function El(){return $.useContext(vc)!=null}function Tr(){return bt(El(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(vc).location}var pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mw(t){$.useContext(Ui).static||$.useLayoutEffect(t)}function Tl(){let{isDataRoute:t}=$.useContext(Oi);return t?F1():b1()}function b1(){bt(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(_l),{basename:e,navigator:n}=$.useContext(Ui),{matches:i}=$.useContext(Oi),{pathname:s}=Tr(),a=JSON.stringify(Ey(i)),l=$.useRef(!1);return mw(()=>{l.current=!0}),$.useCallback((h,d={})=>{if(_i(l.current,pw),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=Ty(h,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Yr([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,a,s,t])}$.createContext(null);function uh(){let{matches:t}=$.useContext(Oi),e=t[t.length-1];return e?e.params:{}}function _c(t,{relative:e}={}){let{matches:n}=$.useContext(Oi),{pathname:i}=Tr(),s=JSON.stringify(Ey(n));return $.useMemo(()=>Ty(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function I1(t,e){return gw(t,e)}function gw(t,e,n,i,s){var G;bt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(Ui),{matches:l}=$.useContext(Oi),c=l[l.length-1],h=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let H=_&&_.path||"";yw(d,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=Tr(),x;if(e){let H=typeof e=="string"?Wo(e):e;bt(m==="/"||((G=H.pathname)==null?void 0:G.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${H.pathname}" was given in the \`location\` prop.`),x=H}else x=T;let I=x.pathname||"/",D=I;if(m!=="/"){let H=m.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=uw(t,{pathname:D});_i(_||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_i(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=P1(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:Yr([m,a.encodeLocation?a.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?m:Yr([m,a.encodeLocation?a.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),l,n,i,s);return e&&B?$.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},B):B}function R1(){let t=O1(),e=S1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:s},n):null,l)}var N1=$.createElement(R1,null),D1=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?$.createElement(Oi.Provider,{value:this.props.routeContext},$.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M1({routeContext:t,match:e,children:n}){let i=$.useContext(_l);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Oi.Provider,{value:t},n)}function P1(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:_,errors:T}=n,x=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||x){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,_)=>{let T,x=!1,I=null,D=null;n&&(T=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||N1,c&&(h<0&&_===0?(yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,D=null):h===_&&(x=!0,D=m.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,_+1)),B=()=>{let G;return T?G=I:x?G=D:m.route.Component?G=$.createElement(m.route.Component,null):m.route.element?G=m.route.element:G=d,$.createElement(M1,{match:m,routeContext:{outlet:d,matches:O,isDataRoute:n!=null},children:G})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?$.createElement(D1,{location:n.location,revalidation:n.revalidation,component:I,error:T,children:B(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):B()},null)}function xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k1(t){let e=$.useContext(_l);return bt(e,xy(t)),e}function L1(t){let e=$.useContext(lh);return bt(e,xy(t)),e}function V1(t){let e=$.useContext(Oi);return bt(e,xy(t)),e}function Ay(t){let e=V1(t),n=e.matches[e.matches.length-1];return bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function U1(){return Ay("useRouteId")}function O1(){var i;let t=$.useContext(Sy),e=L1("useRouteError"),n=Ay("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function F1(){let{router:t}=k1("useNavigate"),e=Ay("useNavigate"),n=$.useRef(!1);return mw(()=>{n.current=!0}),$.useCallback(async(s,a={})=>{_i(n.current,pw),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var CS={};function yw(t,e,n){!e&&!CS[t]&&(CS[t]=!0,_i(!1,n))}$.memo(B1);function B1({routes:t,future:e,state:n,unstable_onError:i}){return gw(t,void 0,n,i,e)}function q1({to:t,replace:e,state:n,relative:i}){bt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=$.useContext(Ui);_i(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(Oi),{pathname:l}=Tr(),c=Tl(),h=Ty(t,Ey(a),l,i==="path"),d=JSON.stringify(h);return $.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:i})},[c,d,i,e,n]),null}function Ot(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z1({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){bt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=$.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Wo(n));let{pathname:h="/",search:d="",hash:m="",state:_=null,key:T="default"}=n,x=$.useMemo(()=>{let I=Kr(h,l);return I==null?null:{location:{pathname:I,search:d,hash:m,state:_,key:T},navigationType:i}},[l,h,d,m,_,T,i]);return _i(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:$.createElement(Ui.Provider,{value:c},$.createElement(vc.Provider,{children:e,value:x}))}function vw({children:t,location:e}){return I1(Ig(t),e)}function Ig(t,e=[]){let n=[];return $.Children.forEach(t,(i,s)=>{if(!$.isValidElement(i))return;let a=[...e,s];if(i.type===$.Fragment){n.push.apply(n,Ig(i.props.children,a));return}bt(i.type===Ot,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Ig(i.props.children,a)),n.push(l)}),n}var Ed="get",Td="application/x-www-form-urlencoded";function ch(t){return t!=null&&typeof t.tagName=="string"}function H1(t){return ch(t)&&t.tagName.toLowerCase()==="button"}function G1(t){return ch(t)&&t.tagName.toLowerCase()==="form"}function Y1(t){return ch(t)&&t.tagName.toLowerCase()==="input"}function J1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K1(t,e){return t.button===0&&(!e||e==="_self")&&!J1(t)}var ud=null;function $1(){if(ud===null)try{new FormData(document.createElement("form"),0),ud=!1}catch{ud=!0}return ud}var j1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(t){return t!=null&&!j1.has(t)?(_i(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):t}function Q1(t,e){let n,i,s,a,l;if(G1(t)){let c=t.getAttribute("action");i=c?Kr(c,e):null,n=t.getAttribute("method")||Ed,s=Km(t.getAttribute("enctype"))||Td,a=new FormData(t)}else if(H1(t)||Y1(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(i=h?Kr(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ed,s=Km(t.getAttribute("formenctype"))||Km(c.getAttribute("enctype"))||Td,a=new FormData(c,t),!$1()){let{name:d,type:m,value:_}=t;if(m==="image"){let T=d?`${d}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else d&&a.append(d,_)}}else{if(ch(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ed,i=null,s=Td,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function W1(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Kr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function X1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eD(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await X1(a,n);return l.links?l.links():[]}return[]}));return rD(i.flat(1).filter(Z1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wS(t,e,n,i,s,a){let l=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var m;return n[d].pathname!==h.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?e.filter((h,d)=>{var _;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let T=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function tD(t,e,{includeHydrateFallback:n}={}){return nD(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function nD(t){return[...new Set(t)]}function iD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function rD(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(iD(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function _w(){let t=$.useContext(_l);return Cy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sD(){let t=$.useContext(lh);return Cy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wy=$.createContext(void 0);wy.displayName="FrameworkContext";function Ew(){let t=$.useContext(wy);return Cy(t,"You must render this element inside a <HydratedRouter> element"),t}function oD(t,e){let n=$.useContext(wy),[i,s]=$.useState(!1),[a,l]=$.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=e,T=$.useRef(null);$.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let D=B=>{B.forEach(G=>{l(G.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[t]),$.useEffect(()=>{if(i){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[i]);let x=()=>{s(!0)},I=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,T,{}]:[a,T,{onFocus:Ou(c,x),onBlur:Ou(h,I),onMouseEnter:Ou(d,x),onMouseLeave:Ou(m,I),onTouchStart:Ou(_,x)}]:[!1,T,{}]}function Ou(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aD({page:t,...e}){let{router:n}=_w(),i=$.useMemo(()=>uw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?$.createElement(uD,{page:t,matches:i,...e}):null}function lD(t){let{manifest:e,routeModules:n}=Ew(),[i,s]=$.useState([]);return $.useEffect(()=>{let a=!1;return eD(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),i}function uD({page:t,matches:e,...n}){let i=Tr(),{manifest:s,routeModules:a}=Ew(),{basename:l}=_w(),{loaderData:c,matches:h}=sD(),d=$.useMemo(()=>wS(t,e,h,s,i,"data"),[t,e,h,s,i]),m=$.useMemo(()=>wS(t,e,h,s,i,"assets"),[t,e,h,s,i]),_=$.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,D=!1;if(e.forEach(B=>{var H;let G=s.routes[B.route.id];!G||!G.hasLoader||(!d.some(re=>re.route.id===B.route.id)&&B.route.id in c&&((H=a[B.route.id])!=null&&H.shouldRevalidate)||G.hasClientLoader?D=!0:I.add(B.route.id))}),I.size===0)return[];let O=W1(t,l,"data");return D&&I.size>0&&O.searchParams.set("_routes",e.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[O.pathname+O.search]},[l,c,i,s,d,e,t,a]),T=$.useMemo(()=>tD(m,s),[m,s]),x=lD(m);return $.createElement($.Fragment,null,_.map(I=>$.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),T.map(I=>$.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),x.map(({key:I,link:D})=>$.createElement("link",{key:I,nonce:n.nonce,...D})))}function cD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tw&&(window.__reactRouterVersion="7.9.5")}catch{}function fD({basename:t,children:e,window:n}){let i=$.useRef();i.current==null&&(i.current=ZN({window:n,v5Compat:!0}));let s=i.current,[a,l]=$.useState({action:s.action,location:s.location}),c=$.useCallback(h=>{$.startTransition(()=>l(h))},[l]);return $.useLayoutEffect(()=>s.listen(c),[s,c]),$.createElement(z1,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=$.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:m,viewTransition:_,...T},x){let{basename:I}=$.useContext(Ui),D=typeof d=="string"&&Sw.test(d),O,B=!1;if(typeof d=="string"&&D&&(O=d,Tw))try{let N=new URL(window.location.href),U=d.startsWith("//")?new URL(N.protocol+d):new URL(d),V=Kr(U.pathname,I);U.origin===N.origin&&V!=null?d=V+U.search+U.hash:B=!0}catch{_i(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=w1(d,{relative:s}),[H,re,fe]=oD(i,T),j=pD(d,{replace:l,state:c,target:h,preventScrollReset:m,relative:s,viewTransition:_});function M(N){e&&e(N),N.defaultPrevented||j(N)}let k=$.createElement("a",{...T,...fe,href:O||G,onClick:B||a?e:M,ref:cD(x,re),target:h,"data-discover":!D&&n==="render"?"true":void 0});return H&&!D?$.createElement($.Fragment,null,k,$.createElement(aD,{page:G})):k});tn.displayName="Link";var zr=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...d},m){let _=_c(l,{relative:d.relative}),T=Tr(),x=$.useContext(lh),{navigator:I,basename:D}=$.useContext(Ui),O=x!=null&&_D(_)&&c===!0,B=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,G=T.pathname,H=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(G=G.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&D&&(H=Kr(H,D)||H);const re=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let fe=G===B||!s&&G.startsWith(B)&&G.charAt(re)==="/",j=H!=null&&(H===B||!s&&H.startsWith(B)&&H.charAt(B.length)==="/"),M={isActive:fe,isPending:j,isTransitioning:O},k=fe?e:void 0,N;typeof i=="function"?N=i(M):N=[i,fe?"active":null,j?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(M):a;return $.createElement(tn,{...d,"aria-current":k,className:N,ref:m,style:U,to:l,viewTransition:c},typeof h=="function"?h(M):h)});zr.displayName="NavLink";var dD=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Ed,action:c,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:_,...T},x)=>{let I=yD(),D=vD(c,{relative:d}),O=l.toLowerCase()==="get"?"get":"post",B=typeof c=="string"&&Sw.test(c),G=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let re=H.nativeEvent.submitter,fe=(re==null?void 0:re.getAttribute("formmethod"))||l;I(re||H.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:s,state:a,relative:d,preventScrollReset:m,viewTransition:_})};return $.createElement("form",{ref:x,method:O,action:D,onSubmit:i?h:G,...T,"data-discover":!B&&t==="render"?"true":void 0})});dD.displayName="Form";function hD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(t){let e=$.useContext(_l);return bt(e,hD(t)),e}function pD(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Tl(),h=Tr(),d=_c(t,{relative:a});return $.useCallback(m=>{if(K1(m,e)){m.preventDefault();let _=n!==void 0?n:oc(h)===oc(d);c(t,{replace:_,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,d,n,i,e,t,s,a,l])}var mD=0,gD=()=>`__${String(++mD)}__`;function yD(){let{router:t}=xw("useSubmit"),{basename:e}=$.useContext(Ui),n=U1();return $.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=Q1(i,e);if(s.navigate===!1){let m=s.fetcherKey||gD();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function vD(t,{relative:e}={}){let{basename:n}=$.useContext(Ui),i=$.useContext(Oi);bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={..._c(t||".",{relative:e})},l=Tr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Yr([n,a.pathname])),oc(a)}function _D(t,{relative:e}={}){let n=$.useContext(hw);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xw("useViewTransitionState"),s=_c(t,{relative:e});if(!n.isTransitioning)return!1;let a=Kr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Kr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ld(s.pathname,l)!=null||Ld(s.pathname,a)!=null}const ED=()=>{};var bS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|d>>6,x=d&63;h||(x=64,l||(T=64)),i.push(n[m],n[_],n[T],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Aw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||d==null||_==null)throw new SD;const T=a<<2|c>>4;if(i.push(T),d!==64){const x=c<<4&240|d>>2;if(i.push(x),_!==64){const I=d<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xD=function(t){const e=Aw(t);return Cw.encodeByteArray(e,!0)},Vd=function(t){return xD(t).replace(/\./g,"")},ww=function(t){try{return Cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=()=>AD().__FIREBASE_DEFAULTS__,wD=()=>{if(typeof process>"u"||typeof bS>"u")return;const t=bS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ww(t[1]);return e&&JSON.parse(e)},fh=()=>{try{return ED()||CD()||wD()||bD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bw=t=>{var e,n;return(n=(e=fh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ID=t=>{const e=bw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Iw=()=>{var t;return(t=fh())==null?void 0:t.config},Rw=t=>{var e;return(e=fh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vd(JSON.stringify(n)),Vd(JSON.stringify(l)),""].join(".")}const Qu={};function DD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qu))Qu[e]?t.emulator.push(e):t.prod.push(e);return t}function MD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let IS=!1;function Dw(t,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||Qu[t]===e||Qu[t]||IS)return;Qu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=DD().prod.length>0;function l(){const T=document.getElementById(i);T&&T.remove()}function c(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function h(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{IS=!0,l()},T}function m(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=MD(i),x=n("text"),I=document.getElementById(x)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),B=n("preprendIcon"),G=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;c(H),m(O,D);const re=d();h(G,B),H.append(G,I,O,re),document.body.appendChild(H)}a?(I.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function kD(){var e;const t=(e=fh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OD(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FD(){return!kD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BD(){try{return typeof indexedDB=="object"}catch{return!1}}function qD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="FirebaseError";class Xr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zD,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?HD(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Xr(s,c,i)}}function HD(t,e){return t.replace(GD,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const GD=/\{\$([^}]+)}/g;function YD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],l=e[s];if(RS(a)&&RS(l)){if(!zo(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function RS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JD(t,e){const n=new KD(t,e);return n.subscribe.bind(n)}class KD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$D(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=$m),s.error===void 0&&(s.error=$m),s.complete===void 0&&(s.complete=$m);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $D(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new RD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WD(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QD(t){return t===Fo?void 0:t}function WD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const ZD={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},eM=$e.INFO,tM={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},nM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=tM[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=eM,this._logHandler=nM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const iM=(t,e)=>e.some(n=>t instanceof n);let NS,DS;function rM(){return NS||(NS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sM(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mw=new WeakMap,Rg=new WeakMap,Pw=new WeakMap,jm=new WeakMap,Iy=new WeakMap;function oM(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Gs(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Mw.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function aM(t){if(Rg.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Rg.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lM(t){Ng=t(Ng)}function uM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Qm(this),e,...n);return Pw.set(i,e.sort?e.sort():[e]),Gs(i)}:sM().includes(t)?function(...e){return t.apply(Qm(this),e),Gs(Mw.get(this))}:function(...e){return Gs(t.apply(Qm(this),e))}}function cM(t){return typeof t=="function"?uM(t):(t instanceof IDBTransaction&&aM(t),iM(t,rM())?new Proxy(t,Ng):t)}function Gs(t){if(t instanceof IDBRequest)return oM(t);if(jm.has(t))return jm.get(t);const e=cM(t);return e!==t&&(jm.set(t,e),Iy.set(e,t)),e}const Qm=t=>Iy.get(t);function fM(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Gs(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Gs(l.result),h.oldVersion,h.newVersion,Gs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const dM=["get","getKey","getAll","getAllKeys","count"],hM=["put","add","delete","clear"],Wm=new Map;function MS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=hM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||dM.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return Wm.set(e,a),a}lM(t=>({...t,get:(e,n,i)=>MS(e,n)||t.get(e,n,i),has:(e,n)=>!!MS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",PS="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new by("@firebase/app"),gM="@firebase/app-compat",yM="@firebase/analytics-compat",vM="@firebase/analytics",_M="@firebase/app-check-compat",EM="@firebase/app-check",TM="@firebase/auth",SM="@firebase/auth-compat",xM="@firebase/database",AM="@firebase/data-connect",CM="@firebase/database-compat",wM="@firebase/functions",bM="@firebase/functions-compat",IM="@firebase/installations",RM="@firebase/installations-compat",NM="@firebase/messaging",DM="@firebase/messaging-compat",MM="@firebase/performance",PM="@firebase/performance-compat",kM="@firebase/remote-config",LM="@firebase/remote-config-compat",VM="@firebase/storage",UM="@firebase/storage-compat",OM="@firebase/firestore",FM="@firebase/ai",BM="@firebase/firestore-compat",qM="firebase",zM="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",HM={[Dg]:"fire-core",[gM]:"fire-core-compat",[vM]:"fire-analytics",[yM]:"fire-analytics-compat",[EM]:"fire-app-check",[_M]:"fire-app-check-compat",[TM]:"fire-auth",[SM]:"fire-auth-compat",[xM]:"fire-rtdb",[AM]:"fire-data-connect",[CM]:"fire-rtdb-compat",[wM]:"fire-fn",[bM]:"fire-fn-compat",[IM]:"fire-iid",[RM]:"fire-iid-compat",[NM]:"fire-fcm",[DM]:"fire-fcm-compat",[MM]:"fire-perf",[PM]:"fire-perf-compat",[kM]:"fire-rc",[LM]:"fire-rc-compat",[VM]:"fire-gcs",[UM]:"fire-gcs-compat",[OM]:"fire-fst",[BM]:"fire-fst-compat",[FM]:"fire-vertex","fire-js":"fire-js",[qM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,GM=new Map,Pg=new Map;function kS(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fl(t){const e=t.name;if(Pg.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of Ud.values())kS(n,t);for(const n of GM.values())kS(n,t);return!0}function Ry(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Ec("app","Firebase",YM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=zM;function kw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Mg,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Ys.create("bad-app-name",{appName:String(s)});if(n||(n=Iw()),!n)throw Ys.create("no-options");const a=Ud.get(s);if(a){if(zo(n,a.options)&&zo(i,a.config))return a;throw Ys.create("duplicate-app",{appName:s})}const l=new XD(s);for(const h of Pg.values())l.addComponent(h);const c=new JM(n,i,l);return Ud.set(s,c),c}function Lw(t=Mg){const e=Ud.get(t);if(!e&&t===Mg&&Iw())return kw();if(!e)throw Ys.create("no-app",{appName:t});return e}function Js(t,e,n){let i=HM[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(l.join(" "));return}fl(new Ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="firebase-heartbeat-database",$M=1,ac="firebase-heartbeat-store";let Xm=null;function Vw(){return Xm||(Xm=fM(KM,$M,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),Xm}async function jM(t){try{const n=(await Vw()).transaction(ac),i=await n.objectStore(ac).get(Uw(t));return await n.done,i}catch(e){if(e instanceof Xr)$r.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function LS(t,e){try{const i=(await Vw()).transaction(ac,"readwrite");await i.objectStore(ac).put(e,Uw(t)),await i.done}catch(n){if(n instanceof Xr)$r.warn(n.message);else{const i=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(i.message)}}}function Uw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=1024,WM=30;class XM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=VS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>WM){const l=tP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$r.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VS(),{heartbeatsToSend:i,unsentEntries:s}=ZM(this._heartbeatsCache.heartbeats),a=Vd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return $r.warn(n),""}}}function VS(){return new Date().toISOString().substring(0,10)}function ZM(t,e=QM){const n=[];let i=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),US(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),US(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class eP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BD()?qD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return LS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return LS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function US(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}function tP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){fl(new Ho("platform-logger",e=>new pM(e),"PRIVATE")),fl(new Ho("heartbeat",e=>new XM(e),"PRIVATE")),Js(Dg,PS,t),Js(Dg,PS,"esm2020"),Js("fire-js","")}nP("");var iP="firebase",rP="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(iP,rP,"app");var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,Ow;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,k){function N(){}N.prototype=k.prototype,M.F=k.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(U,V,F){for(var P=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)P[pe-2]=arguments[pe];return k.prototype[V].apply(U,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,k,N){N||(N=0);const U=Array(16);if(typeof k=="string")for(var V=0;V<16;++V)U[V]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(V=0;V<16;++V)U[V]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=M.g[0],N=M.g[1],V=M.g[2];let F=M.g[3],P;P=k+(F^N&(V^F))+U[0]+3614090360&4294967295,k=N+(P<<7&4294967295|P>>>25),P=F+(V^k&(N^V))+U[1]+3905402710&4294967295,F=k+(P<<12&4294967295|P>>>20),P=V+(N^F&(k^N))+U[2]+606105819&4294967295,V=F+(P<<17&4294967295|P>>>15),P=N+(k^V&(F^k))+U[3]+3250441966&4294967295,N=V+(P<<22&4294967295|P>>>10),P=k+(F^N&(V^F))+U[4]+4118548399&4294967295,k=N+(P<<7&4294967295|P>>>25),P=F+(V^k&(N^V))+U[5]+1200080426&4294967295,F=k+(P<<12&4294967295|P>>>20),P=V+(N^F&(k^N))+U[6]+2821735955&4294967295,V=F+(P<<17&4294967295|P>>>15),P=N+(k^V&(F^k))+U[7]+4249261313&4294967295,N=V+(P<<22&4294967295|P>>>10),P=k+(F^N&(V^F))+U[8]+1770035416&4294967295,k=N+(P<<7&4294967295|P>>>25),P=F+(V^k&(N^V))+U[9]+2336552879&4294967295,F=k+(P<<12&4294967295|P>>>20),P=V+(N^F&(k^N))+U[10]+4294925233&4294967295,V=F+(P<<17&4294967295|P>>>15),P=N+(k^V&(F^k))+U[11]+2304563134&4294967295,N=V+(P<<22&4294967295|P>>>10),P=k+(F^N&(V^F))+U[12]+1804603682&4294967295,k=N+(P<<7&4294967295|P>>>25),P=F+(V^k&(N^V))+U[13]+4254626195&4294967295,F=k+(P<<12&4294967295|P>>>20),P=V+(N^F&(k^N))+U[14]+2792965006&4294967295,V=F+(P<<17&4294967295|P>>>15),P=N+(k^V&(F^k))+U[15]+1236535329&4294967295,N=V+(P<<22&4294967295|P>>>10),P=k+(V^F&(N^V))+U[1]+4129170786&4294967295,k=N+(P<<5&4294967295|P>>>27),P=F+(N^V&(k^N))+U[6]+3225465664&4294967295,F=k+(P<<9&4294967295|P>>>23),P=V+(k^N&(F^k))+U[11]+643717713&4294967295,V=F+(P<<14&4294967295|P>>>18),P=N+(F^k&(V^F))+U[0]+3921069994&4294967295,N=V+(P<<20&4294967295|P>>>12),P=k+(V^F&(N^V))+U[5]+3593408605&4294967295,k=N+(P<<5&4294967295|P>>>27),P=F+(N^V&(k^N))+U[10]+38016083&4294967295,F=k+(P<<9&4294967295|P>>>23),P=V+(k^N&(F^k))+U[15]+3634488961&4294967295,V=F+(P<<14&4294967295|P>>>18),P=N+(F^k&(V^F))+U[4]+3889429448&4294967295,N=V+(P<<20&4294967295|P>>>12),P=k+(V^F&(N^V))+U[9]+568446438&4294967295,k=N+(P<<5&4294967295|P>>>27),P=F+(N^V&(k^N))+U[14]+3275163606&4294967295,F=k+(P<<9&4294967295|P>>>23),P=V+(k^N&(F^k))+U[3]+4107603335&4294967295,V=F+(P<<14&4294967295|P>>>18),P=N+(F^k&(V^F))+U[8]+1163531501&4294967295,N=V+(P<<20&4294967295|P>>>12),P=k+(V^F&(N^V))+U[13]+2850285829&4294967295,k=N+(P<<5&4294967295|P>>>27),P=F+(N^V&(k^N))+U[2]+4243563512&4294967295,F=k+(P<<9&4294967295|P>>>23),P=V+(k^N&(F^k))+U[7]+1735328473&4294967295,V=F+(P<<14&4294967295|P>>>18),P=N+(F^k&(V^F))+U[12]+2368359562&4294967295,N=V+(P<<20&4294967295|P>>>12),P=k+(N^V^F)+U[5]+4294588738&4294967295,k=N+(P<<4&4294967295|P>>>28),P=F+(k^N^V)+U[8]+2272392833&4294967295,F=k+(P<<11&4294967295|P>>>21),P=V+(F^k^N)+U[11]+1839030562&4294967295,V=F+(P<<16&4294967295|P>>>16),P=N+(V^F^k)+U[14]+4259657740&4294967295,N=V+(P<<23&4294967295|P>>>9),P=k+(N^V^F)+U[1]+2763975236&4294967295,k=N+(P<<4&4294967295|P>>>28),P=F+(k^N^V)+U[4]+1272893353&4294967295,F=k+(P<<11&4294967295|P>>>21),P=V+(F^k^N)+U[7]+4139469664&4294967295,V=F+(P<<16&4294967295|P>>>16),P=N+(V^F^k)+U[10]+3200236656&4294967295,N=V+(P<<23&4294967295|P>>>9),P=k+(N^V^F)+U[13]+681279174&4294967295,k=N+(P<<4&4294967295|P>>>28),P=F+(k^N^V)+U[0]+3936430074&4294967295,F=k+(P<<11&4294967295|P>>>21),P=V+(F^k^N)+U[3]+3572445317&4294967295,V=F+(P<<16&4294967295|P>>>16),P=N+(V^F^k)+U[6]+76029189&4294967295,N=V+(P<<23&4294967295|P>>>9),P=k+(N^V^F)+U[9]+3654602809&4294967295,k=N+(P<<4&4294967295|P>>>28),P=F+(k^N^V)+U[12]+3873151461&4294967295,F=k+(P<<11&4294967295|P>>>21),P=V+(F^k^N)+U[15]+530742520&4294967295,V=F+(P<<16&4294967295|P>>>16),P=N+(V^F^k)+U[2]+3299628645&4294967295,N=V+(P<<23&4294967295|P>>>9),P=k+(V^(N|~F))+U[0]+4096336452&4294967295,k=N+(P<<6&4294967295|P>>>26),P=F+(N^(k|~V))+U[7]+1126891415&4294967295,F=k+(P<<10&4294967295|P>>>22),P=V+(k^(F|~N))+U[14]+2878612391&4294967295,V=F+(P<<15&4294967295|P>>>17),P=N+(F^(V|~k))+U[5]+4237533241&4294967295,N=V+(P<<21&4294967295|P>>>11),P=k+(V^(N|~F))+U[12]+1700485571&4294967295,k=N+(P<<6&4294967295|P>>>26),P=F+(N^(k|~V))+U[3]+2399980690&4294967295,F=k+(P<<10&4294967295|P>>>22),P=V+(k^(F|~N))+U[10]+4293915773&4294967295,V=F+(P<<15&4294967295|P>>>17),P=N+(F^(V|~k))+U[1]+2240044497&4294967295,N=V+(P<<21&4294967295|P>>>11),P=k+(V^(N|~F))+U[8]+1873313359&4294967295,k=N+(P<<6&4294967295|P>>>26),P=F+(N^(k|~V))+U[15]+4264355552&4294967295,F=k+(P<<10&4294967295|P>>>22),P=V+(k^(F|~N))+U[6]+2734768916&4294967295,V=F+(P<<15&4294967295|P>>>17),P=N+(F^(V|~k))+U[13]+1309151649&4294967295,N=V+(P<<21&4294967295|P>>>11),P=k+(V^(N|~F))+U[4]+4149444226&4294967295,k=N+(P<<6&4294967295|P>>>26),P=F+(N^(k|~V))+U[11]+3174756917&4294967295,F=k+(P<<10&4294967295|P>>>22),P=V+(k^(F|~N))+U[2]+718787259&4294967295,V=F+(P<<15&4294967295|P>>>17),P=N+(F^(V|~k))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+k&4294967295,M.g[1]=M.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+F&4294967295}i.prototype.v=function(M,k){k===void 0&&(k=M.length);const N=k-this.blockSize,U=this.C;let V=this.h,F=0;for(;F<k;){if(V==0)for(;F<=N;)s(this,M,F),F+=this.blockSize;if(typeof M=="string"){for(;F<k;)if(U[V++]=M.charCodeAt(F++),V==this.blockSize){s(this,U),V=0;break}}else for(;F<k;)if(U[V++]=M[F++],V==this.blockSize){s(this,U),V=0;break}}this.h=V,this.o+=k},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var k=1;k<M.length-8;++k)M[k]=0;k=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=k&255,k/=256;for(this.v(M),M=Array(16),k=0,N=0;N<4;++N)for(let U=0;U<32;U+=8)M[k++]=this.g[N]>>>U&255;return M};function a(M,k){var N=c;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=k(M)}function l(M,k){this.h=k;const N=[];let U=!0;for(let V=M.length-1;V>=0;V--){const F=M[V]|0;U&&F==k||(N[V]=F,U=!1)}this.g=N}var c={};function h(M){return-128<=M&&M<128?a(M,function(k){return new l([k|0],k<0?-1:0)}):new l([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return O(d(-M));const k=[];let N=1;for(let U=0;M>=N;U++)k[U]=M/N|0,N*=4294967296;return new l(k,0)}function m(M,k){if(M.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(M.charAt(0)=="-")return O(m(M.substring(1),k));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(k,8));let U=_;for(let F=0;F<M.length;F+=8){var V=Math.min(8,M.length-F);const P=parseInt(M.substring(F,F+V),k);V<8?(V=d(Math.pow(k,V)),U=U.j(V).add(d(P))):(U=U.j(N),U=U.add(d(P)))}return U}var _=h(0),T=h(1),x=h(16777216);t=l.prototype,t.m=function(){if(D(this))return-O(this).m();let M=0,k=1;for(let N=0;N<this.g.length;N++){const U=this.i(N);M+=(U>=0?U:4294967296+U)*k,k*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(D(this))return"-"+O(this).toString(M);const k=d(Math.pow(M,6));var N=this;let U="";for(;;){const V=re(N,k).g;N=B(N,V.j(k));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=V,I(N))return F+U;for(;F.length<6;)F="0"+F;U=F+U}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(let k=0;k<M.g.length;k++)if(M.g[k]!=0)return!1;return!0}function D(M){return M.h==-1}t.l=function(M){return M=B(this,M),D(M)?-1:I(M)?0:1};function O(M){const k=M.g.length,N=[];for(let U=0;U<k;U++)N[U]=~M.g[U];return new l(N,~M.h).add(T)}t.abs=function(){return D(this)?O(this):this},t.add=function(M){const k=Math.max(this.g.length,M.g.length),N=[];let U=0;for(let V=0;V<=k;V++){let F=U+(this.i(V)&65535)+(M.i(V)&65535),P=(F>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);U=P>>>16,F&=65535,P&=65535,N[V]=P<<16|F}return new l(N,N[N.length-1]&-2147483648?-1:0)};function B(M,k){return M.add(O(k))}t.j=function(M){if(I(this)||I(M))return _;if(D(this))return D(M)?O(this).j(O(M)):O(O(this).j(M));if(D(M))return O(this.j(O(M)));if(this.l(x)<0&&M.l(x)<0)return d(this.m()*M.m());const k=this.g.length+M.g.length,N=[];for(var U=0;U<2*k;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(let V=0;V<M.g.length;V++){const F=this.i(U)>>>16,P=this.i(U)&65535,pe=M.i(V)>>>16,_e=M.i(V)&65535;N[2*U+2*V]+=P*_e,G(N,2*U+2*V),N[2*U+2*V+1]+=F*_e,G(N,2*U+2*V+1),N[2*U+2*V+1]+=P*pe,G(N,2*U+2*V+1),N[2*U+2*V+2]+=F*pe,G(N,2*U+2*V+2)}for(M=0;M<k;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=k;M<2*k;M++)N[M]=0;return new l(N,0)};function G(M,k){for(;(M[k]&65535)!=M[k];)M[k+1]+=M[k]>>>16,M[k]&=65535,k++}function H(M,k){this.g=M,this.h=k}function re(M,k){if(I(k))throw Error("division by zero");if(I(M))return new H(_,_);if(D(M))return k=re(O(M),k),new H(O(k.g),O(k.h));if(D(k))return k=re(M,O(k)),new H(O(k.g),k.h);if(M.g.length>30){if(D(M)||D(k))throw Error("slowDivide_ only works with positive integers.");for(var N=T,U=k;U.l(M)<=0;)N=fe(N),U=fe(U);var V=j(N,1),F=j(U,1);for(U=j(U,2),N=j(N,2);!I(U);){var P=F.add(U);P.l(M)<=0&&(V=V.add(N),F=P),U=j(U,1),N=j(N,1)}return k=B(M,V.j(k)),new H(V,k)}for(V=_;M.l(k)>=0;){for(N=Math.max(1,Math.floor(M.m()/k.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),F=d(N),P=F.j(k);D(P)||P.l(M)>0;)N-=U,F=d(N),P=F.j(k);I(F)&&(F=T),V=V.add(F),M=B(M,P)}return new H(V,M)}t.B=function(M){return re(this,M).h},t.and=function(M){const k=Math.max(this.g.length,M.g.length),N=[];for(let U=0;U<k;U++)N[U]=this.i(U)&M.i(U);return new l(N,this.h&M.h)},t.or=function(M){const k=Math.max(this.g.length,M.g.length),N=[];for(let U=0;U<k;U++)N[U]=this.i(U)|M.i(U);return new l(N,this.h|M.h)},t.xor=function(M){const k=Math.max(this.g.length,M.g.length),N=[];for(let U=0;U<k;U++)N[U]=this.i(U)^M.i(U);return new l(N,this.h^M.h)};function fe(M){const k=M.g.length+1,N=[];for(let U=0;U<k;U++)N[U]=M.i(U)<<1|M.i(U-1)>>>31;return new l(N,M.h)}function j(M,k){const N=k>>5;k%=32;const U=M.g.length-N,V=[];for(let F=0;F<U;F++)V[F]=k>0?M.i(F+N)>>>k|M.i(F+N+1)<<32-k:M.i(F+N);return new l(V,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Ow=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Ks=l}).apply(typeof OS<"u"?OS:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fw,Ju,Bw,Sd,kg,qw,zw,Hw;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var A=0;A<g.length;++A){var w=g[A];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function s(g,A){if(A)e:{var w=i;g=g.split(".");for(var R=0;R<g.length-1;R++){var Q=g[R];if(!(Q in w))break e;w=w[Q]}g=g[g.length-1],R=w[g],A=A(R),A!=R&&A!=null&&e(w,g,{configurable:!0,writable:!0,value:A})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(A){var w=[],R;for(R in A)Object.prototype.hasOwnProperty.call(A,R)&&w.push([R,A[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function h(g,A,w){return g.call.apply(g.bind,arguments)}function d(g,A,w){return d=h,d.apply(null,arguments)}function m(g,A){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function _(g,A){function w(){}w.prototype=A.prototype,g.Z=A.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(R,Q,te){for(var ge=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ge[Oe-2]=arguments[Oe];return A.prototype[Q].apply(R,ge)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const A=g.length;if(A>0){const w=Array(A);for(let R=0;R<A;R++)w[R]=g[R];return w}return[]}function I(g,A){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var w=typeof Q;if(w=w!="object"?w:Q?Array.isArray(Q)?"array":w:"null",w=="array"||w=="object"&&typeof Q.length=="number"){w=g.length||0;const te=Q.length||0;g.length=w+te;for(let ge=0;ge<te;ge++)g[w+ge]=Q[ge]}else g.push(Q)}}class D{constructor(A,w){this.i=A,this.j=w,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function O(g){l.setTimeout(()=>{throw g},0)}function B(){var g=M;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class G{constructor(){this.h=this.g=null}add(A,w){const R=H.get();R.set(A,w),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new D(()=>new re,g=>g.reset());class re{constructor(){this.next=this.g=this.h=null}set(A,w){this.h=A,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,j=!1,M=new G,k=()=>{const g=Promise.resolve(void 0);fe=()=>{g.then(N)}};function N(){for(var g;g=B();){try{g.h.call(g.g)}catch(w){O(w)}var A=H;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}j=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};l.addEventListener("test",w,A),l.removeEventListener("test",w,A)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function pe(g,A){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}_(pe,V),pe.prototype.init=function(g,A){const w=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(w=="mouseover"?A=g.fromElement:w=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),Z=0;function de(g,A,w,R,Q){this.listener=g,this.proxy=null,this.src=A,this.type=w,this.capture=!!R,this.ha=Q,this.key=++Z,this.da=this.fa=!1}function Te(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ue(g,A,w){for(const R in g)A.call(w,g[R],R,g)}function q(g,A){for(const w in g)A.call(void 0,g[w],w,g)}function Y(g){const A={};for(const w in g)A[w]=g[w];return A}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(g,A){let w,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(w in R)g[w]=R[w];for(let te=0;te<se.length;te++)w=se[te],Object.prototype.hasOwnProperty.call(R,w)&&(g[w]=R[w])}}function ye(g){this.src=g,this.g={},this.h=0}ye.prototype.add=function(g,A,w,R,Q){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const ge=Ce(g,A,R,Q);return ge>-1?(A=g[ge],w||(A.fa=!1)):(A=new de(A,this.src,te,!!R,Q),A.fa=w,g.push(A)),A};function Ie(g,A){const w=A.type;if(w in g.g){var R=g.g[w],Q=Array.prototype.indexOf.call(R,A,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(R,Q,1),te&&(Te(A),g.g[w].length==0&&(delete g.g[w],g.h--))}}function Ce(g,A,w,R){for(let Q=0;Q<g.length;++Q){const te=g[Q];if(!te.da&&te.listener==A&&te.capture==!!w&&te.ha==R)return Q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),dt={};function rt(g,A,w,R,Q){if(Array.isArray(A)){for(let te=0;te<A.length;te++)rt(g,A[te],w,R,Q);return null}return w=uo(w),g&&g[_e]?g.J(A,w,c(R)?!!R.capture:!1,Q):Rn(g,A,w,!1,R,Q)}function Rn(g,A,w,R,Q,te){if(!A)throw Error("Invalid event type");const ge=c(Q)?!!Q.capture:!!Q;let Oe=Bi(g);if(Oe||(g[ze]=Oe=new ye(g)),w=Oe.add(A,w,R,ge,te),w.proxy)return w;if(R=Ei(),w.proxy=R,R.src=g,R.listener=w,g.addEventListener)F||(Q=ge),Q===void 0&&(Q=!1),g.addEventListener(A.toString(),R,Q);else if(g.attachEvent)g.attachEvent(ni(A.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ei(){function g(w){return A.call(g.src,g.listener,w)}const A=is;return g}function ts(g,A,w,R,Q){if(Array.isArray(A))for(var te=0;te<A.length;te++)ts(g,A[te],w,R,Q);else R=c(R)?!!R.capture:!!R,w=uo(w),g&&g[_e]?(g=g.i,te=String(A).toString(),te in g.g&&(A=g.g[te],w=Ce(A,w,R,Q),w>-1&&(Te(A[w]),Array.prototype.splice.call(A,w,1),A.length==0&&(delete g.g[te],g.h--)))):g&&(g=Bi(g))&&(A=g.g[A.toString()],g=-1,A&&(g=Ce(A,w,R,Q)),(w=g>-1?A[g]:null)&&ns(w))}function ns(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[_e])Ie(A.i,g);else{var w=g.type,R=g.proxy;A.removeEventListener?A.removeEventListener(w,R,g.capture):A.detachEvent?A.detachEvent(ni(w),R):A.addListener&&A.removeListener&&A.removeListener(R),(w=Bi(A))?(Ie(w,g),w.h==0&&(w.src=null,A[ze]=null)):Te(g)}}}function ni(g){return g in dt?dt[g]:dt[g]="on"+g}function is(g,A){if(g.da)g=!0;else{A=new pe(A,this);const w=g.listener,R=g.ha||g.src;g.fa&&ns(g),g=w.call(R,A)}return g}function Bi(g){return g=g[ze],g instanceof ye?g:null}var rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(g){return typeof g=="function"?g:(g[rs]||(g[rs]=function(A){return g.handleEvent(A)}),g[rs])}function It(){U.call(this),this.i=new ye(this),this.M=this,this.G=null}_(It,U),It.prototype[_e]=!0,It.prototype.removeEventListener=function(g,A,w,R){ts(this,g,A,w,R)};function Dt(g,A){var w,R=g.G;if(R)for(w=[];R;R=R.G)w.push(R);if(g=g.M,R=A.type||A,typeof A=="string")A=new V(A,g);else if(A instanceof V)A.target=A.target||g;else{var Q=A;A=new V(R,g),L(A,Q)}Q=!0;let te,ge;if(w)for(ge=w.length-1;ge>=0;ge--)te=A.g=w[ge],Q=qi(te,R,!0,A)&&Q;if(te=A.g=g,Q=qi(te,R,!0,A)&&Q,Q=qi(te,R,!1,A)&&Q,w)for(ge=0;ge<w.length;ge++)te=A.g=w[ge],Q=qi(te,R,!1,A)&&Q}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const w=g.g[A];for(let R=0;R<w.length;R++)Te(w[R]);delete g.g[A],g.h--}}this.G=null},It.prototype.J=function(g,A,w,R){return this.i.add(String(g),A,!1,w,R)},It.prototype.K=function(g,A,w,R){return this.i.add(String(g),A,!0,w,R)};function qi(g,A,w,R){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let Q=!0;for(let te=0;te<A.length;++te){const ge=A[te];if(ge&&!ge.da&&ge.capture==w){const Oe=ge.listener,Lt=ge.ha||ge.src;ge.fa&&Ie(g.i,ge),Q=Oe.call(Lt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function Vl(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(g,A||0)}function sa(g){g.g=Vl(()=>{g.g=null,g.i&&(g.i=!1,sa(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class un extends U{constructor(A,w){super(),this.m=A,this.l=w,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(g){U.call(this),this.h=g,this.g={}}_(Sr,U);var oe=[];function me(g){Ue(g.g,function(A,w){this.g.hasOwnProperty(w)&&ns(A)},g),g.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),me(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Re=l.JSON.stringify,He=l.JSON.parse,et=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function vn(){}function ii(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){V.call(this,"d")}_(Rt,V);function rn(){V.call(this,"c")}_(rn,V);var We={},Ti=null;function _n(){return Ti=Ti||new It}We.Ia="serverreachability";function Oc(g){V.call(this,We.Ia,g)}_(Oc,V);function zi(g){const A=_n();Dt(A,new Oc(A))}We.STAT_EVENT="statevent";function co(g,A){V.call(this,We.STAT_EVENT,g),this.stat=A}_(co,V);function Bt(g){const A=_n();Dt(A,new co(A,g))}We.Ja="timingevent";function Hi(g,A){V.call(this,We.Ja,g),this.size=A}_(Hi,V);function Gi(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function Gh(g,A,w,R,Q,te){g.info(function(){if(g.g)if(te){var ge="",Oe=te.split("&");for(let st=0;st<Oe.length;st++){var Lt=Oe[st].split("=");if(Lt.length>1){const Ct=Lt[0];Lt=Lt[1];const ai=Ct.split("_");ge=ai.length>=2&&ai[1]=="type"?ge+(Ct+"="+Lt+"&"):ge+(Ct+"=redacted&")}}}else ge=null;else ge=te;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+A+`
`+w+`
`+ge})}function Fc(g,A,w,R,Q,te,ge){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+A+`
`+w+`
`+te+" "+ge})}function Yi(g,A,w,R){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+Yh(g,w)+(R?" "+R:"")})}function fo(g,A){g.info(function(){return"TIMEOUT: "+A})}Si.prototype.info=function(){};function Yh(g,A){if(!g.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var w=te[g];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<R.length;ge++)R[ge]=""}}}}return Re(te)}catch{return A}}var ho={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ol;function po(){}_(po,vn),po.prototype.g=function(){return new XMLHttpRequest},Ol=new po;function xr(g){return encodeURIComponent(String(g))}function Bc(g){var A=1;g=g.split(":");const w=[];for(;A>0&&g.length;)w.push(g.shift()),A--;return g.length&&w.push(g.join(":")),w}function xi(g,A,w,R){this.j=g,this.i=A,this.l=w,this.S=R||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var qt={},sn={};function Ji(g,A,w){g.M=1,g.A=mo(Ht(A)),g.u=w,g.R=!0,oa(g,null)}function oa(g,A){g.F=Date.now(),Ki(g),g.B=Ht(g.A);var w=g.B,R=g.S;Array.isArray(R)||(R=[String(R)]),ca(w.i,"t",R),g.C=0,w=g.j.L,g.h=new Ai,g.g=tf(g.j,w?A:null,!g.u),g.P>0&&(g.O=new un(d(g.Y,g,g.g),g.P)),A=g.V,w=g.g,R=g.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(oe[0]=Q.toString()),Q=oe);for(let te=0;te<Q.length;te++){const ge=rt(w,Q[te],R||A.handleEvent,!1,A.h||A);if(!ge)break;A.g[ge.key]=ge}A=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),zi(),Gh(g.i,g.v,g.B,g.l,g.S,g.u)}xi.prototype.ba=function(g){g=g.target;const A=this.O;A&&bi(g)==3?A.j():this.Y(g)},xi.prototype.Y=function(g){try{if(g==this.g)e:{const Oe=bi(this.g),Lt=this.g.ya(),st=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Oe!=4||Lt==7||(Lt==8||st<=0?zi(3):zi(2)),$i(this);var A=this.g.ca();this.X=A;var w=Jh(this);if(this.o=A==200,Fc(this.i,this.v,this.B,this.l,this.S,Oe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var te=R;break t}}te=null}if(g=te)Yi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,g);else{this.o=!1,this.m=3,Bt(12),Gn(this),ri(this);break e}}if(this.R){g=!0;let Ct;for(;!this.K&&this.C<w.length;)if(Ct=zc(this,w),Ct==sn){Oe==4&&(this.m=4,Bt(14),g=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==qt){this.m=4,Bt(15),Yi(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else Yi(this.i,this.l,Ct,null),ji(this,Ct);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||w.length!=0||this.h.h||(this.m=1,Bt(16),g=!1),this.o=this.o&&g,!g)Yi(this.i,this.l,w,"[Invalid Chunked Response]"),Gn(this),ri(this);else if(w.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Zl(ge),ge.P=!0,Bt(11))}}else Yi(this.i,this.l,w,null),ji(this,w);Oe==4&&Gn(this),this.o&&!this.K&&(Oe==4?Wc(this.j,this):(this.o=!1,Ki(this)))}else Cr(this.g),A==400&&w.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Gn(this),ri(this)}}}catch{}finally{}};function Jh(g){if(!qc(g))return g.g.la();const A=cn(g.g);if(A==="")return"";let w="";const R=A.length,Q=bi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Gn(g),ri(g),"";g.h.i=new l.TextDecoder}for(let te=0;te<R;te++)g.h.h=!0,w+=g.h.i.decode(A[te],{stream:!(Q&&te==R-1)});return A.length=0,g.h.g+=w,g.C=0,g.h.g}function qc(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function zc(g,A){var w=g.C,R=A.indexOf(`
`,w);return R==-1?sn:(w=Number(A.substring(w,R)),isNaN(w)?qt:(R+=1,R+w>A.length?sn:(A=A.slice(R,R+w),g.C=R+w,A)))}xi.prototype.cancel=function(){this.K=!0,Gn(this)};function Ki(g){g.T=Date.now()+g.H,aa(g,g.H)}function aa(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Gi(d(g.aa,g),A)}function $i(g){g.D&&(l.clearTimeout(g.D),g.D=null)}xi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(fo(this.i,this.B),this.M!=2&&(zi(),Bt(17)),Gn(this),this.m=2,ri(this)):aa(this,this.T-g)};function ri(g){g.j.I==0||g.K||Wc(g.j,g)}function Gn(g){$i(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,me(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function ji(g,A){try{var w=g.j;if(w.I!=0&&(w.g==g||Wi(w.h,g))){if(!g.L&&Wi(w.h,g)&&w.I==3){try{var R=w.Ba.g.parse(A)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)ma(w),ds(w);else break e;So(w),Bt(18)}}else w.xa=Q[1],0<w.xa-w.K&&Q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Gi(d(w.Va,w),6e3));Qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else ir(w,11)}else if((g.L||w.g==g)&&ma(w),!P(A))for(Q=w.Ba.g.parse(A),A=0;A<Q.length;A++){let st=Q[A];const Ct=st[0];if(!(Ct<=w.K))if(w.K=Ct,st=st[1],w.I==2)if(st[0]=="c"){w.M=st[1],w.ba=st[2];const ai=st[3];ai!=null&&(w.ka=ai,w.j.info("VER="+w.ka));const rr=st[4];rr!=null&&(w.za=rr,w.j.info("SVER="+w.za));const Ii=st[5];Ii!=null&&typeof Ii=="number"&&Ii>0&&(R=1.5*Ii,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Ri=g.g;if(Ri){const xo=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var te=R.h;te.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ql(te,te.h),te.h=null))}if(R.G){const ga=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(R.wa=ga,ut(R.J,R.G,ga))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var ge=g;if(R.na=ef(R,R.L?R.ba:null,R.W),ge.L){zl(R.h,ge);var Oe=ge,Lt=R.O;Lt&&(Oe.H=Lt),Oe.D&&($i(Oe),Ki(Oe)),R.g=ge}else jc(R);w.i.length>0&&nr(w)}else st[0]!="stop"&&st[0]!="close"||ir(w,7);else w.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?ir(w,7):Wl(w):st[0]!="noop"&&w.l&&w.l.qa(st),w.A=0)}}zi(4)}catch{}}var zt=class{constructor(g,A){this.g=g,this.map=A}};function Fl(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Qi(g){return g.h?1:g.g?g.g.size:0}function Wi(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function ql(g,A){g.g?g.g.add(A):g.h=A}function zl(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}Fl.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Hl(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const w of g.g.values())A=A.concat(w.G);return A}return x(g.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(g,A){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const R=g[w].indexOf("=");let Q,te=null;R>=0?(Q=g[w].substring(0,R),te=g[w].substring(R+1)):Q=g[w],A(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Yn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof Yn?(this.l=g.l,on(this,g.j),this.o=g.o,this.g=g.g,ss(this,g.u),this.h=g.h,Gl(this,Kc(g.i)),this.m=g.m):g&&(A=String(g).match(Hc))?(this.l=!1,on(this,A[1]||"",!0),this.o=Xi(A[2]||""),this.g=Xi(A[3]||"",!0),ss(this,A[4]),this.h=Xi(A[5]||"",!0),Gl(this,A[6]||"",!0),this.m=Xi(A[7]||"")):(this.l=!1,this.i=new as(null,this.l))}Yn.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(go(A,ua,!0),":");var w=this.g;return(w||A=="file")&&(g.push("//"),(A=this.o)&&g.push(go(A,ua,!0),"@"),g.push(xr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(go(w,w.charAt(0)=="/"?Yl:Gc,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",go(w,Yc)),g.join("")},Yn.prototype.resolve=function(g){const A=Ht(this);let w=!!g.j;w?on(A,g.j):w=!!g.o,w?A.o=g.o:w=!!g.g,w?A.g=g.g:w=g.u!=null;var R=g.h;if(w)ss(A,g.u);else if(w=!!g.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=A.h.lastIndexOf("/");Q!=-1&&(R=A.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let ge=0;ge<Q.length;){const Oe=Q[ge++];Oe=="."?R&&ge==Q.length&&te.push(""):Oe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),R&&ge==Q.length&&te.push("")):(te.push(Oe),R=!0)}R=te.join("/")}else R=Q}return w?A.h=R:w=g.i.toString()!=="",w?Gl(A,Kc(g.i)):w=!!g.m,w&&(A.m=g.m),A};function Ht(g){return new Yn(g)}function on(g,A,w){g.j=w?Xi(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function ss(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function Gl(g,A,w){A instanceof as?(g.i=A,fa(g.i,g.l)):(w||(A=go(A,os)),g.i=new as(A,g.l))}function ut(g,A,w){g.i.set(A,w)}function mo(g){return ut(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Xi(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function go(g,A,w){return typeof g=="string"?(g=encodeURI(g).replace(A,Nn),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Nn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ua=/[#\/\?@]/g,Gc=/[#\?:]/g,Yl=/[#\?]/g,os=/[#\?@]/g,Yc=/#/g;function as(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Dn(g){g.g||(g.g=new Map,g.h=0,g.i&&la(g.i,function(A,w){g.add(decodeURIComponent(A.replace(/\+/g," ")),w)}))}t=as.prototype,t.add=function(g,A){Dn(this),this.i=null,g=ls(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(A),this.h+=1,this};function Jc(g,A){Dn(g),A=ls(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function Jl(g,A){return Dn(g),A=ls(g,A),g.g.has(A)}t.forEach=function(g,A){Dn(this),this.g.forEach(function(w,R){w.forEach(function(Q){g.call(A,Q,R,this)},this)},this)};function Kl(g,A){Dn(g);let w=[];if(typeof A=="string")Jl(g,A)&&(w=w.concat(g.g.get(ls(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)w=w.concat(g[A]);return w}t.set=function(g,A){return Dn(this),this.i=null,g=ls(this,g),Jl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=Kl(this,g),g.length>0?String(g[0]):A):A};function ca(g,A,w){Jc(g,A),w.length>0&&(g.i=null,g.g.set(ls(g,A),x(w)),g.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let R=0;R<A.length;R++){var w=A[R];const Q=xr(w);w=Kl(this,w);for(let te=0;te<w.length;te++){let ge=Q;w[te]!==""&&(ge+="="+xr(w[te])),g.push(ge)}}return this.i=g.join("&")};function Kc(g){const A=new as;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function ls(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function fa(g,A){A&&!g.j&&(Dn(g),g.i=null,g.g.forEach(function(w,R){const Q=R.toLowerCase();R!=Q&&(Jc(this,R),ca(this,Q,w))},g)),g.j=A}function Ci(g,A){const w=new Si;if(l.Image){const R=new Image;R.onload=m(si,w,"TestLoadImage: loaded",!0,A,R),R.onerror=m(si,w,"TestLoadImage: error",!1,A,R),R.onabort=m(si,w,"TestLoadImage: abort",!1,A,R),R.ontimeout=m(si,w,"TestLoadImage: timeout",!1,A,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else A(!1)}function $l(g,A){const w=new Si,R=new AbortController,Q=setTimeout(()=>{R.abort(),si(w,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:R.signal}).then(te=>{clearTimeout(Q),te.ok?si(w,"TestPingServer: ok",!0,A):si(w,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Q),si(w,"TestPingServer: error",!1,A)})}function si(g,A,w,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(w)}catch{}}function us(){this.g=new et}function Zi(g){this.i=g.Sb||null,this.h=g.ab||!1}_(Zi,vn),Zi.prototype.g=function(){return new yo(this.i,this.h)};function yo(g,A){It.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(yo,It),t=yo.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,wi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?cs(this):wi(this),this.readyState==3&&da(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,cs(this))},t.Na=function(g){this.g&&(this.response=g,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,wi(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var w=A.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=A.next();return g.join(`\r
`)};function wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function oi(g){let A="";return Ue(g,function(w,R){A+=R,A+=":",A+=w,A+=`\r
`}),A}function vo(g,A,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=oi(w),typeof g=="string"?w!=null&&xr(w):ut(g,A,w))}function ht(g){It.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ht,It);var er=/^https?$/i,jl=["POST","PUT"];t=ht.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ol.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(te){_o(this,te);return}if(g=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)w.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const te of R.keys())w.set(te,R.get(te));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),Q=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(jl,A,void 0)>=0)||R||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of w)this.g.setRequestHeader(te,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){_o(this,te)}};function _o(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,Ql(g),Ar(g)}function Ql(g){g.A||(g.A=!0,Dt(g,"complete"),Dt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Dt(this,"complete"),Dt(this,"abort"),Ar(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Eo(this):this.Xa())},t.Xa=function(){Eo(this)};function Eo(g){if(g.h&&typeof a<"u"){if(g.v&&bi(g)==4)setTimeout(g.Ca.bind(g),0);else if(Dt(g,"readystatechange"),bi(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var w;if(!(w=A)){var R;if(R=te===0){let ge=String(g.D).match(Hc)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),R=!er.test(ge?ge.toLowerCase():"")}w=R}if(w)Dt(g,"complete"),Dt(g,"success");else{g.o=6;try{var Q=bi(g)>2?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.ca()+"]",Ql(g)}}finally{Ar(g)}}}}function Ar(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,A||Dt(g,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),He(A)}};function cn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Cr(g){const A={};g=(g.g&&bi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(P(g[R]))continue;var w=Bc(g[R]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=A[Q]||[];A[Q]=te,te.push(w)}q(A,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(g,A,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||A}function fs(g){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,g),this.Za=tr("retryDelaySeedMs",1e4,g),this.Ta=tr("forwardChannelMaxRetries",2,g),this.va=tr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(g&&g.concurrentRequestLimit),this.Ba=new us,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fs.prototype,t.ka=8,t.I=1,t.connect=function(g,A,w,R){Bt(0),this.W=g,this.H=A||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=ef(this,null,this.W),nr(this)};function Wl(g){if(ha(g),g.I==3){var A=g.V++,w=Ht(g.J);if(ut(w,"SID",g.M),ut(w,"RID",A),ut(w,"TYPE","terminate"),To(g,w),A=new xi(g,g.j,A),A.M=2,A.A=mo(Ht(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!w&&l.Image&&(new Image().src=A.A,w=!0),w||(A.g=tf(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ki(A)}Zc(g)}function ds(g){g.g&&(Zl(g),g.g.cancel(),g.g=null)}function ha(g){ds(g),g.v&&(l.clearTimeout(g.v),g.v=null),ma(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function nr(g){if(!Bl(g.h)&&!g.m){g.m=!0;var A=g.Ea;fe||k(),j||(fe(),j=!0),M.add(A,g),g.D=0}}function pa(g,A){return Qi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Gi(d(g.Ea,g,A),Xc(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Q=new xi(this,this.j,g);let te=this.o;if(this.U&&(te?(te=Y(te),L(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var A=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(A+=R,A>4096){A=w;break e}if(A===4096||w===this.i.length-1){A=w+1;break e}}A=1e3}else A=1e3;A=$c(this,Q,A),w=Ht(this.J),ut(w,"RID",g),ut(w,"CVER",22),this.G&&ut(w,"X-HTTP-Session-Id",this.G),To(this,w),te&&(this.R?A="headers="+xr(oi(te))+"&"+A:this.u&&vo(w,this.u,te)),ql(this.h,Q),this.Ra&&ut(w,"TYPE","init"),this.S?(ut(w,"$req",A),ut(w,"SID","null"),Q.U=!0,Ji(Q,w,null)):Ji(Q,w,A),this.I=2}}else this.I==3&&(g?Xl(this,g):this.i.length==0||Bl(this.h)||Xl(this))};function Xl(g,A){var w;A?w=A.l:w=g.V++;const R=Ht(g.J);ut(R,"SID",g.M),ut(R,"RID",w),ut(R,"AID",g.K),To(g,R),g.u&&g.o&&vo(R,g.u,g.o),w=new xi(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),A&&(g.i=A.G.concat(g.i)),A=$c(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),ql(g.h,w),Ji(w,R,A)}function To(g,A){g.H&&Ue(g.H,function(w,R){ut(A,R,w)}),g.l&&Ue({},function(w,R){ut(A,R,w)})}function $c(g,A,w){w=Math.min(g.i.length,w);const R=g.l?d(g.l.Ka,g.l,g):null;e:{var Q=g.i;let Oe=-1;for(;;){const Lt=["count="+w];Oe==-1?w>0?(Oe=Q[0].g,Lt.push("ofs="+Oe)):Oe=0:Lt.push("ofs="+Oe);let st=!0;for(let Ct=0;Ct<w;Ct++){var te=Q[Ct].g;const ai=Q[Ct].map;if(te-=Oe,te<0)Oe=Math.max(0,Q[Ct].g-100),st=!1;else try{te="req"+te+"_"||"";try{var ge=ai instanceof Map?ai:Object.entries(ai);for(const[rr,Ii]of ge){let Ri=Ii;c(Ii)&&(Ri=Re(Ii)),Lt.push(te+rr+"="+encodeURIComponent(Ri))}}catch(rr){throw Lt.push(te+"type="+encodeURIComponent("_badmap")),rr}}catch{R&&R(ai)}}if(st){ge=Lt.join("&");break e}}ge=void 0}return g=g.i.splice(0,w),A.G=g,ge}function jc(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;fe||k(),j||(fe(),j=!0),M.add(A,g),g.A=0}}function So(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Gi(d(g.Da,g),Xc(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Gi(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),ds(this),Qc(this))};function Zl(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Qc(g){g.g=new xi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=Ht(g.na);ut(A,"RID","rpc"),ut(A,"SID",g.M),ut(A,"AID",g.K),ut(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&ut(A,"TO",g.ia),ut(A,"TYPE","xmlhttp"),To(g,A),g.u&&g.o&&vo(A,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=mo(Ht(A)),w.u=null,w.R=!0,oa(w,g)}t.Va=function(){this.C!=null&&(this.C=null,ds(this),So(this),Bt(19))};function ma(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Wc(g,A){var w=null;if(g.g==A){ma(g),Zl(g),g.g=null;var R=2}else if(Wi(g.h,A))w=A.G,zl(g.h,A),R=1;else return;if(g.I!=0){if(A.o)if(R==1){w=A.u?A.u.length:0,A=Date.now()-A.F;var Q=g.D;R=_n(),Dt(R,new Hi(R,w)),nr(g)}else jc(g);else if(Q=A.m,Q==3||Q==0&&A.X>0||!(R==1&&pa(g,A)||R==2&&So(g)))switch(w&&w.length>0&&(A=g.h,A.i=A.i.concat(w)),Q){case 1:ir(g,5);break;case 4:ir(g,10);break;case 3:ir(g,6);break;default:ir(g,2)}}}function Xc(g,A){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*A}function ir(g,A){if(g.j.info("Error code "+A),A==2){var w=d(g.bb,g),R=g.Ua;const Q=!R;R=new Yn(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||on(R,"https"),mo(R),Q?Ci(R.toString(),w):$l(R.toString(),w)}else Bt(2);g.I=0,g.l&&g.l.pa(A),Zc(g),ha(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Zc(g){if(g.I=0,g.ja=[],g.l){const A=Hl(g.h);(A.length!=0||g.i.length!=0)&&(I(g.ja,A),I(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function ef(g,A,w){var R=w instanceof Yn?Ht(w):new Yn(w);if(R.g!="")A&&(R.g=A+"."+R.g),ss(R,R.u);else{var Q=l.location;R=Q.protocol,A=A?A+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Yn(null);R&&on(te,R),A&&(te.g=A),Q&&ss(te,Q),w&&(te.h=w),R=te}return w=g.G,A=g.wa,w&&A&&ut(R,w,A),ut(R,"VER",g.ka),To(g,R),R}function tf(g,A,w){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new ht(new Zi({ab:w})):new ht(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}t=nf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hs(){}hs.prototype.g=function(g,A){return new bn(g,A)};function bn(g,A){It.call(this),this.g=new fs(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!P(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!P(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new wr(this)}_(bn,It),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Wl(this.g)},bn.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=Re(g),g=w);A.i.push(new zt(A.Ya++,g)),A.I==3&&nr(A)},bn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,bn.Z.N.call(this)};function rf(g){Rt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const w in A){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}_(rf,Rt);function sf(){rn.call(this),this.status=1}_(sf,rn);function wr(g){this.g=g}_(wr,nf),wr.prototype.ra=function(){Dt(this.g,"a")},wr.prototype.qa=function(g){Dt(this.g,new rf(g))},wr.prototype.pa=function(g){Dt(this.g,new sf)},wr.prototype.oa=function(){Dt(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Hw=function(){return new hs},zw=function(){return _n()},qw=We,kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Sd=ho,Ul.COMPLETE="complete",Bw=Ul,ii.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",It.prototype.listen=It.prototype.J,Ju=ii,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,Fw=ht}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});const FS="@firebase/firestore",BS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new by("@firebase/firestore");function ja(){return Go.logLevel}function Ee(t,...e){if(Go.logLevel<=$e.DEBUG){const n=e.map(Ny);Go.debug(`Firestore (${Al}): ${t}`,...n)}}function jr(t,...e){if(Go.logLevel<=$e.ERROR){const n=e.map(Ny);Go.error(`Firestore (${Al}): ${t}`,...n)}}function dl(t,...e){if(Go.logLevel<=$e.WARN){const n=e.map(Ny);Go.warn(`Firestore (${Al}): ${t}`,...n)}}function Ny(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Gw(t,i,n)}function Gw(t,e,n){let i=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw jr(i),new Error(i)}function lt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||Gw(e,s,i)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aP{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jr,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},c=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new Yw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class lP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new lP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const s=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=fP(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%62))}return i}}function je(t,e){return t<e?-1:t>e?1:0}function Lg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),a=e.charAt(i);if(s!==a)return Zm(s)===Zm(a)?je(s,a):Zm(s)?1:-1}return je(t.length,e.length)}const dP=55296,hP=57343;function Zm(t){const e=t.charCodeAt(0);return e>=dP&&e<=hP}function hl(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__name__";class cr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Me(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const a=cr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return je(e.length,n.length)}static compareSegments(e,n){const i=cr.isNumericId(e),s=cr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?cr.extractNumericId(e).compare(cr.extractNumericId(n)):Lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Et extends cr{construct(e,n,i){return new Et(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const pP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends cr{construct(e,n,i){return new gn(e,n,i)}static isValidIdentifier(e){return pP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zS}static keyField(){return new gn([zS])}static fromServerFormat(e){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Et.fromString(e))}static fromName(e){return new be(Et.fromString(e).popFirst(5))}static empty(){return new be(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mP(t,e,n,i){if(e===!0&&i===!0)throw new ve(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HS(t){if(!be.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GS(t){if(be.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(t);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sc(t,e){if(!Kw(t))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new ve(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=-62135596800,JS=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*JS);return new vt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YS)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JS}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Wt("string",vt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new vt(0,0))}static max(){return new ke(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function gP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(i===1e9?new vt(n+1,0):new vt(n,i));return new Qs(s,be.empty(),e)}function yP(t){return new Qs(t.readTime,t.key,lc)}class Qs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Qs(ke.min(),be.empty(),lc)}static max(){return new Qs(ke.max(),be.empty(),lc)}}function vP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==_P)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,i)=>{n(e)}))}static reject(e){return new ce(((n,i)=>{i(e)}))}static waitFor(e){return new ce(((n,i)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&n()}),(h=>i(h)))})),l=!0,a===s&&n()}))}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next((s=>s?ce.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,a)=>{i.push(n.call(this,s,a))})),this.waitFor(i)}static mapArray(e,n){return new ce(((i,s)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next((m=>{l[d]=m,++c,c===a&&i(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new ce(((i,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):i()};a()}))}}function TP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-1;function ph(t){return t==null}function Od(t){return t===0&&1/t==-1/0}function SP(t){return typeof t=="number"&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="";function xP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KS(e)),e=AP(t.get(n),e);return KS(e)}function AP(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case $w:n+="";break;default:n+=a}}return n}function KS(t){return t+$w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function no(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??mn.RED,this.left=s??mn.EMPTY,this.right=a??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new mn(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,i,s,a){return this}insert(e,n,i){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jS(this.data.getIterator())}getIteratorFrom(e){return new jS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class jS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new ei([])}unionWith(e){let n=new nn(gn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Qw("Invalid base64 string: "+a):a}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=CP.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="server_timestamp",Xw="__type__",Zw="__previous_value__",e0="__local_write_time__";function Py(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Xw])==null?void 0:i.stringValue)===Ww}function mh(t){const e=t.mapValue.fields[Zw];return Py(e)?mh(e):e}function uc(t){const e=Ws(t.mapValue.fields[e0].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,i,s,a,l,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Fd="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||Fd}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===Fd}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="__type__",bP="__max__",dd={mapValue:{}},n0="__vector__",Bd="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Py(t)?4:RP(t)?9007199254740991:IP(t)?10:11:Me(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ws(s.timestampValue),c=Ws(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Xs(s.bytesValue).isEqual(Xs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Ft(s.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Ft(s.integerValue)===Ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ft(s.doubleValue),c=Ft(a.doubleValue);return l===c?Od(l)===Od(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if($S(l)!==$S(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!_r(l[h],c[h])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function fc(t,e){return(t.values||[]).find((n=>_r(n,e)))!==void 0}function pl(t,e){if(t===e)return 0;const n=Zs(t),i=Zs(e);if(n!==i)return je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Ft(a.integerValue||a.doubleValue),h=Ft(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return QS(t.timestampValue,e.timestampValue);case 4:return QS(uc(t),uc(e));case 5:return Lg(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=Xs(a),h=Xs(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=je(c[d],h[d]);if(m!==0)return m}return je(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=je(Ft(a.latitude),Ft(l.latitude));return c!==0?c:je(Ft(a.longitude),Ft(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WS(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var T,x,I,D;const c=a.fields||{},h=l.fields||{},d=(T=c[Bd])==null?void 0:T.arrayValue,m=(x=h[Bd])==null?void 0:x.arrayValue,_=je(((I=d==null?void 0:d.values)==null?void 0:I.length)||0,((D=m==null?void 0:m.values)==null?void 0:D.length)||0);return _!==0?_:WS(d,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===dd.mapValue&&l===dd.mapValue)return 0;if(a===dd.mapValue)return 1;if(l===dd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const T=Lg(h[_],m[_]);if(T!==0)return T;const x=pl(c[h[_]],d[m[_]]);if(x!==0)return x}return je(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function QS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Ws(t),i=Ws(e),s=je(n.seconds,i.seconds);return s!==0?s:je(n.nanos,i.nanos)}function WS(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=pl(n[s],i[s]);if(a)return a}return je(n.length,i.length)}function ml(t){return Vg(t)}function Vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ws(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=Vg(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${Vg(n.fields[l])}`;return s+"}"})(t.mapValue):Me(61005,{value:t})}function xd(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,a)=>s+xd(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return no(i.fields,((a,l)=>{s+=a.length+xd(l)})),s})(t.mapValue);default:throw Me(13486,{value:t})}}function XS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ug(t){return!!t&&"integerValue"in t}function ky(t){return!!t&&"arrayValue"in t}function ZS(t){return!!t&&"nullValue"in t}function ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function IP(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[t0])==null?void 0:i.stringValue)===n0}function Wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return no(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Wu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return{...t}}function RP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=gn.emptyPath(),i={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Wu(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){no(n,((s,a)=>e[s]=a));for(const s of i)delete e[s]}clone(){return new Fn(Wu(this.value))}}function i0(t){const e=[];return no(t.fields,((n,i)=>{const s=new gn([n]);if(Ad(i)){const a=i0(i.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,i,s,a,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new xn(e,0,ke.min(),ke.min(),ke.min(),Fn.empty(),0)}static newFoundDocument(e,n,i,s){return new xn(e,1,n,ke.min(),i,s,0)}static newNoDocument(e,n){return new xn(e,2,n,ke.min(),ke.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,ke.min(),ke.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function tx(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?i=be.comparator(be.fromName(l.referenceValue),n.key):i=pl(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function nx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function NP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{}class Qt extends r0{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new MP(e,n,i):n==="array-contains"?new LP(e,i):n==="in"?new VP(e,i):n==="not-in"?new UP(e,i):n==="array-contains-any"?new OP(e,i):new Qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new PP(e,i):new kP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends r0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return s0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s0(t){return t.op==="and"}function o0(t){return DP(t)&&s0(t)}function DP(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function Og(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(o0(t))return t.filters.map((e=>Og(e))).join(",");{const e=t.filters.map((n=>Og(n))).join(",");return`${t.op}(${e})`}}function a0(t,e){return t instanceof Qt?(function(i,s){return s instanceof Qt&&i.op===s.op&&i.field.isEqual(s.field)&&_r(i.value,s.value)})(t,e):t instanceof Li?(function(i,s){return s instanceof Li&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((a,l,c)=>a&&a0(l,s.filters[c])),!0):!1})(t,e):void Me(19439)}function l0(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`})(t):t instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(l0).join(" ,")+"}"})(t):"Filter"}class MP extends Qt{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class PP extends Qt{constructor(e,n){super(e,"in",n),this.keys=u0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kP extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=u0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u0(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>be.fromName(i.referenceValue)))}class LP extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ky(n)&&fc(n.arrayValue,this.value)}}class VP extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class UP extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class OP extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>fc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n=null,i=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function ix(t,e=null,n=[],i=[],s=null,a=null,l=null){return new FP(t,e,n,i,s,a,l)}function Ly(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Og(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>ml(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>ml(i))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nx(t.startAt,e.startAt)&&nx(t.endAt,e.endAt)}function Fg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BP(t,e,n,i,s,a,l,c){return new bl(t,e,n,i,s,a,l,c)}function Uy(t){return new bl(t)}function rx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c0(t){return t.collectionGroup!==null}function Xu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new nn(gn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new dc(a,i))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new dc(gn.keyField(),i))}return e.Ie}function dr(t){const e=Ve(t);return e.Ee||(e.Ee=qP(e,Xu(t))),e.Ee}function qP(t,e){if(t.limitType==="F")return ix(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new dc(s.field,a)}));const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return ix(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Bg(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zd(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return Vy(dr(t),dr(e))&&t.limitType===e.limitType}function f0(t){return`${Ly(dr(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>l0(s))).join(", ")}]`),ph(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>ml(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>ml(s))).join(",")),`Target(${i})`})(dr(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&(function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):be.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,s){for(const a of Xu(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(l,c,h){const d=tx(l,c,h);return l.inclusive?d<=0:d<0})(i.startAt,Xu(i),s)||i.endAt&&!(function(l,c,h){const d=tx(l,c,h);return l.inclusive?d>=0:d>0})(i.endAt,Xu(i),s))})(t,e)}function zP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d0(t){return(e,n)=>{let i=!1;for(const s of Xu(t)){const a=HP(s,e,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function HP(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?pl(h,d):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,((n,i)=>{for(const[s,a]of i)e(s,a)}))}isEmpty(){return jw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new Nt(be.comparator);function Qr(){return GP}const h0=new Nt(be.comparator);function Ku(...t){let e=h0;for(const n of t)e=e.insert(n.key,n);return e}function p0(t){let e=h0;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Bo(){return Zu()}function m0(){return Zu()}function Zu(){return new Xo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YP=new Nt(be.comparator),JP=new nn(be.comparator);function Qe(...t){let e=JP;for(const n of t)e=e.add(n);return e}const KP=new nn(je);function $P(){return KP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function g0(t){return{integerValue:""+t}}function jP(t,e){return SP(e)?g0(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function QP(t,e,n){return t instanceof Hd?(function(s,a){const l={fields:{[Xw]:{stringValue:Ww},[e0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Py(a)&&(a=mh(a)),a&&(l.fields[Zw]=a),{mapValue:l}})(n,e):t instanceof hc?v0(t,e):t instanceof pc?_0(t,e):(function(s,a){const l=y0(s,a),c=sx(l)+sx(s.Ae);return Ug(l)&&Ug(s.Ae)?g0(c):Oy(s.serializer,c)})(t,e)}function WP(t,e,n){return t instanceof hc?v0(t,e):t instanceof pc?_0(t,e):n}function y0(t,e){return t instanceof Gd?(function(i){return Ug(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Hd extends vh{}class hc extends vh{constructor(e){super(),this.elements=e}}function v0(t,e){const n=E0(e);for(const i of t.elements)n.some((s=>_r(s,i)))||n.push(i);return{arrayValue:{values:n}}}class pc extends vh{constructor(e){super(),this.elements=e}}function _0(t,e){let n=E0(e);for(const i of t.elements)n=n.filter((s=>!_r(s,i)));return{arrayValue:{values:n}}}class Gd extends vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sx(t){return Ft(t.integerValue||t.doubleValue)}function E0(t){return ky(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XP(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof hc&&s instanceof hc||i instanceof pc&&s instanceof pc?hl(i.elements,s.elements,_r):i instanceof Gd&&s instanceof Gd?_r(i.Ae,s.Ae):i instanceof Hd&&s instanceof Hd})(t.transform,e.transform)}class ZP{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function T0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eh(t.key,Bn.none()):new xc(t.key,t.data,Bn.none());{const n=t.data,i=Fn.empty();let s=new nn(gn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new io(t.key,i,new ei(s.toArray()),Bn.none())}}function ek(t,e,n){t instanceof xc?(function(s,a,l){const c=s.value.clone(),h=ax(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof io?(function(s,a,l){if(!Cd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=ax(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(S0(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function ec(t,e,n,i){return t instanceof xc?(function(a,l,c,h){if(!Cd(a.precondition,l))return c;const d=a.value.clone(),m=lx(a.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,i):t instanceof io?(function(a,l,c,h){if(!Cd(a.precondition,l))return c;const d=lx(a.fieldTransforms,h,l),m=l.data;return m.setAll(S0(a)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(a,l,c){return Cd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function tk(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),a=y0(i.transform,s||null);a!=null&&(n===null&&(n=Fn.empty()),n.set(i.field,a))}return n||null}function ox(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&hl(i,s,((a,l)=>XP(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends _h{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class io extends _h{constructor(e,n,i,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function S0(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function ax(t,e,n){const i=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);i.set(a.field,WP(l,c,n[s]))}return i}function lx(t,e,n){const i=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);i.set(s.field,QP(a,l,e))}return i}class Eh extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&ek(a,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ec(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ec(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=m0();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=T0(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,i)=>ox(n,i)))&&hl(this.baseMutations,e.baseMutations,((n,i)=>ox(n,i)))}}class Fy{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return YP})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Fy(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Ze;function ok(t){switch(t){case le.OK:return Me(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function x0(t){if(t===void 0)return jr("GRPC error has no .code"),le.UNKNOWN;switch(t){case $t.OK:return le.OK;case $t.CANCELLED:return le.CANCELLED;case $t.UNKNOWN:return le.UNKNOWN;case $t.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case $t.INTERNAL:return le.INTERNAL;case $t.UNAVAILABLE:return le.UNAVAILABLE;case $t.UNAUTHENTICATED:return le.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case $t.NOT_FOUND:return le.NOT_FOUND;case $t.ALREADY_EXISTS:return le.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return le.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case $t.ABORTED:return le.ABORTED;case $t.OUT_OF_RANGE:return le.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return le.UNIMPLEMENTED;case $t.DATA_LOSS:return le.DATA_LOSS;default:return Me(39323,{code:t})}}(Ze=$t||($t={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Ks([4294967295,4294967295],0);function ux(t){const e=ak().encode(t),n=new Ow;return n.update(e),new Uint8Array(n.digest())}function cx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ks([n,i],0),new Ks([s,a],0)]}class By{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(i<0)throw new $u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(Ks.fromNumber(i)));return s.compare(lk)===1&&(s=new Ks([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ux(e),[i,s]=cx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new By(a,s,n);return i.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=ux(e),[i,s]=cx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,i,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Th(ke.min(),s,new Nt(je),Qr(),Qe())}}class Ac{constructor(e,n,i,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ac(i,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class A0{constructor(e,n){this.targetId=e,this.Ce=n}}class C0{constructor(e,n,i=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class fx{constructor(){this.ve=0,this.Fe=dx(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Me(38017,{changeType:a})}})),new Ac(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=dx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=hd(),this.He=hd(),this.Ye=new Nt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Fg(a))if(i===0){const l=new be(a.path);this.et(n,l,xn.newNoDocument(l,ke.min()))}else lt(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=Xs(i).toUint8Array()}catch(h){if(h instanceof Qw)return dl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new By(l,s,a)}catch(h){return dl(h instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Fg(c.target)){const h=new be(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,xn.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let i=Qe();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(i=i.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Th(e,n,this.Ye,this.je,i);return this.je=Qr(),this.Je=hd(),this.He=hd(),this.Ye=new Nt(je),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hd(){return new Nt(be.comparator)}function dx(){return new Nt(be.comparator)}const ck={asc:"ASCENDING",desc:"DESCENDING"},fk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dk={and:"AND",or:"OR"};class hk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pk(t,e){return Yd(t,e.toTimestamp())}function hr(t){return lt(!!t,49232),ke.fromTimestamp((function(n){const i=Ws(n);return new vt(i.seconds,i.nanos)})(t))}function qy(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=(function(s){return new Et(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function b0(t){const e=Et.fromString(t);return lt(M0(e),10190,{key:e.toString()}),e}function Hg(t,e){return qy(t.databaseId,e.path)}function eg(t,e){const n=b0(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(R0(n))}function I0(t,e){return qy(t.databaseId,e)}function mk(t){const e=b0(t);return e.length===4?Et.emptyPath():R0(e)}function Gg(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R0(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hx(t,e,n){return{name:Hg(t,e),fields:n.value.mapValue.fields}}function gk(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(d,m){return d.useProto3Json?(lt(m===void 0||typeof m=="string",58123),yn.fromBase64String(m||"")):(lt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?le.UNKNOWN:x0(d.code);return new ve(m,d.message||"")})(l);n=new C0(i,s,a,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=eg(t,i.document.name),a=hr(i.document.updateTime),l=i.document.createTime?hr(i.document.createTime):ke.min(),c=new Fn({mapValue:{fields:i.document.fields}}),h=xn.newFoundDocument(s,a,l,c),d=i.targetIds||[],m=i.removedTargetIds||[];n=new wd(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=eg(t,i.document),a=i.readTime?hr(i.readTime):ke.min(),l=xn.newNoDocument(s,a),c=i.removedTargetIds||[];n=new wd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=eg(t,i.document),a=i.removedTargetIds||[];n=new wd([],a,s,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new sk(s,a),c=i.targetId;n=new A0(c,l)}}return n}function yk(t,e){let n;if(e instanceof xc)n={update:hx(t,e.key,e.value)};else if(e instanceof Eh)n={delete:Hg(t,e.key)};else if(e instanceof io)n={update:hx(t,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof nk))return Me(16599,{Vt:e.type});n={verify:Hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,l){const c=l.transform;if(c instanceof Hd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Me(20930,{transform:l.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:pk(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(t,e.precondition)),n}function vk(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?hr(s.updateTime):hr(a);return l.isEqual(ke.min())&&(l=hr(a)),new ZP(l,s.transformResults||[])})(n,e)))):[]}function _k(t,e){return{documents:[I0(t,e.path)]}}function Ek(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=I0(t,s);const a=(function(d){if(d.length!==0)return D0(Li.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(d){if(d.length!==0)return d.map((m=>(function(T){return{field:Wa(T.field),direction:xk(T.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=qg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:s}}function Tk(t){let e=mk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){lt(i===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(_){const T=N0(_);return T instanceof Li&&o0(T)?T.getFilters():[T]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((T=>(function(I){return new dc(Xa(I.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(n.orderBy));let c=null;n.limit&&(c=(function(_){let T;return T=typeof _=="object"?_.value:_,ph(T)?null:T})(n.limit));let h=null;n.startAt&&(h=(function(_){const T=!!_.before,x=_.values||[];return new qd(x,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(_){const T=!_.before,x=_.values||[];return new qd(x,T)})(n.endAt)),BP(e,s,l,a,c,"F",h,d)}function Sk(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N0(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xa(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Xa(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xa(n.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xa(n.unaryFilter.field);return Qt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(Xa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((i=>N0(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function xk(t){return ck[t]}function Ak(t){return fk[t]}function Ck(t){return dk[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Xa(t){return gn.fromServerFormat(t.fieldPath)}function D0(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(ex(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(ZS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ex(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(ZS(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:Ak(n.op),value:n.value}}})(t):t instanceof Li?(function(n){const i=n.getFilters().map((s=>D0(s)));return i.length===1?i[0]:{compositeFilter:{op:Ck(n.op),filters:i}}})(t):Me(54877,{filter:t})}function wk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function M0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,i,s,a=ke.min(),l=ke.min(),c=yn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.yt=e}}function Ik(t){const e=Tk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.Cn=new Nk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Qs.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Nk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new nn(Et.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new nn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(P0,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="LruGarbageCollector",Dk=1048576;function gx([t,e],[n,i]){const s=je(t,n);return s===0?je(e,i):s}class Mk{constructor(e){this.Ir=e,this.buffer=new nn(gx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();gx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(mx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?Ee(mx,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Vr(3e5)}))}}class kk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(hh.ce);const i=new Mk(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(px)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),px):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,a,l,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(i=_,c=Date.now(),this.removeTargets(e,i,n)))).next((_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(d=Date.now(),ja()<=$e.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_}))))}}function Lk(t,e){return new kk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.changes=new Xo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&ec(i.mutation,s,ei.empty(),vt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const s=Bo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((a=>{let l=Ku();return a.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const i=Bo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const s=[];return i.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,i,s){let a=Qr();const l=Zu(),c=(function(){return Zu()})();return n.forEach(((h,d)=>{const m=i.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof io)?a=a.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),ec(m.mutation,d,m.mutation.getFieldMask(),vt.now())):l.set(d.key,ei.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new Uk(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const i=Zu();let s=new Nt(((l,c)=>l-c)),a=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=i.get(h)||ei.empty();m=c.applyToLocalView(d,m),i.set(h,m);const _=(s.get(c.batchId)||Qe()).add(h);s=s.insert(c.batchId,_)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,_=m0();m.forEach((T=>{if(!a.has(T)){const x=T0(n.get(T),i.get(T));x!==null&&_.set(T,x),a=a.add(T)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ce.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-a.size):ce.resolve(Bo());let c=lc,h=a;return l.next((d=>ce.forEach(d,((m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(m)?ce.resolve():this.remoteDocumentCache.getEntry(e,m).next((T=>{h=h.insert(m,T)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,h,d,Qe()))).next((m=>({batchId:c,changes:p0(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let s=Ku();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const a=n.collectionGroup;let l=Ku();return this.indexManager.getCollectionParents(e,a).next((c=>ce.forEach(c,(h=>{const d=(function(_,T){return new bl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next((m=>{m.forEach(((_,T)=>{l=l.insert(_,T)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,s)))).next((l=>{a.forEach(((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,xn.newInvalidDocument(m)))}));let c=Ku();return l.forEach(((h,d)=>{const m=a.get(h);m!==void 0&&ec(m.mutation,d,ei.empty(),vt.now()),yh(n,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:hr(s.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Ik(s.bundledQuery),readTime:hr(s.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.overlays=new Nt(be.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Bo();return ce.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&i.set(s,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,a)=>{this.St(e,n,a)})),ce.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const s=Bo(),a=n.length+1,l=new be(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let a=new Nt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let m=a.get(d.largestBatchId);m===null&&(m=Bo(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Bo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=s)););return ce.resolve(c)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new rk(n,i));let a=this.qr.get(n);a===void 0&&(a=Qe(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Qr=new nn(ln.$r),this.Ur=new nn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new ln(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new be(new Et([])),i=new ln(n,e),s=new ln(n,e+1),a=[];return this.Ur.forEachInRange([i,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new Et([])),i=new ln(n,e),s=new ln(n,e+1);let a=Qe();return this.Ur.forEachInRange([i,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new ln(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(ln.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ik(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new ln(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),a=s<0?0:s;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?My:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn(je);return n.forEach((s=>{const a=new ln(s,0),l=new ln(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{i=i.add(c.Yr)}))})),ce.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let a=i;be.isDocumentKey(a)||(a=a.child(""));const l=new ln(new be(a),0);let c=new nn(je);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Yr)),!0)}),l),ce.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ce.forEach(n.mutations,(s=>{const a=new ln(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new ln(n,0),s=this.Zr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.ri=e,this.docs=(function(){return new Nt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let i=Qr();return n.forEach((s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():xn.newInvalidDocument(s))})),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let a=Qr();const l=n.path,c=new be(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||vP(yP(m),i)<=0||(s.has(m.key)||yh(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,n,i,s){Me(9500)}ii(e,n){return ce.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Gk(this)}getSize(e){return ce.resolve(this.size)}}class Gk extends Vk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.persistence=e,this.si=new Xo((n=>Ly(n)),Vy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new zy,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),ce.waitFor(a).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ce.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new qk,this.referenceDelegate=e(this),this.Pi=new Yk(this),this.indexManager=new Rk,this.remoteDocumentCache=(function(s){return new Hk(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new bk(n),this.Ii=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new zk(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new Jk(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return ce.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class Jk extends EP{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Ri=new zy,this.Vi=null}static mi(e){return new Hy(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(i=>{const s=be.fromPath(i);return this.gi(e,s).next((a=>{a||n.removeEntry(s,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jd{constructor(e,n){this.persistence=e,this.pi=new Xo((i=>xP(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=Lk(this,n)}static mi(e,n){return new Jd(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((i,s)=>this.br(e,i,s).next((a=>a?ce.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((c=>{c||(i++,a.removeEntry(l,ke.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}br(e,n,i){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ce.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Qe(),s=Qe();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Gy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FD()?8:TP(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,i).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new Kk;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(ja()<=$e.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(ja()<=$e.DEBUG&&Ee("QueryEngine","Query:",Qa(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(ja()<=$e.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):ce.resolve())}ys(e,n){if(rx(n))return ce.resolve(null);let i=dr(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=zd(n,null,"F"),i=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const l=Qe(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,i).next((h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(e,zd(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,i,s){return rx(n)||s.isEqual(ke.min())?ce.resolve(null):this.ps.getDocuments(e,i).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,i,s)?ce.resolve(null):(ja()<=$e.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qa(n)),this.vs(e,l,n,gP(s,lc)).next((c=>c)))}))}Ds(e,n){let i=new nn(d0(e));return n.forEach(((s,a)=>{yh(e,a)&&(i=i.add(a))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,i){return ja()<=$e.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LocalStore",jk=3e8;class Qk{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Nt(je),this.xs=new Xo((a=>Ly(a)),Vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ok(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Wk(t,e,n,i){return new Qk(t,e,n,i)}async function L0(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const l=[],c=[];let h=Qe();for(const d of s){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of a){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function Xk(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,m){const _=d.batch,T=_.keys();let x=ce.resolve();return T.forEach((I=>{x=x.next((()=>m.getEntry(h,I))).next((D=>{const O=d.docVersions.get(I);lt(O!==null,48541),D.version.compareTo(O)<0&&(_.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),m.addEntry(D)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(h,_)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(c){let h=Qe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function V0(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Zk(t,e){const n=Ve(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((m,_)=>{const T=s.get(_);if(!T)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,_))));let x=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,i)),s=s.insert(_,x),(function(D,O,B){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=jk?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let h=Qr(),d=Qe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(e2(a,l,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!i.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));c.push(m)}return ce.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,d))).next((()=>h))})).then((a=>(n.Ms=s,a)))}function e2(t,e,n){let i=Qe(),s=Qe();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let l=Qr();return n.forEach(((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Ee(Yy,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function t2(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=My),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function n2(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((a=>a?(s=a,ce.resolve(s)):n.Pi.allocateTargetId(i).next((l=>(s=new zs(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Yg(t,e,n){const i=Ve(t),s=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(l=>i.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!wl(l))throw l;Ee(Yy,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function yx(t,e,n){const i=Ve(t);let s=ke.min(),a=Qe();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,d,m){const _=Ve(h),T=_.xs.get(m);return T!==void 0?ce.resolve(_.Ms.get(T)):_.Pi.getTargetData(d,m)})(i,l,dr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{a=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?a:Qe()))).next((c=>(i2(i,zP(e),c),{documents:c,Qs:a})))))}function i2(t,e,n){let i=t.Os.get(e)||ke.min();n.forEach(((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Os.set(e,i)}class vx{constructor(){this.activeTargetIds=$P()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r2{constructor(){this.Mo=new vx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="ConnectivityMonitor";class Ex{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(_x,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(_x,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function Jg(){return pd===null?pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",o2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Fd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,a){const l=Jg(),c=this.zo(e,n.toUriEncodedString());Ee(tg,`Sending RPC '${e}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:d}=new URL(c),m=Sl(d);return this.Jo(e,c,h,i,m).then((_=>(Ee(tg,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw dl(tg,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",i),_}))}Ho(e,n,i,s,a,l){return this.Go(e,n,i,s,a)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),i&&i.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const i=o2[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class u2 extends a2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,a){const l=Jg();return new Promise(((c,h)=>{const d=new Fw;d.setWithCredentials(!0),d.listenOnce(Bw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Sd.NO_ERROR:const _=d.getResponseJson();Ee(Tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Sd.TIMEOUT:Ee(Tn,`RPC '${e}' ${l} timed out`),h(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:const T=d.getStatus();if(Ee(Tn,`RPC '${e}' ${l} failed with status:`,T,"response text:",d.getResponseText()),T>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const I=x==null?void 0:x.error;if(I&&I.status&&I.message){const D=(function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(G)>=0?G:le.UNKNOWN})(I.status);h(new ve(D,I.message))}else h(new ve(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ee(Tn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);Ee(Tn,`RPC '${e}' ${l} sending request:`,s),d.send(n,"POST",m,i,15)}))}T_(e,n,i){const s=Jg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Hw(),c=zw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=a.join("");Ee(Tn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const _=l.createWebChannel(m,h);this.I_(_);let T=!1,x=!1;const I=new l2({Yo:O=>{x?Ee(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(T||(Ee(Tn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),Ee(Tn,`RPC '${e}' stream ${s} sending:`,O),_.send(O))},Zo:()=>_.close()}),D=(O,B,G)=>{O.listen(B,(H=>{try{G(H)}catch(re){setTimeout((()=>{throw re}),0)}}))};return D(_,Ju.EventType.OPEN,(()=>{x||(Ee(Tn,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),D(_,Ju.EventType.CLOSE,(()=>{x||(x=!0,Ee(Tn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(_))})),D(_,Ju.EventType.ERROR,(O=>{x||(x=!0,dl(Tn,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),I.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),D(_,Ju.EventType.MESSAGE,(O=>{var B;if(!x){const G=O.data[0];lt(!!G,16349);const H=G,re=(H==null?void 0:H.error)||((B=H[0])==null?void 0:B.error);if(re){Ee(Tn,`RPC '${e}' stream ${s} received error:`,re);const fe=re.status;let j=(function(N){const U=$t[N];if(U!==void 0)return x0(U)})(fe),M=re.message;j===void 0&&(j=le.INTERNAL,M="Unknown error status: "+fe+" with message "+re.message),x=!0,I.a_(new ve(j,M)),_.close()}else Ee(Tn,`RPC '${e}' stream ${s} received:`,G),I.u_(G)}})),D(c,qw.STAT_EVENT,(O=>{O.stat===kg.PROXY?Ee(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===kg.NOPROXY&&Ee(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return new hk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,i=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="PersistentStream";class O0{constructor(e,n,i,s,a,l,c,h){this.Mi=e,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new ve(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Tx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Tx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c2 extends O0{constructor(e,n,i,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gk(this.serializer,e),i=(function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?hr(l.readTime):ke.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Gg(this.serializer),n.addTarget=(function(a,l){let c;const h=l.target;if(c=Fg(h)?{documents:_k(a,h)}:{query:Ek(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=w0(a,l.resumeToken);const d=qg(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Yd(a,l.snapshotVersion.toTimestamp());const d=qg(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const i=Sk(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Gg(this.serializer),n.removeTarget=e,this.q_(n)}}class f2 extends O0{constructor(e,n,i,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vk(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Gg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>yk(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class h2 extends d2{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,zg(n,i),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(le.UNKNOWN,a.toString())}))}Ho(e,n,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,zg(n,i),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class m2{constructor(e,n,i,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{Zo(this)&&(Ee(Yo,"Restarting streams for network reachability change."),await(async function(h){const d=Ve(h);d.Ea.add(4),await Cc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await xh(d)})(this))}))})),this.Ra=new p2(i,s)}}async function xh(t){if(Zo(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function F0(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jy(n)?$y(n):Il(n).O_()&&Ky(n,e))}function Jy(t,e){const n=Ve(t),i=Il(n);n.Ia.delete(e),i.O_()&&B0(n,e),n.Ia.size===0&&(i.O_()?i.L_():Zo(n)&&n.Ra.set("Unknown"))}function Ky(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Y_(e)}function B0(t,e){t.Va.Ue(e),Il(t).Z_(e)}function $y(t){t.Va=new uk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Ra.ua()}function jy(t){return Zo(t)&&!Il(t).x_()&&t.Ia.size>0}function Zo(t){return Ve(t).Ea.size===0}function q0(t){t.Va=void 0}async function g2(t){t.Ra.set("Online")}async function y2(t){t.Ia.forEach(((e,n)=>{Ky(t,e)}))}async function v2(t,e){q0(t),jy(t)?(t.Ra.ha(e),$y(t)):t.Ra.set("Unknown")}async function _2(t,e,n){if(t.Ra.set("Online"),e instanceof C0&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(i){Ee(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kd(t,i)}else if(e instanceof wd?t.Va.Ze(e):e instanceof A0?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const i=await V0(t.localStore);n.compareTo(i)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ia.get(d);m&&a.Ia.set(d,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,d)=>{const m=a.Ia.get(h);if(!m)return;a.Ia.set(h,m.withResumeToken(yn.EMPTY_BYTE_STRING,m.snapshotVersion)),B0(a,h);const _=new zs(m.target,h,d,m.sequenceNumber);Ky(a,_)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(i){Ee(Yo,"Failed to raise snapshot:",i),await Kd(t,i)}}async function Kd(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>V0(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xh(t)}))}function z0(t,e){return e().catch((n=>Kd(t,n,e)))}async function Ah(t){const e=Ve(t),n=eo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:My;for(;E2(e);)try{const s=await t2(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,T2(e,s)}catch(s){await Kd(e,s)}H0(e)&&G0(e)}function E2(t){return Zo(t)&&t.Ta.length<10}function T2(t,e){t.Ta.push(e);const n=eo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function H0(t){return Zo(t)&&!eo(t).x_()&&t.Ta.length>0}function G0(t){eo(t).start()}async function S2(t){eo(t).ra()}async function x2(t){const e=eo(t);for(const n of t.Ta)e.ea(n.mutations)}async function A2(t,e,n){const i=t.Ta.shift(),s=Fy.from(i,e,n);await z0(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Ah(t)}async function C2(t,e){e&&eo(t).X_&&await(async function(i,s){if((function(l){return ok(l)&&l!==le.ABORTED})(s.code)){const a=i.Ta.shift();eo(i).B_(),await z0(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Ah(i)}})(t,e),H0(t)&&G0(t)}async function Sx(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Ee(Yo,"RemoteStore received new credentials");const i=Zo(n);n.Ea.add(3),await Cc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xh(n)}async function w2(t,e){const n=Ve(t);e?(n.Ea.delete(2),await xh(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,i,s){const a=Ve(n);return a.sa(),new c2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:g2.bind(null,t),t_:y2.bind(null,t),r_:v2.bind(null,t),H_:_2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),jy(t)?$y(t):t.Ra.set("Unknown")):(await t.ma.stop(),q0(t))}))),t.ma}function eo(t){return t.fa||(t.fa=(function(n,i,s){const a=Ve(n);return a.sa(),new f2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:S2.bind(null,t),r_:C2.bind(null,t),ta:x2.bind(null,t),na:A2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ah(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const l=Date.now()+i,c=new Qy(e,n,l,s,a);return c.start(i),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(t,e){if(jr("AsyncQueue",`${e}: ${t}`),wl(t))return new ve(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Ku(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new tl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.ga=new Nt(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class yl{constructor(e,n,i,s,a,l,c,h,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new yl(e,n,tl.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I2{constructor(){this.queries=Ax(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Ve(n),a=s.queries;s.queries=Ax(),a.forEach(((l,c)=>{for(const h of c.Sa)h.onError(i)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function Ax(){return new Xo((t=>f0(t)),gh)}async function Y0(t,e){const n=Ve(t);let i=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(i=2):(a=new b2,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Wy(l,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Xy(n)}async function J0(t,e){const n=Ve(t),i=e.query;let s=3;const a=n.queries.get(i);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R2(t,e){const n=Ve(t);let i=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&Xy(n)}function N2(t,e,n){const i=Ve(t),s=i.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);i.queries.delete(e)}function Xy(t){t.Ca.forEach((e=>{e.next()}))}var Kg,Cx;(Cx=Kg||(Kg={})).Ma="default",Cx.Cache="cache";class K0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.key=e}}class j0{constructor(e){this.key=e}}class D2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=d0(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new xx,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,_)=>{const T=s.get(m),x=yh(this.query,_)?_:null,I=!!T&&this.mutatedKeys.has(T.key),D=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;T&&x?T.data.isEqual(x.data)?I!==D&&(i.track({type:3,doc:x}),O=!0):this.su(T,x)||(i.track({type:2,doc:x}),O=!0,(h&&this.eu(x,h)>0||d&&this.eu(x,d)<0)&&(c=!0)):!T&&x?(i.track({type:0,doc:x}),O=!0):T&&!x&&(i.track({type:1,doc:T}),O=!0,(h||d)&&(c=!0)),O&&(x?(l=l.add(x),a=D?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,_)=>(function(x,I){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:O})}};return D(x)-D(I)})(m.type,_.type)||this.eu(m.doc,_.doc))),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new yl(this.query,e.tu,a,l,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new j0(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new $0(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zy="SyncEngine";class M2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class P2{constructor(e){this.key=e,this.hu=!1}}class k2{constructor(e,n,i,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Xo((c=>f0(c)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(be.comparator),this.Au=new Map,this.Ru=new zy,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L2(t,e,n=!0){const i=tb(t);let s;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await Q0(i,e,n,!0),s}async function V2(t,e){const n=tb(t);await Q0(n,e,!0,!1)}async function Q0(t,e,n,i){const s=await n2(t.localStore,dr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await U2(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&F0(t.remoteStore,s),c}async function U2(t,e,n,i,s){t.pu=(_,T,x)=>(async function(D,O,B,G){let H=O.view.ru(B);H.Cs&&(H=await yx(D.localStore,O.query,!1).then((({documents:M})=>O.view.ru(M,H))));const re=G&&G.targetChanges.get(O.targetId),fe=G&&G.targetMismatches.get(O.targetId)!=null,j=O.view.applyChanges(H,D.isPrimaryClient,re,fe);return bx(D,O.targetId,j.au),j.snapshot})(t,_,T,x);const a=await yx(t.localStore,e,!0),l=new D2(e,a.Qs),c=l.ru(a.documents),h=Ac.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=l.applyChanges(c,t.isPrimaryClient,h);bx(t,n,d.au);const m=new M2(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function O2(t,e,n){const i=Ve(t),s=i.Tu.get(e),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter((l=>!gh(l,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Yg(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Jy(i.remoteStore,s.targetId),$g(i,s.targetId)})).catch(Cl)):($g(i,s.targetId),await Yg(i.localStore,s.targetId,!0))}async function F2(t,e){const n=Ve(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Jy(n.remoteStore,i.targetId))}async function B2(t,e,n){const i=K2(t);try{const s=await(function(l,c){const h=Ve(l),d=vt.now(),m=c.reduce(((x,I)=>x.add(I.key)),Qe());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let I=Qr(),D=Qe();return h.Ns.getEntries(x,m).next((O=>{I=O,I.forEach(((B,G)=>{G.isValidDocument()||(D=D.add(B))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,I))).next((O=>{_=O;const B=[];for(const G of c){const H=tk(G,_.get(G.key).overlayedDocument);H!=null&&B.push(new io(G.key,H,i0(H.value.mapValue),Bn.exists(!0)))}return h.mutationQueue.addMutationBatch(x,d,B,c)})).next((O=>{T=O;const B=O.applyToLocalDocumentSet(_,D);return h.documentOverlayCache.saveOverlays(x,O.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:p0(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Nt(je)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d})(i,s.batchId,n),await wc(i,s.changes),await Ah(i.remoteStore)}catch(s){const a=Wy(s,"Failed to persist write");n.reject(a)}}async function W0(t,e){const n=Ve(t);try{const i=await Zk(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?lt(l.hu,14607):s.removedDocuments.size>0&&(lt(l.hu,42227),l.hu=!1))})),await wc(n,i,e)}catch(i){await Cl(i)}}function wx(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const h=Ve(l);h.onlineState=c;let d=!1;h.queries.forEach(((m,_)=>{for(const T of _.Sa)T.va(c)&&(d=!0)})),d&&Xy(h)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function q2(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),a=s&&s.key;if(a){let l=new Nt(be.comparator);l=l.insert(a,xn.newNoDocument(a,ke.min()));const c=Qe().add(a),h=new Th(ke.min(),new Map,new Nt(je),l,c);await W0(i,h),i.du=i.du.remove(a),i.Au.delete(e),ev(i)}else await Yg(i.localStore,e,!1).then((()=>$g(i,e,n))).catch(Cl)}async function z2(t,e){const n=Ve(t),i=e.batch.batchId;try{const s=await Xk(n.localStore,e);Z0(n,i,null),X0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wc(n,s)}catch(s){await Cl(s)}}async function H2(t,e,n){const i=Ve(t);try{const s=await(function(l,c){const h=Ve(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next((_=>(lt(_!==null,37113),m=_.keys(),h.mutationQueue.removeMutationBatch(d,_)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(i.localStore,e);Z0(i,e,n),X0(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await wc(i,s)}catch(s){await Cl(s)}}function X0(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Z0(t,e,n){const i=Ve(t);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||eb(t,i)}))}function eb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ev(t))}function bx(t,e,n){for(const i of n)i instanceof $0?(t.Ru.addReference(i.key,e),G2(t,i)):i instanceof j0?(Ee(Zy,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||eb(t,i.key)):Me(19791,{wu:i})}function G2(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ee(Zy,"New document in limbo: "+n),t.Eu.add(i),ev(t))}function ev(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(Et.fromString(e)),i=t.fu.next();t.Au.set(i,new P2(n)),t.du=t.du.insert(n,i),F0(t.remoteStore,new zs(dr(Uy(n.path)),i,"TargetPurposeLimboResolution",hh.ce))}}async function wc(t,e,n){const i=Ve(t),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((c,h)=>{l.push(i.pu(h,e,n).then((d=>{var m;if((d||n)&&i.isPrimaryClient){const _=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;i.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){s.push(d);const _=Gy.As(h.targetId,d);a.push(_)}})))})),await Promise.all(l),i.Pu.H_(s),await(async function(h,d){const m=Ve(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ce.forEach(d,(T=>ce.forEach(T.Es,(x=>m.persistence.referenceDelegate.addReference(_,T.targetId,x))).next((()=>ce.forEach(T.ds,(x=>m.persistence.referenceDelegate.removeReference(_,T.targetId,x)))))))))}catch(_){if(!wl(_))throw _;Ee(Yy,"Failed to update sequence numbers: "+_)}for(const _ of d){const T=_.targetId;if(!_.fromCache){const x=m.Ms.get(T),I=x.snapshotVersion,D=x.withLastLimboFreeSnapshotVersion(I);m.Ms=m.Ms.insert(T,D)}}})(i.localStore,a))}async function Y2(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Ee(Zy,"User change. New user:",e.toKey());const i=await L0(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((h=>{h.reject(new ve(le.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wc(n,i.Ls)}}function J2(t,e){const n=Ve(t),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let s=Qe();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function tb(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q2.bind(null,e),e.Pu.H_=R2.bind(null,e.eventManager),e.Pu.yu=N2.bind(null,e.eventManager),e}function K2(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H2.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Wk(this.persistence,new $k,e.initialUser,this.serializer)}Cu(e){return new k0(Hy.mi,this.serializer)}Du(e){return new r2}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class $2 extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Jd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Pk(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new k0((i=>Jd.mi(i,n)),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y2.bind(null,this.syncEngine),await w2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I2})()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),i=(function(a){return new u2(a)})(e.databaseInfo);return(function(a,l,c,h){return new h2(a,l,c,h)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,a,l,c){return new m2(i,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>wx(this.syncEngine,n,0)),(function(){return Ex.v()?new Ex:new s2})())}createSyncEngine(e,n){return(function(s,a,l,c,h,d,m){const _=new k2(s,a,l,c,h,d);return m&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Ve(s);Ee(Yo,"RemoteStore shutting down."),a.Ea.add(5),await Cc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class j2{constructor(e,n,i,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=Dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async l=>{Ee(to,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(Ee(to,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ig(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(to,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await L0(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Ix(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q2(t);Ee(to,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Sx(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>Sx(e.remoteStore,s))),t._onlineComponents=e}async function Q2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(to,"Using user provided OfflineComponentProvider");try{await ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await ig(t,new $d)}}else Ee(to,"Using default OfflineComponentProvider"),await ig(t,new $2(void 0));return t._offlineComponents}async function ib(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(to,"Using user provided OnlineComponentProvider"),await Ix(t,t._uninitializedComponentsProvider._online)):(Ee(to,"Using default OnlineComponentProvider"),await Ix(t,new jg))),t._onlineComponents}function W2(t){return ib(t).then((e=>e.syncEngine))}async function rb(t){const e=await ib(t),n=e.eventManager;return n.onListen=L2.bind(null,e.syncEngine),n.onUnlisten=O2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F2.bind(null,e.syncEngine),n}function X2(t,e,n={}){const i=new Jr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,d){const m=new nb({next:T=>{m.Nu(),l.enqueueAndForget((()=>J0(a,_)));const x=T.docs.has(c);!x&&T.fromCache?d.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&h&&h.source==="server"?d.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new K0(Uy(c.path),m,{includeMetadataChanges:!0,qa:!0});return Y0(a,_)})(await rb(t),t.asyncQueue,e,n,i))),i.promise}function Z2(t,e,n={}){const i=new Jr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,d){const m=new nb({next:T=>{m.Nu(),l.enqueueAndForget((()=>J0(a,_))),T.fromCache&&h.source==="server"?d.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new K0(c,m,{includeMetadataChanges:!0,qa:!0});return Y0(a,_)})(await rb(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firestore.googleapis.com",Nx=!0;class Dx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ob,this.ssl=Nx}else this.host=e.host,this.ssl=e.ssl??Nx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dk)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sP;switch(i.type){case"firstParty":return new uP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Rx.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),Rx.delete(n),i.terminate())})(this),Promise.resolve()}}function eL(t,e,n,i={}){var d;t=vr(t,Ch);const s=Sl(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Nw(`https://${c}`),Dw("Firestore",!0)),a.host!==ob&&a.host!==c&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:s,emulatorOptions:i};if(!zo(h,l)&&(t._setSettings(h),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=Sn.MOCK_USER;else{m=ND(i.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Sn(T)}t._authCredentials=new oP(new Yw(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Sc(n,Xt._jsonSchema))return new Xt(e,i||null,new be(Et.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Wt("string",Xt._jsonSchemaVersion),referencePath:Wt("string")};class $s extends ro{constructor(e,n,i){super(e,n,Uy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new be(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function bc(t,e,...n){if(t=Zt(t),Jw("collection","path",e),t instanceof Ch){const i=Et.fromString(e,...n);return GS(i),new $s(t,null,i)}{if(!(t instanceof Xt||t instanceof $s))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return GS(i),new $s(t.firestore,null,i)}}function zn(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Dy.newId()),Jw("doc","path",e),t instanceof Ch){const i=Et.fromString(e,...n);return HS(i),new Xt(t,null,new be(i))}{if(!(t instanceof Xt||t instanceof $s))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return HS(i),new Xt(t.firestore,t instanceof $s?t.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="AsyncQueue";class Px{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U0(this,"async_queue_retry"),this._c=()=>{const i=ng();i&&Ee(Mx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;Ee(Mx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",kx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Qy.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Me(47125,{Pc:kx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ea extends Ch{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Px,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Px(e),this._firestoreClient=void 0,await e}}}function tL(t,e){const n=typeof t=="object"?t:Lw(),i=typeof t=="string"?t:Fd,s=Ry(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=ID("firestore");a&&eL(s,...a)}return s}function wh(t){if(t._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nL(t),t._firestoreClient}function nL(t){var i,s,a;const e=t._freezeSettings(),n=(function(c,h,d,m){return new wP(c,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new j2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(yn.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yi(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Wt("string",yi._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:Wt("string",pr._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mr(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:Wt("string",mr._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;class rL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class ab{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class nv{constructor(e,n,i,s,a,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lb(this.Ac)&&iL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Sh(e)}Cc(e,n,i,s=!1){return new nv({Ac:e,methodName:n,Dc:i,path:gn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=Sh(t._databaseId);return new sL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ub(t,e,n,i,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);iv("Data must be an object, but it was:",l,i);const c=db(i,l);let h,d;if(a.merge)h=new ei(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const _ of a.mergeFields){const T=Qg(e,_,n);if(!l.contains(T))throw new ve(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);pb(m,T)||m.push(T)}h=new ei(m),d=l.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,d=l.fieldTransforms;return new rL(new Fn(c),h,d)}class Ih extends tv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function cb(t,e,n,i){const s=t.Cc(1,e,n);iv("Data must be an object, but it was:",s,i);const a=[],l=Fn.empty();no(i,((h,d)=>{const m=rv(e,h,n);d=Zt(d);const _=s.yc(m);if(d instanceof Ih)a.push(m);else{const T=Rc(d,_);T!=null&&(a.push(m),l.set(m,T))}}));const c=new ei(a);return new ab(l,c,s.fieldTransforms)}function fb(t,e,n,i,s,a){const l=t.Cc(1,e,n),c=[Qg(e,i,n)],h=[s];if(a.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)c.push(Qg(e,a[T])),h.push(a[T+1]);const d=[],m=Fn.empty();for(let T=c.length-1;T>=0;--T)if(!pb(d,c[T])){const x=c[T];let I=h[T];I=Zt(I);const D=l.yc(x);if(I instanceof Ih)d.push(x);else{const O=Rc(I,D);O!=null&&(d.push(x),m.set(x,O))}}const _=new ei(d);return new ab(m,_,l.fieldTransforms)}function oL(t,e,n,i=!1){return Rc(n,t.Cc(i?4:3,e))}function Rc(t,e){if(hb(t=Zt(t)))return iv("Unsupported field value:",e,t),db(t,e);if(t instanceof tv)return(function(i,s){if(!lb(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const a=[];let l=0;for(const c of i){let h=Rc(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(i,s){if((i=Zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return jP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=vt.fromDate(i);return{timestampValue:Yd(s.serializer,a)}}if(i instanceof vt){const a=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yd(s.serializer,a)}}if(i instanceof pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yi)return{bytesValue:w0(s.serializer,i._byteString)};if(i instanceof Xt){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof mr)return(function(l,c){return{mapValue:{fields:{[t0]:{stringValue:n0},[Bd]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Oy(c.serializer,d)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${dh(i)}`)})(t,e)}function db(t,e){const n={};return jw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(t,((i,s)=>{const a=Rc(s,e.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function hb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof pr||t instanceof yi||t instanceof Xt||t instanceof tv||t instanceof mr)}function iv(t,e,n){if(!hb(n)||!Kw(n)){const i=dh(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Qg(t,e,n){if((e=Zt(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return rv(t,e);throw jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const aL=new RegExp("[~\\*/\\[\\]]");function rv(t,e,n){if(e.search(aL)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ic(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jd(t,e,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new ve(le.INVALID_ARGUMENT,c+t+h)}function pb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lL extends mb{data(){return super.data()}}function sv(t,e){return typeof e=="string"?rv(t,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class av extends ov{}function ta(t,e,...n){let i=[];e instanceof ov&&i.push(e),i=i.concat(n),(function(a){const l=a.filter((h=>h instanceof uv)).length,c=a.filter((h=>h instanceof lv)).length;if(l>1||l>0&&c>0)throw new ve(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)t=s._apply(t);return t}class lv extends av{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new lv(e,n,i)}_apply(e){const n=this._parse(e);return gb(e._query,n),new ro(e.firestore,e.converter,Bg(e._query,n))}_parse(e){const n=bh(e.firestore);return(function(a,l,c,h,d,m,_){let T;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Vx(_,m);const I=[];for(const D of _)I.push(Lx(h,a,D));T={arrayValue:{values:I}}}else T=Lx(h,a,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Vx(_,m),T=oL(c,l,_,m==="in"||m==="not-in");return Qt.create(d,m,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class uv extends ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)gb(l,h),l=Bg(l,h)})(e._query,n),new ro(e.firestore,e.converter,Bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cv(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(a,l)})(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new bl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Rh(t,e="asc"){const n=e,i=sv("orderBy",t);return cv._create(i,n)}class fv extends av{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new fv(e,n,i)}_apply(e){return new ro(e.firestore,e.converter,zd(e._query,this._limit,this._limitType))}}function dv(t){return fv._create("limit",t,"F")}function Lx(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new ve(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c0(e)&&n.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Et.fromString(n));if(!be.isDocumentKey(i))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return XS(t,new be(i))}if(n instanceof Xt)return XS(t,n._key);throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function Vx(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gb(t,e){const n=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cL{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return no(e,((s,a)=>{i[s]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,s,a;const n=(a=(s=(i=e.fields)==null?void 0:i[Bd].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>Ft(l.doubleValue)));return new mr(n)}convertGeoPoint(e){return new pr(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Et.fromString(e);lt(M0(i),9688,{name:e});const s=new cc(i.get(1),i.get(3)),a=new be(i.popFirst(5));return s.isEqual(n)||jr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qo extends mb{constructor(e,n,i,s,a,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(sv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",qo._jsonSchema={type:Wt("string",qo._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class bd extends qo{data(e={}){return super.data(e)}}class nl{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ju(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new bd(this._firestore,this._userDataWriter,i.key,i,new ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const h=new bd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ju(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const h=new bd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ju(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:fL(c.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){t=vr(t,Xt);const e=vr(t.firestore,ea);return X2(wh(e),t._key).then((n=>dL(e,t,n)))}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:Wt("string",nl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class vb extends cL{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function so(t){t=vr(t,ro);const e=vr(t.firestore,ea),n=wh(e),i=new vb(e);return uL(t._query),Z2(n,t._query).then((s=>new nl(e,i,t,s)))}function pv(t,e,n,...i){t=vr(t,Xt);const s=vr(t.firestore,ea),a=bh(s);let l;return l=typeof(e=Zt(e))=="string"||e instanceof Ic?fb(a,"updateDoc",t._key,e,n,i):cb(a,"updateDoc",t._key,e),Dh(s,[l.toMutation(t._key,Bn.exists(!0))])}function Nh(t){return Dh(vr(t.firestore,ea),[new Eh(t._key,Bn.none())])}function Nc(t,e){const n=vr(t.firestore,ea),i=zn(t),s=yb(t.converter,e);return Dh(n,[ub(bh(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Bn.exists(!1))]).then((()=>i))}function Dh(t,e){return(function(i,s){const a=new Jr;return i.asyncQueue.enqueueAndForget((async()=>B2(await W2(i),s,a))),a.promise})(wh(t),e)}function dL(t,e,n){const i=n.docs.get(e._key),s=new vb(t);return new qo(t,s,e._key,i,new ju(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bh(e)}set(e,n,i){this._verifyNotCommitted();const s=rg(e,this._firestore),a=yb(s.converter,n,i),l=ub(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,i);return this._mutations.push(l.toMutation(s._key,Bn.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const a=rg(e,this._firestore);let l;return l=typeof(n=Zt(n))=="string"||n instanceof Ic?fb(this._dataReader,"WriteBatch.update",a._key,n,i,s):cb(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rg(e,this._firestore);return this._mutations=this._mutations.concat(new Eh(n._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rg(t,e){if((t=Zt(t)).firestore!==e)throw new ve(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){return wh(t=vr(t,ea)),new hL(t,(e=>Dh(t,e)))}(function(e,n=!0){(function(s){Al=s})(xl),fl(new Ho("firestore",((i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new ea(new aP(i.getProvider("auth-internal")),new cP(l,i.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(d.options.projectId,m)})(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Js(FS,BS,e),Js(FS,BS,"esm2020")})();function _b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pL=_b,Eb=new Ec("auth","Firebase",_b());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new by("@firebase/auth");function mL(t,...e){Qd.logLevel<=$e.WARN&&Qd.warn(`Auth (${xl}): ${t}`,...e)}function Id(t,...e){Qd.logLevel<=$e.ERROR&&Qd.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,...e){throw gv(t,...e)}function gr(t,...e){return gv(t,...e)}function Tb(t,e,n){const i={...pL(),[e]:n};return new Ec("auth","Firebase",i).create(e,{appName:t.name})}function js(t){return Tb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Eb.create(t,...e)}function De(t,e,...n){if(!t)throw gv(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Id(e),new Error(e)}function Wr(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gL(){return Ux()==="http:"||Ux()==="https:"}function Ux(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gL()||VD()||"connection"in navigator)?navigator.onLine:!0}function vL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=PD()||UD()}get(){return yL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TL=new Dc(3e4,6e4);function na(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oo(t,e,n,i,s={}){return xb(t,s,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const c=Tc({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...a};return LD()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(d.credentials="include"),Sb.fetch()(await Ab(t,t.config.apiHost,n,c),d)})}async function xb(t,e,n){t._canInitEmulator=!1;const i={..._L,...e};try{const s=new xL(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw md(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw md(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw md(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Tb(t,m,d);Vi(t,m)}}catch(s){if(s instanceof Xr)throw s;Vi(t,"network-request-failed",{message:String(s)})}}async function Mh(t,e,n,i,s={}){const a=await oo(t,e,n,i,s);return"mfaPendingCredential"in a&&Vi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ab(t,e,n,i){const s=`${e}${n}?${i}`,a=t,l=a.config.emulator?yv(t.config,s):`${t.config.apiScheme}://${s}`;return EL.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function SL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(gr(this.auth,"network-request-failed")),TL.get())})}}function md(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=gr(t,e,i);return s.customData._tokenResponse=n,s}function Ox(t){return t!==void 0&&t.enterprise!==void 0}class AL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CL(t,e){return oo(t,"GET","/v2/recaptchaConfig",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return oo(t,"POST","/v1/accounts:delete",e)}async function Wd(t,e){return oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bL(t,e=!1){const n=Zt(t),i=await n.getIdToken(e),s=vv(i);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:tc(sg(s.auth_time)),issuedAtTime:tc(sg(s.iat)),expirationTime:tc(sg(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function vv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Id("JWT malformed, contained fewer than 3 sections"),null;try{const s=ww(n);return s?JSON.parse(s):(Id("Failed to decode base64 JWT payload"),null)}catch(s){return Id("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Fx(t){const e=vv(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Xr&&IL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t){var _;const e=t.auth,n=await t.getIdToken(),i=await mc(t,Wd(e,{idToken:n}));De(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(_=s.providerUserInfo)!=null&&_.length?Cb(s.providerUserInfo):[],l=DL(t.providerData,a),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Xg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function NL(t){const e=Zt(t);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Cb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e){const n=await xb(t,{},async()=>{const i=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await Ab(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(h.credentials="include"),Sb.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PL(t,e){return oo(t,"POST","/v2/accounts:revokeToken",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=Fx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await ML(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new il;return i&&(De(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(De(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new RL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bL(this,e)}reload(){return NL(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await mc(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:x,providerData:I,stsTokenManager:D}=n;De(_&&D,e,"internal-error");const O=il.fromJSON(this.name,D);De(typeof _=="string",e,"internal-error"),Vs(i,e.name),Vs(s,e.name),De(typeof T=="boolean",e,"internal-error"),De(typeof x=="boolean",e,"internal-error"),Vs(a,e.name),Vs(l,e.name),Vs(c,e.name),Vs(h,e.name),Vs(d,e.name),Vs(m,e.name);const B=new ki({uid:_,auth:e,email:s,emailVerified:T,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:O,createdAt:d,lastLoginAt:m});return I&&Array.isArray(I)&&(B.providerData=I.map(G=>({...G}))),h&&(B._redirectEventId=h),B}static async _fromIdTokenResponse(e,n,i=!1){const s=new il;s.updateFromServerResponse(n);const a=new ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Xd(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Cb(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new il;c.updateFromIdToken(i);const h=new ki({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;function Gr(t){Wr(t instanceof Function,"Expected a class definition");let e=Bx.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wb.type="NONE";const qx=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Rd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Rd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wd(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new rl(Gr(qx),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||Gr(qx);const l=Rd(i,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(l);if(m){let _;if(typeof m=="string"){const T=await Wd(e,{idToken:m}).catch(()=>{});if(!T)break;_=await ki._fromGetAccountInfoResponse(e,T,m)}else _=ki._fromJSON(e,m);d!==a&&(c=_),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new rl(a,e,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new rl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(Pb(e))return"Webos";if(Ib(e))return"Safari";if((e.includes("chrome/")||Rb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bb(t=Cn()){return/firefox\//i.test(t)}function Ib(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rb(t=Cn()){return/crios\//i.test(t)}function Nb(t=Cn()){return/iemobile/i.test(t)}function Db(t=Cn()){return/android/i.test(t)}function Mb(t=Cn()){return/blackberry/i.test(t)}function Pb(t=Cn()){return/webos/i.test(t)}function _v(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kL(t=Cn()){var e;return _v(t)&&!!((e=window.navigator)!=null&&e.standalone)}function LL(){return OD()&&document.documentMode===10}function kb(t=Cn()){return _v(t)||Db(t)||Pb(t)||Mb(t)||/windows phone/i.test(t)||Nb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e=[]){let n;switch(t){case"Browser":n=zx(Cn());break;case"Worker":n=`${zx(Cn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e={}){return oo(t,"GET","/v2/passwordPolicy",na(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=6;class FL{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hx(this),this.idTokenSubscription=new Hx(this),this.beforeStateQueue=new VL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wd(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(js(this));const n=e?Zt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UL(this),n=new FL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await PL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rl(t){return Zt(t)}class Hx{constructor(e){this.auth=e,this.observer=null,this.addObserver=JD(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qL(t){Ph=t}function Vb(t){return Ph.loadJS(t)}function zL(){return Ph.recaptchaEnterpriseScript}function HL(){return Ph.gapiScript}function GL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YL{constructor(){this.enterprise=new JL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KL="recaptcha-enterprise",Ub="NO_RECAPTCHA";class $L{constructor(e){this.type=KL,this.auth=Rl(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{CL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new AL(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;Ox(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l(Ub)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!n&&Ox(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=zL();h.length!==0&&(h+=c),Vb(h).then(()=>{s(c,a,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function Gx(t,e,n,i=!1,s=!1){const a=new $L(t);let l;if(s)l=Ub;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Yx(t,e,n,i,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Gx(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Gx(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){const n=Ry(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(zo(a,e??{}))return s;Vi(s,"already-initialized")}return n.initialize({options:e})}function QL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function WL(t,e,n){const i=Rl(t);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=Ob(e),{host:l,port:c}=XL(e),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(zo(d,i.config.emulator)&&zo(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Sl(l)?(Nw(`${a}//${l}${h}`),Dw("Auth",!0)):ZL()}function Ob(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XL(t){const e=Ob(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Jx(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Jx(l)}}}function Jx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function eV(t,e){return oo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e){return Mh(t,"POST","/v1/accounts:signInWithPassword",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return Mh(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}async function iV(t,e){return Mh(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Ev{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new gc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new gc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yx(e,n,"signInWithPassword",tV);case"emailLink":return nV(e,{email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yx(e,i,"signUpPassword",eV);case"emailLink":return iV(e,{idToken:n,email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e){return Mh(t,"POST","/v1/accounts:signInWithIdp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="http://localhost";class Jo extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const l=new Jo(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return sl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,sl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sl(e,n)}buildRequest(){const e={requestUri:rV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oV(t){const e=Gu(Yu(t)).link,n=e?Gu(Yu(e)).deep_link_id:null,i=Gu(Yu(t)).deep_link_id;return(i?Gu(Yu(i)).link:null)||i||n||e||t}class Tv{constructor(e){const n=Gu(Yu(e)),i=n.apiKey??null,s=n.oobCode??null,a=sV(n.mode??null);De(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oV(e);try{return new Tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Tv.parseLink(n);return De(i,"argument-error"),gc._fromEmailAndCode(e,i.code,i.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Mc{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fs.credential(n,i)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Mc{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Jo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return qs.credential(n,i)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await ki._fromIdTokenResponse(e,i,s),l=Kx(i);return new vl({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Kx(i);return new vl({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Xr{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Zd(e,n,i,s)}}function Bb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(t,a,e,i):a})}async function aV(t,e,n=!1){const i=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e,n=!1){const{auth:i}=t;if(Pi(i.app))return Promise.reject(js(i));const s="reauthenticate";try{const a=await mc(t,Bb(i,s,e,t),n);De(a.idToken,i,"internal-error");const l=vv(a.idToken);De(l,i,"internal-error");const{sub:c}=l;return De(t.uid===c,i,"user-mismatch"),vl._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Vi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t,e,n=!1){if(Pi(t.app))return Promise.reject(js(t));const i="signIn",s=await Bb(t,i,e),a=await vl._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function uV(t,e){return qb(Rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t){const e=Rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function fV(t,e,n){return Pi(t.app)?Promise.reject(js(t)):uV(Zt(t),Nl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cV(t),i})}function dV(t,e,n,i){return Zt(t).onIdTokenChanged(e,n,i)}function hV(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function pV(t,e,n,i){return Zt(t).onAuthStateChanged(e,n,i)}function mV(t){return Zt(t).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=1e3,yV=10;class Hb extends zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);LL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yV):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const vV=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gb.type="SESSION";const Yb=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new kh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(n.origin,a)),h=await _V(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=Sv("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function TV(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function SV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function AV(){return Jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firebaseLocalStorageDb",CV=1,th="firebaseLocalStorage",$b="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([th],e?"readwrite":"readonly").objectStore(th)}function wV(){const t=indexedDB.deleteDatabase(Kb);return new Pc(t).toPromise()}function Zg(){const t=indexedDB.open(Kb,CV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(th,{keyPath:$b})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(th)?e(i):(i.close(),await wV(),e(await Zg()))})})}async function $x(t,e,n){const i=Lh(t,!0).put({[$b]:e,value:n});return new Pc(i).toPromise()}async function bV(t,e){const n=Lh(t,!1).get(e),i=await new Pc(n).toPromise();return i===void 0?null:i.value}function jx(t,e){const n=Lh(t,!0).delete(e);return new Pc(n).toPromise()}const IV=800,RV=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>RV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(AV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await SV(),!this.activeServiceWorker)return;this.sender=new EV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await $x(e,eh,"1"),await jx(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>$x(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Lh(s,!1).getAll();return new Pc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const NV=jb;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){return e?Gr(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MV(t){return qb(t.auth,new xv(t),t.bypassAuthState)}function PV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),lV(n,new xv(t),t.bypassAuthState)}async function kV(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),aV(n,new xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return PV;default:Vi(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new Dc(2e3,1e4);class Za extends Qb{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LV.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="pendingRedirect",Nd=new Map;class UV extends Qb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const i=await OV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(t,e){const n=qV(e),i=BV(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function FV(t,e){Nd.set(t._key(),e)}function BV(t){return Gr(t._redirectPersistence)}function qV(t){return Rd(VV,t.config.apiKey,t.name)}async function zV(t,e,n=!1){if(Pi(t.app))return Promise.reject(js(t));const i=Rl(t),s=DV(i,e),l=await new UV(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=600*1e3;class GV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Wb(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qx(e))}saveEventToCache(e){this.cachedEventUids.add(Qx(e)),this.lastProcessedEventTime=Date.now()}}function Qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Wb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e={}){return oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function jV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JV(t);for(const n of e)try{if(QV(n))return}catch{}Vi(t,"unauthorized-domain")}function QV(t){const e=Wg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!$V.test(n))return!1;if(KV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new Dc(3e4,6e4);function Wx(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XV(t){return new Promise((e,n)=>{var s,a,l;function i(){Wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wx(),n(gr(t,"network-request-failed"))},timeout:WV.get()})}if((a=(s=yr().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=yr().gapi)!=null&&l.load)i();else{const c=GL("iframefcb");return yr()[c]=()=>{gapi.load?i():n(gr(t,"network-request-failed"))},Vb(`${HL()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function ZV(t){return Dd=Dd||XV(t),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new Dc(5e3,15e3),tU="__/auth/iframe",nU="emulator/auth/iframe",iU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sU(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yv(e,nU):`https://${t.config.authDomain}/${tU}`,i={apiKey:e.apiKey,appName:t.name,v:xl},s=rU.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Tc(i).slice(1)}`}async function oU(t){const e=await ZV(t),n=yr().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:sU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iU,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=gr(t,"network-request-failed"),c=yr().setTimeout(()=>{a(l)},eU.get());function h(){yr().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lU=500,uU=600,cU="_blank",fU="http://localhost";class Xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dU(t,e,n,i=lU,s=uU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...aU,width:i.toString(),height:s.toString(),top:a,left:l},d=Cn().toLowerCase();n&&(c=Rb(d)?cU:n),bb(d)&&(e=e||fU,h.scrollbars="yes");const m=Object.entries(h).reduce((T,[x,I])=>`${T}${x}=${I},`,"");if(kL(d)&&c!=="_self")return hU(e||"",c),new Xx(null);const _=window.open(e||"",c,m);De(_,t,"popup-blocked");try{_.focus()}catch{}return new Xx(_)}function hU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="__/auth/handler",mU="emulator/auth/handler",gU=encodeURIComponent("fac");async function Zx(t,e,n,i,s,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xl,eventId:s};if(e instanceof Fb){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",YD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof Mc){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${gU}=${encodeURIComponent(h)}`:"";return`${yU(t)}?${Tc(c).slice(1)}${d}`}function yU({config:t}){return t.emulator?yv(t,mU):`https://${t.authDomain}/${pU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class vU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=zV,this._overrideRedirectResult=FV}async _openPopup(e,n,i,s){var l;Wr((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await Zx(e,n,i,Wg(),s);return dU(e,a,Sv())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Zx(e,n,i,Wg(),s);return TV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Wr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await oU(e),i=new GV(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[og];a!==void 0&&n(!!a),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||Ib()||_v()}}const _U=vU;var eA="@firebase/auth",tA="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SU(t){fl(new Ho("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(t)},d=new BL(i,s,a,h);return QL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fl(new Ho("auth-internal",e=>{const n=Rl(e.getProvider("auth").getImmediate());return(i=>new EU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(eA,tA,TU(t)),Js(eA,tA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=300,AU=Rw("authIdTokenMaxAge")||xU;let nA=null;const CU=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AU)return;const s=n==null?void 0:n.token;nA!==s&&(nA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wU(t=Lw()){const e=Ry(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jL(t,{popupRedirectResolver:_U,persistence:[NV,vV,Yb]}),i=Rw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=CU(a.toString());hV(n,l,()=>l(n.currentUser)),dV(n,c=>l(c))}}const s=bw("auth");return s&&WL(n,`http://${s}`),n}function bU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}qL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=gr("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",bU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SU("Browser");const IU={apiKey:"AIzaSyBy8P96WFrZ8mw4xgUuUPYt2wwTjqjZudQ",authDomain:"naford.firebaseapp.com",projectId:"naford",storageBucket:"naford.firebasestorage.app",messagingSenderId:"1078376868949",appId:"1:1078376868949:web:9e00fadaa27288666678dc",measurementId:"G-HKDV06K52M"},Xb=kw(IU),Zr=tL(Xb),ag=wU(Xb),Zb=$.createContext(void 0),RU=({children:t})=>{const[e,n]=$.useState(null),[i,s]=$.useState(!0);$.useEffect(()=>pV(ag,d=>{n(d),s(!1)}),[]);const c={currentUser:e,loading:i,login:async(h,d)=>{await fV(ag,h,d)},logout:async()=>{await mV(ag)}};return S.jsx(Zb.Provider,{value:c,children:!i&&t})},Ko=bc(Zr,"teamMembers"),NU=[{name:"Dr. Devesh Dubey",role:`President & Founder Member
Senior Resident, AIIMS New Delhi`,bio:"A visionary leader instrumental in the conceptualization and establishment of NAFORD.",imageUrl:"https://i.ibb.co/x8MhwFMF/devesh-dubey.jpg",type:"founder"},{name:"Dr. Swastik Bhardwaj",role:`Founder Member
MBBS, MS, DrNB Urology`,bio:"A third-year Urology resident at Saifee Hospital, Mumbai, with prior experience as Senior Resident at AIIMS Bhopal.",imageUrl:"https://i.ibb.co/vxQb11vr/swastik.png",type:"founder"},{name:"Dr. Divyabhusan",role:"Founder Member",bio:"Co-founder of the federation, dedicated to unifying resident doctors across all INIs.",imageUrl:"https://via.placeholder.com/120/0056b3/ffffff?text=D",type:"founder"},{name:"Dr. Shwet Misra",role:"Treasurer",bio:"Currently pursuing MD Pediatrics at AIIMS Raipur after completing MBBS from AIIMS Bhopal.",imageUrl:"https://i.ibb.co/Jw1Qns86/shwet-mishra.jpg",type:"committee"},{name:"Dr. Piyush Bharti",role:"General Secretary",bio:"General Secretary of NAFORD and Junior Resident at AIIMS New Delhi, with a strong background in leadership and advocacy for resident doctors.",imageUrl:"https://i.ibb.co/tTHtxLbG/piyush.jpg",type:"committee"},{name:"Dr. Osheen Banga",role:"Grievance/ Anti Harassment Committee",bio:"Member of Anti-Harassment/Grievance Committee, NAFORD. Dedicated to fostering a healthy, fair, and supportive environment for resident doctors.",imageUrl:"https://i.ibb.co/d4PsypKP/osheen-banga.png",type:"committee"},{name:"Dr. Prateek Nishant",role:"Advisory committee",bio:"Assistant Professor at IGIMS Patna, with expertise in Vitreoretina, Uvea, and a strong background in ophthalmology, management, and research.",imageUrl:"https://i.ibb.co/xwwmRjw/prateek.jpg",type:"committee"},{name:"Dr. Amit Rai",role:"North Coordinator",bio:"Senior Resident in Microbiology at AIIMS Gorakhpur, with a strong commitment to resident welfare and advocacy.",imageUrl:"https://i.ibb.co/ZzcdqWdm/amit-rai.jpg",type:"committee"},{name:"Dr. Sukanaya Majumader",role:"Executive Member",bio:"A third-year Junior Resident at AIIMS Gorakhpur, active in medical education, advocacy, and scientific events.",imageUrl:"https://i.ibb.co/tp4csFnx/sukanya.jpg",type:"committee"},{name:"Dr. Raghunandan Dixit",role:"Vice president",bio:"Known for his leadership as General Secretary of RDA AIIMS and his commitment to resident welfare and patient care.",imageUrl:"https://i.ibb.co/3gPnPn7/raghunandan.jpg",type:"committee"},{name:"Dr. Sanyam Gupta",role:"West coordinator",bio:"West Region Coordinator for NAFORD and a second-year Junior Resident in Radiodiagnosis at AIIMS Nagpur.",imageUrl:"https://i.ibb.co/4Rhqz6J6/sanyam.png",type:"committee"},{name:"Dr. Jupi Talukdar",role:"Vice president",bio:"Extensive training in cardiothoracic and vascular anaesthesia and a strong record of academic and professional leadership.",imageUrl:"https://i.ibb.co/hJXRCy8v/jupi-talukdar.jpg",type:"committee"},{name:"Dr. Aniker Gour",role:"Joint secretary",bio:"Junior Resident in Community Medicine at AIIMS Rishikesh. Currently Joint Secretary at NAFORD and Treasurer of RDA AIIMS Rishikesh.",imageUrl:"https://i.ibb.co/pjg8snWw/ankit-gour.jpg",type:"committee"},{name:"Dr. Niranjana sree",role:"Co treasurer",bio:"Expertise in clinical transfusion, immunohematology, and resident welfare.",imageUrl:"https://i.ibb.co/vxQvRrYT/niranjana.jpg",type:"committee"},{name:"Dr. Prateek Goyal",role:"Executive treasure",bio:"A postgraduate student at AIIMS Bilaspur, with experience as a Medical Officer and Junior Resident.",imageUrl:"https://via.placeholder.com/120/0056b3/ffffff?text=PG",type:"committee"}];let lg=!1;const DU=async()=>{if(!lg){lg=!0;try{if((await so(ta(Ko,dv(1)))).empty){console.log("No team members found. Seeding initial data...");const e=mv(Zr);NU.forEach(n=>{const i=zn(Ko);e.set(i,n)}),await e.commit(),console.log("Initial team members have been seeded.")}}catch(t){console.error("Error seeding team members:",t),lg=!1}}};DU();const Av=async()=>(await so(Ko)).docs.map(e=>({id:e.id,...e.data()})),MU=async t=>{const e=await hv(zn(Ko,t));return e.exists()?{id:e.id,...e.data()}:void 0},PU=async t=>({id:(await Nc(Ko,t)).id,...t}),kU=async(t,e)=>{await pv(zn(Ko,t),e)},LU=async t=>{await Nh(zn(Ko,t))},$o=bc(Zr,"events"),VU=[{name:"Annual NAFORD Conference 2025",date:"2025-08-15",location:"AIIMS New Delhi",description:"Join us for our annual conference featuring keynote speakers, research presentations, and networking opportunities."},{name:"Webinar: AI in Modern Medicine",date:"2025-07-22",location:"Online",description:"An exclusive online session with experts discussing the impact and future of Artificial Intelligence in healthcare."},{name:"Call for Research Submissions",date:"2025-07-30",location:"NAFORD Medical Journal",description:"We are now accepting submissions for the upcoming NAFORD Medical Journal. Share your groundbreaking research."}];let ug=!1;const UU=async()=>{if(!ug){ug=!0;try{if((await so(ta($o,dv(1)))).empty){console.log("No events found. Seeding initial data...");const e=mv(Zr);VU.forEach(n=>{const i=zn($o);e.set(i,n)}),await e.commit(),console.log("Initial events have been seeded.")}}catch(t){console.error("Error seeding events:",t),ug=!1}}};UU();const Cv=async()=>{const t=ta($o,Rh("date","desc"));return(await so(t)).docs.map(n=>({id:n.id,...n.data()}))},OU=async t=>{const e=await hv(zn($o,t));return e.exists()?{id:e.id,...e.data()}:void 0},FU=async t=>({id:(await Nc($o,t)).id,...t}),BU=async(t,e)=>{await pv(zn($o,t),e)},qU=async t=>{await Nh(zn($o,t))},jo=bc(Zr,"blogPosts"),zU=[{title:"Case Study: A Rare Neurological Presentation",author:"Dr. Priya Sharma",date:"June 10, 2025",excerpt:"An in-depth look at the diagnosis and management of a challenging neurological case at AIIMS Jodhpur...",content:`## Detailed Analysis

An in-depth look at the diagnosis and management of a challenging neurological case at AIIMS Jodhpur. The patient presented with unusual symptoms that baffled initial diagnostics. This post explores the step-by-step process of differential diagnosis, the advanced imaging techniques employed, and the novel treatment protocol that led to a successful outcome. 

### Key Takeaways

* Importance of inter-departmental collaboration.
* Role of genetic testing in rare diseases.
* Innovative approaches to patient management.`},{title:"Navigating the Demands of Residency",author:"Dr. Raj Patel",date:"June 05, 2025",excerpt:"Tips and strategies for maintaining well-being and excelling academically and professionally during your residency...",content:`## A Guide for New Residents

Residency is one of the most challenging yet rewarding periods in a doctor's career. This article provides practical tips and strategies for maintaining well-being, managing stress, and excelling both academically and professionally. Topics include time management techniques, the importance of mentorship, and resources for mental health support. 

* **Time Management:** Prioritize tasks using the Eisenhower Matrix.
* **Mentorship:** Seek guidance from senior residents and faculty.
* **Well-being:** Schedule time for hobbies and relaxation.`},{title:"The Future of Telemedicine in India",author:"NAFORD Editorial Team",date:"May 28, 2025",excerpt:"A comprehensive analysis of the post-pandemic landscape for telemedicine and its role in the Indian healthcare system...",content:`## Post-Pandemic Landscape

A comprehensive analysis of the post-pandemic landscape for telemedicine and its evolving role in the Indian healthcare system. We examine the regulatory changes, technological advancements, and patient adoption trends that are shaping the future of remote healthcare. The article also discusses the challenges that need to be addressed to ensure equitable access and quality of care.

### Challenges Ahead

1. Digital literacy and access in rural areas.
2. Data privacy and security concerns.
3. Integration with existing healthcare infrastructure.`}];let cg=!1;const HU=async()=>{if(!cg){cg=!0;try{if((await so(ta(jo,dv(1)))).empty){console.log("No posts found in Firestore. Seeding initial data...");const e=mv(Zr);zU.forEach(n=>{const i=zn(jo);e.set(i,n)}),await e.commit(),console.log("Initial posts have been seeded.")}}catch(t){console.error("Error seeding blog posts:",t),cg=!1}}};HU();const Vh=async()=>{const t=ta(jo,Rh("date","desc"));return(await so(t)).docs.map(n=>({id:n.id,...n.data()}))},eI=async t=>{const e=await hv(zn(jo,t));return e.exists()?{id:e.id,...e.data()}:void 0},GU=async t=>{const e={...t,date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),excerpt:t.content.substring(0,100)+"..."};return{id:(await Nc(jo,e)).id,...e}},YU=async(t,e)=>{const n={...e};e.content&&(n.excerpt=e.content.substring(0,100)+"..."),await pv(zn(jo,t),n)},JU=async t=>{await Nh(zn(jo,t))},tI=bc(Zr,"registrations"),nI=async()=>{const t=ta(tI,Rh("submittedAt","desc"));return(await so(t)).docs.map(n=>({id:n.id,...n.data()}))},KU=async t=>{const e={...t,submittedAt:vt.now()};return{id:(await Nc(tI,e)).id,...t,submittedAt:e.submittedAt}},kc=()=>{const t=$.useContext(Zb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");const e=!!t.currentUser;return{...t,isAuthenticated:e}},Ja=({icon:t,finalValue:e,label:n,isHero:i})=>{const[s,a]=$.useState(0),l=$.useRef(null);$.useEffect(()=>{const _=new IntersectionObserver(([T])=>{if(T.isIntersecting){let x=0;const I=2e3,D=16,O=I/D,B=e/O,G=setInterval(()=>{x+=B,x>=e?(a(e),clearInterval(G)):a(Math.ceil(x))},D);_.disconnect()}},{threshold:.1});return l.current&&_.observe(l.current),()=>_.disconnect()},[e]);const c=i?"bg-white/10 backdrop-blur-md border border-white/20":"bg-[var(--bg-secondary)] border border-[var(--border-color)] shadow-md",h=i?"text-white":"text-[var(--text-primary)]",d=i?"text-white/90":"text-[var(--text-secondary)]",m=i?"text-white":"text-[var(--accent-secondary)]";return S.jsxs("div",{ref:l,className:`p-5 rounded-xl flex items-center gap-4 ${c}`,children:[S.jsx("i",{className:`fa-solid ${t} text-4xl ${m}`}),S.jsxs("div",{children:[S.jsx("h3",{className:`text-4xl font-bold ${h}`,children:s.toLocaleString()}),S.jsx("p",{className:`text-md font-semibold ${d}`,children:n})]})]})},$U=()=>{const{isAuthenticated:t}=kc(),e=Tr(),[n,i]=$.useState([]),[s,a]=$.useState([]),[l,c]=$.useState([]),[h,d]=$.useState({name:"",phone:"",ini:"",year:"",stream:"",degree:""}),[m,_]=$.useState(!1),[T,x]=$.useState("");$.useEffect(()=>{(async()=>{try{const[H,re,fe]=await Promise.all([Av(),Cv(),Vh()]);i(H),a(re.slice(0,3)),c(fe.slice(0,3))}catch(H){console.error("Failed to fetch homepage data:",H)}})()},[]),$.useEffect(()=>{if(e.hash){const G=e.hash.substring(1);setTimeout(()=>{const H=document.getElementById(G);H&&H.scrollIntoView({behavior:"smooth"})},0)}},[e]);const I=G=>{const{name:H,value:re}=G.target;d(fe=>({...fe,[H]:re}))},D=async G=>{G.preventDefault(),_(!0),x("");try{await KU(h),x("Registration successful! We will get in touch with you."),d({name:"",phone:"",ini:"",year:"",stream:"",degree:""})}catch(H){console.error("Registration failed:",H),x("Registration failed. Please try again.")}finally{_(!1)}},O=n.filter(G=>G.type==="founder"),B=n.filter(G=>G.type==="committee");return S.jsx("div",{className:"bg-[var(--bg-primary)]",children:S.jsxs("div",{className:"max-w-7xl mx-auto main-content-wrapper bg-[var(--bg-primary)] rounded-2xl shadow-2xl overflow-hidden",children:[S.jsxs("section",{id:"home",className:"relative flex items-center justify-center min-h-[500px] text-white text-center p-5",children:[S.jsx("img",{src:"https://i.ibb.co/hxXnpDkt/openart-image-Hb-U4e-4n-1761398954600-raw.webp",alt:"A team of Indian doctors",className:"absolute inset-0 w-full h-full object-cover"}),S.jsx("div",{className:"absolute inset-0 bg-black/60"}),S.jsxs("div",{className:"relative z-10 animate-fadeInUp",children:[S.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight",children:"Empowering Resident Doctors Across India"}),S.jsx("p",{className:"mt-4 text-lg md:text-xl max-w-3xl mx-auto text-white/90",children:"The National Federation of Resident Doctors Association for AIIMS and INIs stands as the premier voice for resident doctors, advocating for excellence in medical education, professional development, and healthcare delivery."}),S.jsxs("div",{className:"mt-10 grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[S.jsx(Ja,{icon:"fa-hospital",finalValue:25,label:"AIIMS & INIs",isHero:!0}),S.jsx(Ja,{icon:"fa-user-doctor",finalValue:1e4,label:"Resident Doctors",isHero:!0}),S.jsx(Ja,{icon:"fa-heart-pulse",finalValue:1e8,label:"Lives Touched",isHero:!0})]})]})]}),S.jsxs("section",{id:"about-us",className:"py-20 px-6",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--accent-primary)] text-center mb-4",children:"About NAFORD"}),S.jsx("p",{className:"text-lg text-[var(--text-secondary)] text-center max-w-3xl mx-auto mb-12",children:"Since our inception, NAFORD has been the cornerstone of medical education excellence and resident advocacy across India's premier medical institutions."}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-8 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h3",{className:"text-2xl font-bold mb-4",children:"History of NAFORD"}),S.jsx("p",{className:"text-[var(--text-secondary)]",children:"The National Federation of Resident Doctors of AIIMS and INIS (NAFORD) was established as a unifying body representing the resident doctors across the INI Institutes. Originally founded under the name “PARWA”, the organization grew in size and responsibility, it evolved into a more structured and nationally recognized body. This transformation led to the renaming of PARWA as NAFORD , symbolizing a broader mission — to act as the National Federation safeguarding the professional, academic, and welfare interests of resident doctors across the AIIMS and INIs institute network. NAFORD continues to uphold its founding purpose — to support, represent, and empower all residents within the INIs."})]}),S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-8 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Our Mission"}),S.jsx("p",{children:"To champion the cause of resident doctors and elevate the standards of medical education and healthcare delivery across India."}),S.jsxs("div",{className:"space-y-4 mt-4",children:[S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("i",{className:"fa-solid fa-graduation-cap text-2xl text-[var(--accent-secondary)] mt-1"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold",children:"Excellence in Medical Education"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Committed to the highest standards of medical training and continuous professional development."})]})]}),S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("i",{className:"fa-solid fa-lightbulb text-2xl text-[var(--accent-secondary)] mt-1"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold",children:"Visionary Leadership"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Guiding the future of healthcare through innovative policies and progressive advocacy."})]})]}),S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("i",{className:"fa-solid fa-hand-holding-heart text-2xl text-[var(--accent-secondary)] mt-1"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold",children:"Compassionate Care"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Fostering a culture of empathy and dedication to patient care and professional wellbeing."})]})]})]})]})]})]}),S.jsxs("section",{id:"team",className:"py-20 px-6 bg-[var(--bg-secondary)]",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--accent-primary)] text-center mb-4",children:"Meet the Team"}),S.jsx("p",{className:"text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12",children:"The driving force behind NAFORD's mission, vision, and advocacy for resident doctors across India."}),S.jsx("h3",{className:"text-2xl font-semibold text-center mb-8 text-[var(--text-primary)]",children:"Founder Members"}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto mb-12",children:O.map(G=>S.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-lg shadow-lg text-center border border-[var(--border-color)] flex flex-col items-center",children:[S.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-28 h-28 rounded-full mx-auto mb-4 object-cover border-4 border-[var(--accent-secondary)]"}),S.jsx("h4",{className:"text-xl font-bold",children:G.name}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)] font-semibold mt-1 mb-2 whitespace-pre-line",children:G.role}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:G.bio})]},G.id))}),S.jsx("hr",{className:"my-12 border-[var(--border-color)]"}),S.jsx("h3",{className:"text-2xl font-semibold text-center mb-8 text-[var(--text-primary)]",children:"Core Committee"}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:B.map(G=>S.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-lg shadow-lg text-center border border-[var(--border-color)] flex flex-col items-center",children:[S.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-28 h-28 rounded-full mx-auto mb-4 object-cover border-4 border-[var(--accent-secondary)]"}),S.jsx("h4",{className:"text-xl font-bold",children:G.name}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)] font-semibold mt-1 mb-2 whitespace-pre-line",children:G.role}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:G.bio})]},G.id))})]}),S.jsxs("section",{id:"network",className:"py-20 px-6",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--accent-primary)] text-center mb-4",children:"Our Network"}),S.jsx("p",{className:"text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12",children:"Connecting excellence across India's premier medical institutions, fostering collaboration and elevating standards of medical education."}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12",children:[S.jsx(Ja,{icon:"fa-hospital",finalValue:25,label:"AIIMS & INIs"}),S.jsx(Ja,{icon:"fa-user-doctor",finalValue:1e4,label:"Resident Doctors"}),S.jsx(Ja,{icon:"fa-heart-pulse",finalValue:1e8,label:"Lives Touched"})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"AIIMS New Delhi"}),S.jsx("p",{children:"Premier Medical Institute"})]}),S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"AIIMS Bhubaneswar"}),S.jsx("p",{children:"Eastern India Hub"})]}),S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"AIIMS Jodhpur"}),S.jsx("p",{children:"Desert Medicine Excellence"})]}),S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"AIIMS Rishikesh"}),S.jsx("p",{children:"Himalayan Healthcare"})]}),S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"JIPMER Puducherry"}),S.jsx("p",{children:"Historic Excellence"})]}),S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"NIMHANS Bangalore"}),S.jsx("p",{children:"Mental Health Pioneer"})]})]})]}),S.jsxs("section",{id:"resident-hub",className:"py-20 px-6 bg-[var(--bg-secondary)]",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--accent-primary)] text-center mb-4",children:"Resident Doctors' Hub"}),S.jsx("p",{className:"text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12",children:"Your comprehensive resource center for professional development, mentorship, and career advancement."}),t?S.jsxs("div",{className:"text-center bg-[var(--bg-primary)] p-8 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h3",{className:"text-2xl font-bold",children:"Welcome, Registered Member!"}),S.jsx("p",{className:"text-[var(--text-secondary)]",children:"Access exclusive resources, question papers, and essential medical books."}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 max-w-2xl mx-auto",children:[S.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)] hover:shadow-lg transition-shadow",children:[S.jsx("i",{className:"fas fa-file-alt text-3xl text-[var(--accent-primary)] mb-3"}),S.jsx("h4",{className:"font-bold",children:"Question Papers"})]}),S.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)] hover:shadow-lg transition-shadow",children:[S.jsx("i",{className:"fas fa-book-open text-3xl text-[var(--accent-primary)] mb-3"}),S.jsx("h4",{className:"font-bold",children:"Book Library"})]})]})]}):S.jsxs("div",{className:"text-center bg-[var(--bg-primary)] p-8 rounded-lg border-2 border-dashed border-[var(--border-color)]",children:[S.jsx("i",{className:"fas fa-lock text-4xl text-[var(--accent-primary)] mb-4"}),S.jsx("h3",{className:"text-2xl font-bold",children:"Exclusive Content for Members"}),S.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"This hub contains valuable resources available only to registered NAFORD members."}),S.jsx("a",{href:"#register",className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-6 rounded-lg hover:bg-[var(--accent-secondary)]",children:"Register to Unlock"})]}),S.jsx("h3",{className:"text-2xl font-semibold text-center mt-16 mb-8 text-[var(--text-primary)]",children:"Success Stories"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"Dr. Priya Sharma"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:'"The mentorship program connected me with leading cardiologists who guided my research journey."'})]}),S.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"Dr. Raj Patel"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:`"NAFORD's fellowship opportunities opened doors to international training programs."`})]}),S.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsx("h4",{children:"Dr. Meera Nair"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:'"The professional development resources helped me excel in my specialty examinations."'})]})]})]}),S.jsx("section",{className:"py-20 px-6",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[S.jsxs("div",{children:[S.jsx("h2",{id:"news",className:"text-3xl font-bold text-[var(--accent-primary)] mb-8",children:"News & Upcoming Events"}),S.jsx("div",{className:"space-y-6",children:s.map(G=>S.jsxs("div",{className:"bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)]",children:[S.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[new Date(G.date).toLocaleDateString("en-US",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric"})," • ",G.location]}),S.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mt-1",children:G.name}),S.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:G.description})]},G.id))})]}),S.jsxs("div",{children:[S.jsx("h2",{id:"blog",className:"text-3xl font-bold text-[var(--accent-primary)] mb-8",children:"Latest from the Blog"}),S.jsxs("div",{className:"space-y-6",children:[l.map(G=>S.jsxs(tn,{to:`/blog/${G.id}`,className:"block bg-[var(--bg-secondary)] p-6 rounded-lg border border-[var(--border-color)] hover:shadow-lg transition-shadow",children:[S.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:G.title}),S.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:["By ",G.author," on ",G.date]}),S.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:G.excerpt})]},G.id)),l.length>0&&S.jsx("div",{className:"text-center mt-8",children:S.jsx(tn,{to:"/blog",className:"text-[var(--accent-primary)] font-semibold hover:underline",children:"View All Posts →"})})]})]})]})}),S.jsxs("section",{id:"register",className:"py-20 px-6 bg-[var(--bg-secondary)]",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--accent-primary)] text-center mb-4",children:"Become a Member"}),S.jsx("p",{className:"text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12",children:"Join the NAFORD community to connect with peers, access exclusive resources, and be a part of a national network of resident doctors."}),S.jsxs("form",{onSubmit:D,className:"max-w-3xl mx-auto bg-[var(--bg-primary)] p-8 rounded-xl shadow-2xl border border-[var(--border-color)] space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Full Name"}),S.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:I,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Phone Number"}),S.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:I,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"ini",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"INI (Institute of National Importance)"}),S.jsx("input",{type:"text",id:"ini",name:"ini",value:h.ini,onChange:I,placeholder:"e.g., AIIMS Bhopal",className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Year of Joining"}),S.jsx("input",{type:"number",id:"year",name:"year",value:h.year,onChange:I,placeholder:"e.g., 2023",className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"stream",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Stream"}),S.jsx("input",{type:"text",id:"stream",name:"stream",value:h.stream,onChange:I,placeholder:"e.g., General Medicine",className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"degree",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Degree"}),S.jsxs("select",{id:"degree",name:"degree",value:h.degree,onChange:I,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0,children:[S.jsx("option",{value:"",disabled:!0,children:"Select..."}),S.jsx("option",{value:"MD",children:"MD"}),S.jsx("option",{value:"MS",children:"MS"}),S.jsx("option",{value:"DM",children:"DM"}),S.jsx("option",{value:"M.Ch",children:"M.Ch"}),S.jsx("option",{value:"Fellowship",children:"Fellowship"})]})]})]}),T&&S.jsx("p",{className:`text-center font-semibold ${T.includes("successful")?"text-green-600":"text-red-600"}`,children:T}),S.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[var(--accent-primary)] text-white font-bold py-3 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors disabled:opacity-50",children:m?"Submitting...":"Submit Registration"})]})]})]})})},jU=()=>{const[t,e]=$.useState([]),[n,i]=$.useState(!0);return $.useEffect(()=>{(async()=>{try{const a=await Vh();e(a)}catch(a){console.error("Failed to fetch posts:",a)}finally{i(!1)}})()},[]),n?S.jsx("div",{className:"text-center py-20 text-[var(--text-primary)]",children:"Loading posts..."}):S.jsx("div",{className:"bg-[var(--bg-primary)] min-h-screen",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-[var(--accent-primary)] tracking-tight",children:"From the Blog"}),S.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-[var(--text-secondary)]",children:"Explore insightful articles, scientific papers, and case discussions from our community of resident doctors."})]}),S.jsx("div",{className:"mt-12 grid gap-8 lg:grid-cols-3 sm:grid-cols-2",children:t.map(s=>S.jsx(tn,{to:`/blog/${s.id}`,className:"group block bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-color)] shadow-md hover:shadow-xl hover:-translate-y-2 transition-all duration-300 overflow-hidden",children:S.jsxs("div",{className:"p-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] group-hover:text-[var(--accent-primary)] transition-colors duration-300",children:s.title}),S.jsxs("p",{className:"mt-2 text-sm text-[var(--text-secondary)]",children:["By ",s.author," on ",s.date]}),S.jsx("p",{className:"mt-4 text-base text-[var(--text-secondary)]",children:s.excerpt}),S.jsxs("div",{className:"mt-6 text-base font-semibold text-[var(--accent-primary)]",children:["Read Full Article ",S.jsx("span",{"aria-hidden":"true",className:"group-hover:ml-2 transition-all duration-300",children:"→"})]})]})},s.id))})]})})};function QU(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const WU=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZU={};function iA(t,e){return(ZU.jsx?XU:WU).test(t)}const eO=/[ \t\n\f\r]/g;function tO(t){return typeof t=="object"?t.type==="text"?rA(t.value):!1:rA(t)}function rA(t){return t.replace(eO,"")===""}class Lc{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Lc.prototype.normal={};Lc.prototype.property={};Lc.prototype.space=void 0;function iI(t,e){const n={},i={};for(const s of t)Object.assign(n,s.property),Object.assign(i,s.normal);return new Lc(n,i,e)}function ey(t){return t.toLowerCase()}class Hn{constructor(e,n){this.attribute=n,this.property=e}}Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let nO=0;const qe=ia(),jt=ia(),ty=ia(),he=ia(),_t=ia(),ol=ia(),Zn=ia();function ia(){return 2**++nO}const ny=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:jt,commaOrSpaceSeparated:Zn,commaSeparated:ol,number:he,overloadedBoolean:ty,spaceSeparated:_t},Symbol.toStringTag,{value:"Module"})),fg=Object.keys(ny);class wv extends Hn{constructor(e,n,i,s){let a=-1;if(super(e,n),sA(this,"space",s),typeof i=="number")for(;++a<fg.length;){const l=fg[a];sA(this,fg[a],(i&ny[l])===ny[l])}}}wv.prototype.defined=!0;function sA(t,e,n){n&&(t[e]=n)}function Dl(t){const e={},n={};for(const[i,s]of Object.entries(t.properties)){const a=new wv(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,n[ey(i)]=i,n[ey(a.attribute)]=i}return new Lc(e,n,t.space)}const rI=Dl({properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:_t,ariaCurrent:null,ariaDescribedBy:_t,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:_t,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:_t,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_t,ariaLevel:he,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:_t,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:_t,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:jt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function sI(t,e){return e in t?t[e]:e}function oI(t,e){return sI(t,e.toLowerCase())}const iO=Dl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ol,acceptCharset:_t,accessKey:_t,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:_t,autoFocus:qe,autoPlay:qe,blocking:_t,capture:null,charSet:null,checked:qe,cite:null,className:_t,cols:he,colSpan:null,content:null,contentEditable:jt,controls:qe,controlsList:_t,coords:he|ol,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:ty,draggable:jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:_t,height:he,hidden:ty,high:he,href:null,hrefLang:null,htmlFor:_t,httpEquiv:_t,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:_t,itemRef:_t,itemScope:qe,itemType:_t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:he,pattern:null,ping:_t,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:_t,required:qe,reversed:qe,rows:he,rowSpan:he,sandbox:_t,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:jt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_t,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:oI}),rO=Dl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:_t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ol,g2:ol,glyphName:ol,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:Zn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zn,rev:Zn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zn,requiredFeatures:Zn,requiredFonts:Zn,requiredFormats:Zn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:Zn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sI}),aI=Dl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),lI=Dl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oI}),uI=Dl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),sO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oO=/[A-Z]/g,oA=/-[a-z]/g,aO=/^data[-\w.:]+$/i;function lO(t,e){const n=ey(e);let i=e,s=Hn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aO.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(oA,cO);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!oA.test(a)){let l=a.replace(oO,uO);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=wv}return new s(i,e)}function uO(t){return"-"+t.toLowerCase()}function cO(t){return t.charAt(1).toUpperCase()}const fO=iI([rI,iO,aI,lI,uI],"html"),bv=iI([rI,rO,aI,lI,uI],"svg");function dO(t){return t.join(" ").trim()}var Ka={},dg,aA;function hO(){if(aA)return dg;aA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,d="/",m="*",_="",T="comment",x="declaration";dg=function(D,O){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];O=O||{};var B=1,G=1;function H(P){var pe=P.match(e);pe&&(B+=pe.length);var _e=P.lastIndexOf(h);G=~_e?P.length-_e:G+P.length}function re(){var P={line:B,column:G};return function(pe){return pe.position=new fe(P),k(),pe}}function fe(P){this.start=P,this.end={line:B,column:G},this.source=O.source}fe.prototype.content=D;function j(P){var pe=new Error(O.source+":"+B+":"+G+": "+P);if(pe.reason=P,pe.filename=O.source,pe.line=B,pe.column=G,pe.source=D,!O.silent)throw pe}function M(P){var pe=P.exec(D);if(pe){var _e=pe[0];return H(_e),D=D.slice(_e.length),pe}}function k(){M(n)}function N(P){var pe;for(P=P||[];pe=U();)pe!==!1&&P.push(pe);return P}function U(){var P=re();if(!(d!=D.charAt(0)||m!=D.charAt(1))){for(var pe=2;_!=D.charAt(pe)&&(m!=D.charAt(pe)||d!=D.charAt(pe+1));)++pe;if(pe+=2,_===D.charAt(pe-1))return j("End of comment missing");var _e=D.slice(2,pe-2);return G+=2,H(_e),D=D.slice(pe),G+=2,P({type:T,comment:_e})}}function V(){var P=re(),pe=M(i);if(pe){if(U(),!M(s))return j("property missing ':'");var _e=M(a),Z=P({type:x,property:I(pe[0].replace(t,_)),value:_e?I(_e[0].replace(t,_)):_});return M(l),Z}}function F(){var P=[];N(P);for(var pe;pe=V();)pe!==!1&&(P.push(pe),N(P));return P}return k(),F()};function I(D){return D?D.replace(c,_):_}return dg}var lA;function pO(){if(lA)return Ka;lA=1;var t=Ka&&Ka.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.default=n;const e=t(hO());function n(i,s){let a=null;if(!i||typeof i!="string")return a;const l=(0,e.default)(i),c=typeof s=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:d,value:m}=h;c?s(d,m,h):m&&(a=a||{},a[d]=m)}),a}return Ka}var Fu={},uA;function mO(){if(uA)return Fu;uA=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},l=function(d,m){return m.toUpperCase()},c=function(d,m){return"".concat(m,"-")},h=function(d,m){return m===void 0&&(m={}),a(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(s,c):d=d.replace(i,c),d.replace(e,l))};return Fu.camelCase=h,Fu}var Bu,cA;function gO(){if(cA)return Bu;cA=1;var t=Bu&&Bu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(pO()),n=mO();function i(s,a){var l={};return!s||typeof s!="string"||(0,e.default)(s,function(c,h){c&&h&&(l[(0,n.camelCase)(c,a)]=h)}),l}return i.default=i,Bu=i,Bu}var yO=gO();const vO=ah(yO),cI=fI("end"),Iv=fI("start");function fI(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function _O(t){const e=Iv(t),n=cI(t);if(e&&n)return{start:e,end:n}}function nc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fA(t.position):"start"in t||"end"in t?fA(t):"line"in t||"column"in t?iy(t):""}function iy(t){return dA(t&&t.line)+":"+dA(t&&t.column)}function fA(t){return iy(t&&t.start)+"-"+iy(t&&t.end)}function dA(t){return t&&typeof t=="number"?t:1}class wn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const h=i.indexOf(":");h===-1?a.ruleId=i:(a.source=i.slice(0,h),a.ruleId=i.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=nc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wn.prototype.file="";wn.prototype.name="";wn.prototype.reason="";wn.prototype.message="";wn.prototype.stack="";wn.prototype.column=void 0;wn.prototype.line=void 0;wn.prototype.ancestors=void 0;wn.prototype.cause=void 0;wn.prototype.fatal=void 0;wn.prototype.place=void 0;wn.prototype.ruleId=void 0;wn.prototype.source=void 0;const Rv={}.hasOwnProperty,EO=new Map,TO=/[A-Z]/g,SO=new Set(["table","tbody","thead","tfoot","tr"]),xO=new Set(["td","th"]),dI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AO(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=MO(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=DO(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?bv:fO,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=hI(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function hI(t,e,n){if(e.type==="element")return CO(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return wO(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return IO(t,e,n);if(e.type==="mdxjsEsm")return bO(t,e);if(e.type==="root")return RO(t,e,n);if(e.type==="text")return NO(t,e)}function CO(t,e,n){const i=t.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=bv,t.schema=s),t.ancestors.push(e);const a=mI(t,e.tagName,!1),l=PO(t,e);let c=Dv(t,e);return SO.has(e.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!tO(h):!0})),pI(t,l,a,e),Nv(l,c),t.ancestors.pop(),t.schema=i,t.create(e,a,l,n)}function wO(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}yc(t,e.position)}function bO(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);yc(t,e.position)}function IO(t,e,n){const i=t.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=bv,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:mI(t,e.name,!0),l=kO(t,e),c=Dv(t,e);return pI(t,l,a,e),Nv(l,c),t.ancestors.pop(),t.schema=i,t.create(e,a,l,n)}function RO(t,e,n){const i={};return Nv(i,Dv(t,e)),t.create(e,t.Fragment,i,n)}function NO(t,e){return e.value}function pI(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function Nv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function DO(t,e,n){return i;function i(s,a,l,c){const d=Array.isArray(l.children)?n:e;return c?d(a,l,c):d(a,l)}}function MO(t,e){return n;function n(i,s,a,l){const c=Array.isArray(a.children),h=Iv(i);return e(s,a,l,c,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function PO(t,e){const n={};let i,s;for(s in e.properties)if(s!=="children"&&Rv.call(e.properties,s)){const a=LO(t,s,e.properties[s]);if(a){const[l,c]=a;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&xO.has(e.tagName)?i=c:n[l]=c}}if(i){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function kO(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else yc(t,e.position);else{const s=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const c=i.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else yc(t,e.position);else a=i.value===null?!0:i.value;n[s]=a}return n}function Dv(t,e){const n=[];let i=-1;const s=t.passKeys?new Map:EO;for(;++i<e.children.length;){const a=e.children[i];let l;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=s.get(h)||0;l=h+"-"+d,s.set(h,d+1)}}const c=hI(t,a,l);c!==void 0&&n.push(c)}return n}function LO(t,e,n){const i=lO(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?QU(n):dO(n)),i.property==="style"){let s=typeof n=="object"?n:VO(t,String(n));return t.stylePropertyNameCase==="css"&&(s=UO(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?sO[i.property]||i.property:i.attribute,n]}}function VO(t,e){try{return vO(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,s=new wn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=dI+"#cannot-parse-style-attribute",s}}function mI(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,l;for(;++a<s.length;){const c=iA(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}i=l}else i=iA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return Rv.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);yc(t)}function yc(t,e){const n=new wn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=dI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function UO(t){const e={};let n;for(n in t)Rv.call(t,n)&&(e[OO(n)]=t[n]);return e}function OO(t){let e=t.replace(TO,FO);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function FO(t){return"-"+t.toLowerCase()}const hg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},BO={};function qO(t,e){const n=BO,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gI(t,i,s)}function gI(t,e,n){if(zO(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hA(t.children,e,n)}return Array.isArray(t)?hA(t,e,n):""}function hA(t,e,n){const i=[];let s=-1;for(;++s<t.length;)i[s]=gI(t[s],e,n);return i.join("")}function zO(t){return!!(t&&typeof t=="object")}const pA=document.createElement("i");function Mv(t){const e="&"+t+";";pA.innerHTML=e;const n=pA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Er(t,e,n,i){const s=t.length;let a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}function gi(t,e){return t.length>0?(Er(t,t.length,0,e),t):e}const mA={}.hasOwnProperty;function HO(t){const e={};let n=-1;for(;++n<t.length;)GO(e,t[n]);return e}function GO(t,e){let n;for(n in e){const s=(mA.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let l;if(a)for(l in a){mA.call(s,l)||(s[l]=[]);const c=a[l];YO(s[l],Array.isArray(c)?c:c?[c]:[])}}}function YO(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Er(t,0,0,i)}function yI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function al(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fr=ao(/[A-Za-z]/),ti=ao(/[\dA-Za-z]/),JO=ao(/[#-'*+\--9=?A-Z^-~]/);function ry(t){return t!==null&&(t<32||t===127)}const sy=ao(/\d/),KO=ao(/[\dA-Fa-f]/),$O=ao(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function qn(t){return t!==null&&(t<0||t===32)}function at(t){return t===-2||t===-1||t===32}const jO=ao(new RegExp("\\p{P}|\\p{S}","u")),QO=ao(/\s/);function ao(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ml(t){const e=[];let n=-1,i=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let l="";if(a===37&&ti(t.charCodeAt(n+1))&&ti(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),s=1):l="�"}else l=String.fromCharCode(a);l&&(e.push(t.slice(i,n),encodeURIComponent(l)),i=n+s+1,l=""),s&&(n+=s,s=0)}return e.join("")+t.slice(i)}function Tt(t,e,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(h){return at(h)?(t.enter(n),c(h)):e(h)}function c(h){return at(h)&&a++<s?(t.consume(h),c):(t.exit(n),e(h))}}const WO={tokenize:XO};function XO(t){const e=t.attempt(this.parser.constructs.contentInitial,i,s);let n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Tt(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Pe(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}const ZO={tokenize:e4},gA={tokenize:t4};function e4(t){const e=this,n=[];let i=0,s,a,l;return c;function c(H){if(i<n.length){const re=n[i];return e.containerState=re[1],t.attempt(re[0].continuation,h,d)(H)}return d(H)}function h(H){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&G();const re=e.events.length;let fe=re,j;for(;fe--;)if(e.events[fe][0]==="exit"&&e.events[fe][1].type==="chunkFlow"){j=e.events[fe][1].end;break}B(i);let M=re;for(;M<e.events.length;)e.events[M][1].end={...j},M++;return Er(e.events,fe+1,0,e.events.slice(re)),e.events.length=M,d(H)}return c(H)}function d(H){if(i===n.length){if(!s)return T(H);if(s.currentConstruct&&s.currentConstruct.concrete)return I(H);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gA,m,_)(H)}function m(H){return s&&G(),B(i),T(H)}function _(H){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,I(H)}function T(H){return e.containerState={},t.attempt(gA,x,I)(H)}function x(H){return i++,n.push([e.currentConstruct,e.containerState]),T(H)}function I(H){if(H===null){s&&G(),B(0),t.consume(H);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),D(H)}function D(H){if(H===null){O(t.exit("chunkFlow"),!0),B(0),t.consume(H);return}return Pe(H)?(t.consume(H),O(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(H),D)}function O(H,re){const fe=e.sliceStream(H);if(re&&fe.push(null),H.previous=a,a&&(a.next=H),a=H,s.defineSkip(H.start),s.write(fe),e.parser.lazy[H.start.line]){let j=s.events.length;for(;j--;)if(s.events[j][1].start.offset<l&&(!s.events[j][1].end||s.events[j][1].end.offset>l))return;const M=e.events.length;let k=M,N,U;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(N){U=e.events[k][1].end;break}N=!0}for(B(i),j=M;j<e.events.length;)e.events[j][1].end={...U},j++;Er(e.events,k+1,0,e.events.slice(M)),e.events.length=j}}function B(H){let re=n.length;for(;re-- >H;){const fe=n[re];e.containerState=fe[1],fe[0].exit.call(e,t)}n.length=H}function G(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function t4(t,e,n){return Tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yA(t){if(t===null||qn(t)||QO(t))return 1;if(jO(t))return 2}function Pv(t,e,n){const i=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}const oy={name:"attention",resolveAll:n4,tokenize:i4};function n4(t,e){let n=-1,i,s,a,l,c,h,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[i][1].end},T={...t[n][1].start};vA(_,-h),vA(T,h),l={type:h>1?"strongSequence":"emphasisSequence",start:_,end:{...t[i][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},a={type:h>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=gi(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=gi(d,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),d=gi(d,Pv(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=gi(d,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=gi(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Er(t,i-1,n-i+3,d),n=i+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function i4(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=yA(i);let a;return l;function l(h){return a=h,t.enter("attentionSequence"),c(h)}function c(h){if(h===a)return t.consume(h),c;const d=t.exit("attentionSequence"),m=yA(h),_=!m||m===2&&s||n.includes(h),T=!s||s===2&&m||n.includes(i);return d._open=!!(a===42?_:_&&(s||!T)),d._close=!!(a===42?T:T&&(m||!_)),e(h)}}function vA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const r4={name:"autolink",tokenize:s4};function s4(t,e,n){let i=0;return s;function s(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return fr(x)?(t.consume(x),l):x===64?n(x):d(x)}function l(x){return x===43||x===45||x===46||ti(x)?(i=1,c(x)):d(x)}function c(x){return x===58?(t.consume(x),i=0,h):(x===43||x===45||x===46||ti(x))&&i++<32?(t.consume(x),c):(i=0,d(x))}function h(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||ry(x)?n(x):(t.consume(x),h)}function d(x){return x===64?(t.consume(x),m):JO(x)?(t.consume(x),d):n(x)}function m(x){return ti(x)?_(x):n(x)}function _(x){return x===46?(t.consume(x),i=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):T(x)}function T(x){if((x===45||ti(x))&&i++<63){const I=x===45?T:_;return t.consume(x),I}return n(x)}}const Uh={partial:!0,tokenize:o4};function o4(t,e,n){return i;function i(a){return at(a)?Tt(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||Pe(a)?e(a):n(a)}}const vI={continuation:{tokenize:l4},exit:u4,name:"blockQuote",tokenize:a4};function a4(t,e,n){const i=this;return s;function s(l){if(l===62){const c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return at(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function l4(t,e,n){const i=this;return s;function s(l){return at(l)?Tt(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(vI,e,n)(l)}}function u4(t){t.exit("blockQuote")}const _I={name:"characterEscape",tokenize:c4};function c4(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return $O(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const EI={name:"characterReference",tokenize:f4};function f4(t,e,n){const i=this;let s=0,a,l;return c;function c(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),h}function h(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,l=ti,m(_))}function d(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=KO,m):(t.enter("characterReferenceValue"),a=7,l=sy,m(_))}function m(_){if(_===59&&s){const T=t.exit("characterReferenceValue");return l===ti&&!Mv(i.sliceSerialize(T))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(_)&&s++<a?(t.consume(_),m):n(_)}}const _A={partial:!0,tokenize:h4},EA={concrete:!0,name:"codeFenced",tokenize:d4};function d4(t,e,n){const i=this,s={partial:!0,tokenize:fe};let a=0,l=0,c;return h;function h(j){return d(j)}function d(j){const M=i.events[i.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(j)}function m(j){return j===c?(l++,t.consume(j),m):l<3?n(j):(t.exit("codeFencedFenceSequence"),at(j)?Tt(t,_,"whitespace")(j):_(j))}function _(j){return j===null||Pe(j)?(t.exit("codeFencedFence"),i.interrupt?e(j):t.check(_A,D,re)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(j))}function T(j){return j===null||Pe(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(j)):at(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Tt(t,x,"whitespace")(j)):j===96&&j===c?n(j):(t.consume(j),T)}function x(j){return j===null||Pe(j)?_(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),I(j))}function I(j){return j===null||Pe(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(j)):j===96&&j===c?n(j):(t.consume(j),I)}function D(j){return t.attempt(s,re,O)(j)}function O(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),B}function B(j){return a>0&&at(j)?Tt(t,G,"linePrefix",a+1)(j):G(j)}function G(j){return j===null||Pe(j)?t.check(_A,D,re)(j):(t.enter("codeFlowValue"),H(j))}function H(j){return j===null||Pe(j)?(t.exit("codeFlowValue"),G(j)):(t.consume(j),H)}function re(j){return t.exit("codeFenced"),e(j)}function fe(j,M,k){let N=0;return U;function U(_e){return j.enter("lineEnding"),j.consume(_e),j.exit("lineEnding"),V}function V(_e){return j.enter("codeFencedFence"),at(_e)?Tt(j,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_e):F(_e)}function F(_e){return _e===c?(j.enter("codeFencedFenceSequence"),P(_e)):k(_e)}function P(_e){return _e===c?(N++,j.consume(_e),P):N>=l?(j.exit("codeFencedFenceSequence"),at(_e)?Tt(j,pe,"whitespace")(_e):pe(_e)):k(_e)}function pe(_e){return _e===null||Pe(_e)?(j.exit("codeFencedFence"),M(_e)):k(_e)}}}function h4(t,e,n){const i=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}const pg={name:"codeIndented",tokenize:m4},p4={partial:!0,tokenize:g4};function m4(t,e,n){const i=this;return s;function s(d){return t.enter("codeIndented"),Tt(t,a,"linePrefix",5)(d)}function a(d){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?h(d):Pe(d)?t.attempt(p4,l,h)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||Pe(d)?(t.exit("codeFlowValue"),l(d)):(t.consume(d),c)}function h(d){return t.exit("codeIndented"),e(d)}}function g4(t,e,n){const i=this;return s;function s(l){return i.parser.lazy[i.now().line]?n(l):Pe(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):Tt(t,a,"linePrefix",5)(l)}function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Pe(l)?s(l):n(l)}}const y4={name:"codeText",previous:_4,resolve:v4,tokenize:E4};function v4(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}function _4(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function E4(t,e,n){let i=0,s,a;return l;function l(_){return t.enter("codeText"),t.enter("codeTextSequence"),c(_)}function c(_){return _===96?(t.consume(_),i++,c):(t.exit("codeTextSequence"),h(_))}function h(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),h):_===96?(a=t.enter("codeTextSequence"),s=0,m(_)):Pe(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),h):(t.enter("codeTextData"),d(_))}function d(_){return _===null||_===32||_===96||Pe(_)?(t.exit("codeTextData"),h(_)):(t.consume(_),d)}function m(_){return _===96?(t.consume(_),s++,m):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",d(_))}}class T4{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&qu(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),qu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),qu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);qu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);qu(this.left,n.reverse())}}}function qu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function TI(t){const e={};let n=-1,i,s,a,l,c,h,d;const m=new T4(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(i=m.get(n),n&&i[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=i[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,S4(m,n)),n=e[n],d=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(i[1].end={...m.get(s)[1].start},c=m.slice(s,n),c.unshift(i),m.splice(s,n-s+1,c))}}return Er(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function S4(t,e){const n=t.get(e)[1],i=t.get(e)[2];let s=e-1;const a=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,h=[],d={};let m,_,T=-1,x=n,I=0,D=0;const O=[D];for(;x;){for(;t.get(++s)[1]!==x;);a.push(s),x._tokenizer||(m=i.sliceStream(x),x.next||m.push(null),_&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),_=x,x=x.next}for(x=n;++T<c.length;)c[T][0]==="exit"&&c[T-1][0]==="enter"&&c[T][1].type===c[T-1][1].type&&c[T][1].start.line!==c[T][1].end.line&&(D=T+1,O.push(D),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):O.pop(),T=O.length;T--;){const B=c.slice(O[T],O[T+1]),G=a.pop();h.push([G,G+B.length-1]),t.splice(G,2,B)}for(h.reverse(),T=-1;++T<h.length;)d[I+h[T][0]]=I+h[T][1],I+=h[T][1]-h[T][0]-1;return d}const x4={resolve:C4,tokenize:w4},A4={partial:!0,tokenize:b4};function C4(t){return TI(t),t}function w4(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):Pe(c)?t.check(A4,l,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function b4(t,e,n){const i=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Tt(t,a,"linePrefix")}function a(l){if(l===null||Pe(l))return n(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}function SI(t,e,n,i,s,a,l,c,h){const d=h||Number.POSITIVE_INFINITY;let m=0;return _;function _(B){return B===60?(t.enter(i),t.enter(s),t.enter(a),t.consume(B),t.exit(a),T):B===null||B===32||B===41||ry(B)?n(B):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),D(B))}function T(B){return B===62?(t.enter(a),t.consume(B),t.exit(a),t.exit(s),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(B))}function x(B){return B===62?(t.exit("chunkString"),t.exit(c),T(B)):B===null||B===60||Pe(B)?n(B):(t.consume(B),B===92?I:x)}function I(B){return B===60||B===62||B===92?(t.consume(B),x):x(B)}function D(B){return!m&&(B===null||B===41||qn(B))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(B)):m<d&&B===40?(t.consume(B),m++,D):B===41?(t.consume(B),m--,D):B===null||B===32||B===40||ry(B)?n(B):(t.consume(B),B===92?O:D)}function O(B){return B===40||B===41||B===92?(t.consume(B),D):D(B)}}function xI(t,e,n,i,s,a){const l=this;let c=0,h;return d;function d(x){return t.enter(i),t.enter(s),t.consume(x),t.exit(s),t.enter(a),m}function m(x){return c>999||x===null||x===91||x===93&&!h||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(t.exit(a),t.enter(s),t.consume(x),t.exit(s),t.exit(i),e):Pe(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),_(x))}function _(x){return x===null||x===91||x===93||Pe(x)||c++>999?(t.exit("chunkString"),m(x)):(t.consume(x),h||(h=!at(x)),x===92?T:_)}function T(x){return x===91||x===92||x===93?(t.consume(x),c++,_):_(x)}}function AI(t,e,n,i,s,a){let l;return c;function c(T){return T===34||T===39||T===40?(t.enter(i),t.enter(s),t.consume(T),t.exit(s),l=T===40?41:T,h):n(T)}function h(T){return T===l?(t.enter(s),t.consume(T),t.exit(s),t.exit(i),e):(t.enter(a),d(T))}function d(T){return T===l?(t.exit(a),h(l)):T===null?n(T):Pe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),Tt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===l||T===null||Pe(T)?(t.exit("chunkString"),d(T)):(t.consume(T),T===92?_:m)}function _(T){return T===l||T===92?(t.consume(T),m):m(T)}}function ic(t,e){let n;return i;function i(s){return Pe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):at(s)?Tt(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}const I4={name:"definition",tokenize:N4},R4={partial:!0,tokenize:D4};function N4(t,e,n){const i=this;let s;return a;function a(x){return t.enter("definition"),l(x)}function l(x){return xI.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return s=al(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),h):n(x)}function h(x){return qn(x)?ic(t,d)(x):d(x)}function d(x){return SI(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(R4,_,_)(x)}function _(x){return at(x)?Tt(t,T,"whitespace")(x):T(x)}function T(x){return x===null||Pe(x)?(t.exit("definition"),i.parser.defined.push(s),e(x)):n(x)}}function D4(t,e,n){return i;function i(c){return qn(c)?ic(t,s)(c):n(c)}function s(c){return AI(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return at(c)?Tt(t,l,"whitespace")(c):l(c)}function l(c){return c===null||Pe(c)?e(c):n(c)}}const M4={name:"hardBreakEscape",tokenize:P4};function P4(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return Pe(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const k4={name:"headingAtx",resolve:L4,tokenize:V4};function L4(t,e){let n=t.length-2,i=3,s,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Er(t,i,n-i+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function V4(t,e,n){let i=0;return s;function s(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&i++<6?(t.consume(m),l):m===null||qn(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||Pe(m)?(t.exit("atxHeading"),e(m)):at(m)?Tt(t,c,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||qn(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),d)}}const U4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TA=["pre","script","style","textarea"],O4={concrete:!0,name:"htmlFlow",resolveTo:q4,tokenize:z4},F4={partial:!0,tokenize:G4},B4={partial:!0,tokenize:H4};function q4(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function z4(t,e,n){const i=this;let s,a,l,c,h;return d;function d(L){return m(L)}function m(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),_}function _(L){return L===33?(t.consume(L),T):L===47?(t.consume(L),a=!0,D):L===63?(t.consume(L),s=3,i.interrupt?e:q):fr(L)?(t.consume(L),l=String.fromCharCode(L),O):n(L)}function T(L){return L===45?(t.consume(L),s=2,x):L===91?(t.consume(L),s=5,c=0,I):fr(L)?(t.consume(L),s=4,i.interrupt?e:q):n(L)}function x(L){return L===45?(t.consume(L),i.interrupt?e:q):n(L)}function I(L){const ye="CDATA[";return L===ye.charCodeAt(c++)?(t.consume(L),c===ye.length?i.interrupt?e:F:I):n(L)}function D(L){return fr(L)?(t.consume(L),l=String.fromCharCode(L),O):n(L)}function O(L){if(L===null||L===47||L===62||qn(L)){const ye=L===47,Ie=l.toLowerCase();return!ye&&!a&&TA.includes(Ie)?(s=1,i.interrupt?e(L):F(L)):U4.includes(l.toLowerCase())?(s=6,ye?(t.consume(L),B):i.interrupt?e(L):F(L)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(L):a?G(L):H(L))}return L===45||ti(L)?(t.consume(L),l+=String.fromCharCode(L),O):n(L)}function B(L){return L===62?(t.consume(L),i.interrupt?e:F):n(L)}function G(L){return at(L)?(t.consume(L),G):U(L)}function H(L){return L===47?(t.consume(L),U):L===58||L===95||fr(L)?(t.consume(L),re):at(L)?(t.consume(L),H):U(L)}function re(L){return L===45||L===46||L===58||L===95||ti(L)?(t.consume(L),re):fe(L)}function fe(L){return L===61?(t.consume(L),j):at(L)?(t.consume(L),fe):H(L)}function j(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),h=L,M):at(L)?(t.consume(L),j):k(L)}function M(L){return L===h?(t.consume(L),h=null,N):L===null||Pe(L)?n(L):(t.consume(L),M)}function k(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||qn(L)?fe(L):(t.consume(L),k)}function N(L){return L===47||L===62||at(L)?H(L):n(L)}function U(L){return L===62?(t.consume(L),V):n(L)}function V(L){return L===null||Pe(L)?F(L):at(L)?(t.consume(L),V):n(L)}function F(L){return L===45&&s===2?(t.consume(L),Z):L===60&&s===1?(t.consume(L),de):L===62&&s===4?(t.consume(L),Y):L===63&&s===3?(t.consume(L),q):L===93&&s===5?(t.consume(L),Ue):Pe(L)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(F4,se,P)(L)):L===null||Pe(L)?(t.exit("htmlFlowData"),P(L)):(t.consume(L),F)}function P(L){return t.check(B4,pe,se)(L)}function pe(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),_e}function _e(L){return L===null||Pe(L)?P(L):(t.enter("htmlFlowData"),F(L))}function Z(L){return L===45?(t.consume(L),q):F(L)}function de(L){return L===47?(t.consume(L),l="",Te):F(L)}function Te(L){if(L===62){const ye=l.toLowerCase();return TA.includes(ye)?(t.consume(L),Y):F(L)}return fr(L)&&l.length<8?(t.consume(L),l+=String.fromCharCode(L),Te):F(L)}function Ue(L){return L===93?(t.consume(L),q):F(L)}function q(L){return L===62?(t.consume(L),Y):L===45&&s===2?(t.consume(L),q):F(L)}function Y(L){return L===null||Pe(L)?(t.exit("htmlFlowData"),se(L)):(t.consume(L),Y)}function se(L){return t.exit("htmlFlow"),e(L)}}function H4(t,e,n){const i=this;return s;function s(l){return Pe(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}function G4(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Uh,e,n)}}const Y4={name:"htmlText",tokenize:J4};function J4(t,e,n){const i=this;let s,a,l;return c;function c(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),h}function h(q){return q===33?(t.consume(q),d):q===47?(t.consume(q),fe):q===63?(t.consume(q),H):fr(q)?(t.consume(q),k):n(q)}function d(q){return q===45?(t.consume(q),m):q===91?(t.consume(q),a=0,I):fr(q)?(t.consume(q),G):n(q)}function m(q){return q===45?(t.consume(q),x):n(q)}function _(q){return q===null?n(q):q===45?(t.consume(q),T):Pe(q)?(l=_,de(q)):(t.consume(q),_)}function T(q){return q===45?(t.consume(q),x):_(q)}function x(q){return q===62?Z(q):q===45?T(q):_(q)}function I(q){const Y="CDATA[";return q===Y.charCodeAt(a++)?(t.consume(q),a===Y.length?D:I):n(q)}function D(q){return q===null?n(q):q===93?(t.consume(q),O):Pe(q)?(l=D,de(q)):(t.consume(q),D)}function O(q){return q===93?(t.consume(q),B):D(q)}function B(q){return q===62?Z(q):q===93?(t.consume(q),B):D(q)}function G(q){return q===null||q===62?Z(q):Pe(q)?(l=G,de(q)):(t.consume(q),G)}function H(q){return q===null?n(q):q===63?(t.consume(q),re):Pe(q)?(l=H,de(q)):(t.consume(q),H)}function re(q){return q===62?Z(q):H(q)}function fe(q){return fr(q)?(t.consume(q),j):n(q)}function j(q){return q===45||ti(q)?(t.consume(q),j):M(q)}function M(q){return Pe(q)?(l=M,de(q)):at(q)?(t.consume(q),M):Z(q)}function k(q){return q===45||ti(q)?(t.consume(q),k):q===47||q===62||qn(q)?N(q):n(q)}function N(q){return q===47?(t.consume(q),Z):q===58||q===95||fr(q)?(t.consume(q),U):Pe(q)?(l=N,de(q)):at(q)?(t.consume(q),N):Z(q)}function U(q){return q===45||q===46||q===58||q===95||ti(q)?(t.consume(q),U):V(q)}function V(q){return q===61?(t.consume(q),F):Pe(q)?(l=V,de(q)):at(q)?(t.consume(q),V):N(q)}function F(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),s=q,P):Pe(q)?(l=F,de(q)):at(q)?(t.consume(q),F):(t.consume(q),pe)}function P(q){return q===s?(t.consume(q),s=void 0,_e):q===null?n(q):Pe(q)?(l=P,de(q)):(t.consume(q),P)}function pe(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||qn(q)?N(q):(t.consume(q),pe)}function _e(q){return q===47||q===62||qn(q)?N(q):n(q)}function Z(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function de(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),Te}function Te(q){return at(q)?Tt(t,Ue,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Ue(q)}function Ue(q){return t.enter("htmlTextData"),l(q)}}const kv={name:"labelEnd",resolveAll:Q4,resolveTo:W4,tokenize:X4},K4={tokenize:Z4},$4={tokenize:e6},j4={tokenize:t6};function Q4(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&Er(t,0,t.length,n),t}function W4(t,e){let n=t.length,i=0,s,a,l,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",h,e],["enter",d,e]],c=gi(c,t.slice(a+1,a+i+3)),c=gi(c,[["enter",m,e]]),c=gi(c,Pv(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=gi(c,[["exit",m,e],t[l-2],t[l-1],["exit",d,e]]),c=gi(c,t.slice(l+1)),c=gi(c,[["exit",h,e]]),Er(t,a,t.length,c),t}function X4(t,e,n){const i=this;let s=i.events.length,a,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return c;function c(T){return a?a._inactive?_(T):(l=i.parser.defined.includes(al(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),h):n(T)}function h(T){return T===40?t.attempt(K4,m,l?m:_)(T):T===91?t.attempt($4,m,l?d:_)(T):l?m(T):_(T)}function d(T){return t.attempt(j4,m,_)(T)}function m(T){return e(T)}function _(T){return a._balanced=!0,n(T)}}function Z4(t,e,n){return i;function i(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),s}function s(_){return qn(_)?ic(t,a)(_):a(_)}function a(_){return _===41?m(_):SI(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function l(_){return qn(_)?ic(t,h)(_):m(_)}function c(_){return n(_)}function h(_){return _===34||_===39||_===40?AI(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):m(_)}function d(_){return qn(_)?ic(t,m)(_):m(_)}function m(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function e6(t,e,n){const i=this;return s;function s(c){return xI.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(al(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function t6(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const n6={name:"labelStartImage",resolveAll:kv.resolveAll,tokenize:i6};function i6(t,e,n){const i=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const r6={name:"labelStartLink",resolveAll:kv.resolveAll,tokenize:s6};function s6(t,e,n){const i=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}const mg={name:"lineEnding",tokenize:o6};function o6(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Tt(t,e,"linePrefix")}}const Md={name:"thematicBreak",tokenize:a6};function a6(t,e,n){let i=0,s;return a;function a(d){return t.enter("thematicBreak"),l(d)}function l(d){return s=d,c(d)}function c(d){return d===s?(t.enter("thematicBreakSequence"),h(d)):i>=3&&(d===null||Pe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function h(d){return d===s?(t.consume(d),i++,h):(t.exit("thematicBreakSequence"),at(d)?Tt(t,c,"whitespace")(d):c(d))}}const Un={continuation:{tokenize:f6},exit:h6,name:"list",tokenize:c6},l6={partial:!0,tokenize:p6},u6={partial:!0,tokenize:d6};function c6(t,e,n){const i=this,s=i.events[i.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(x){const I=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(I==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:sy(x)){if(i.containerState.type||(i.containerState.type=I,t.enter(I,{_container:!0})),I==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(Md,n,d)(x):d(x);if(!i.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(x)}return n(x)}function h(x){return sy(x)&&++l<10?(t.consume(x),h):(!i.interrupt||l<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),d(x)):n(x)}function d(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,t.check(Uh,i.interrupt?n:m,t.attempt(l6,T,_))}function m(x){return i.containerState.initialBlankLine=!0,a++,T(x)}function _(x){return at(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),T):n(x)}function T(x){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function f6(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Uh,s,a);function s(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Tt(t,e,"listItemIndent",i.containerState.size+1)(c)}function a(c){return i.containerState.furtherBlankLines||!at(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(u6,e,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Tt(t,t.attempt(Un,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function d6(t,e,n){const i=this;return Tt(t,s,"listItemIndent",i.containerState.size+1);function s(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}function h6(t){t.exit(this.containerState.type)}function p6(t,e,n){const i=this;return Tt(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=i.events[i.events.length-1];return!at(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const SA={name:"setextUnderline",resolveTo:m6,tokenize:g6};function m6(t,e){let n=t.length,i,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}function g6(t,e,n){const i=this;let s;return a;function a(d){let m=i.events.length,_;for(;m--;)if(i.events[m][1].type!=="lineEnding"&&i.events[m][1].type!=="linePrefix"&&i.events[m][1].type!=="content"){_=i.events[m][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||_)?(t.enter("setextHeadingLine"),s=d,l(d)):n(d)}function l(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),at(d)?Tt(t,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Pe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const y6={tokenize:v6};function v6(t){const e=this,n=t.attempt(Uh,i,t.attempt(this.parser.constructs.flowInitial,s,Tt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(x4,s)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const _6={resolveAll:wI()},E6=CI("string"),T6=CI("text");function CI(t){return{resolveAll:wI(t==="text"?S6:void 0),tokenize:e};function e(n){const i=this,s=this.parser.constructs[t],a=n.attempt(s,l,c);return l;function l(m){return d(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return d(m)?(n.exit("data"),a(m)):(n.consume(m),h)}function d(m){if(m===null)return!0;const _=s[m];let T=-1;if(_)for(;++T<_.length;){const x=_[T];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function wI(t){return e;function e(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,i):n}}function S6(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],s=e.sliceStream(i);let a=s.length,l=-1,c=0,h;for(;a--;){const d=s[a];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)h=!0,c++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const x6={42:Un,43:Un,45:Un,48:Un,49:Un,50:Un,51:Un,52:Un,53:Un,54:Un,55:Un,56:Un,57:Un,62:vI},A6={91:I4},C6={[-2]:pg,[-1]:pg,32:pg},w6={35:k4,42:Md,45:[SA,Md],60:O4,61:SA,95:Md,96:EA,126:EA},b6={38:EI,92:_I},I6={[-5]:mg,[-4]:mg,[-3]:mg,33:n6,38:EI,42:oy,60:[r4,Y4],91:r6,92:[M4,_I],93:kv,95:oy,96:y4},R6={null:[oy,_6]},N6={null:[42,95]},D6={null:[]},M6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:N6,contentInitial:A6,disable:D6,document:x6,flow:w6,flowInitial:C6,insideSpan:R6,string:b6,text:I6},Symbol.toStringTag,{value:"Module"}));function P6(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],c=[];const h={attempt:M(fe),check:M(j),consume:G,enter:H,exit:re,interrupt:M(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:D,events:[],now:I,parser:t,previous:null,sliceSerialize:T,sliceStream:x,write:_};let m=e.tokenize.call(d,h);return e.resolveAll&&a.push(e),d;function _(V){return l=gi(l,V),O(),l[l.length-1]!==null?[]:(k(e,0),d.events=Pv(a,d.events,d),d.events)}function T(V,F){return L6(x(V),F)}function x(V){return k6(l,V)}function I(){const{_bufferIndex:V,_index:F,line:P,column:pe,offset:_e}=i;return{_bufferIndex:V,_index:F,line:P,column:pe,offset:_e}}function D(V){s[V.line]=V.column,U()}function O(){let V;for(;i._index<l.length;){const F=l[i._index];if(typeof F=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<F.length;)B(F.charCodeAt(i._bufferIndex));else B(F)}}function B(V){m=m(V)}function G(V){Pe(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,U()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=V}function H(V,F){const P=F||{};return P.type=V,P.start=I(),d.events.push(["enter",P,d]),c.push(P),P}function re(V){const F=c.pop();return F.end=I(),d.events.push(["exit",F,d]),F}function fe(V,F){k(V,F.from)}function j(V,F){F.restore()}function M(V,F){return P;function P(pe,_e,Z){let de,Te,Ue,q;return Array.isArray(pe)?se(pe):"tokenize"in pe?se([pe]):Y(pe);function Y(Ce){return ze;function ze(dt){const rt=dt!==null&&Ce[dt],Rn=dt!==null&&Ce.null,Ei=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(Rn)?Rn:Rn?[Rn]:[]];return se(Ei)(dt)}}function se(Ce){return de=Ce,Te=0,Ce.length===0?Z:L(Ce[Te])}function L(Ce){return ze;function ze(dt){return q=N(),Ue=Ce,Ce.partial||(d.currentConstruct=Ce),Ce.name&&d.parser.constructs.disable.null.includes(Ce.name)?Ie():Ce.tokenize.call(F?Object.assign(Object.create(d),F):d,h,ye,Ie)(dt)}}function ye(Ce){return V(Ue,q),_e}function Ie(Ce){return q.restore(),++Te<de.length?L(de[Te]):Z}}}function k(V,F){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&Er(d.events,F,d.events.length-F,V.resolve(d.events.slice(F),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function N(){const V=I(),F=d.previous,P=d.currentConstruct,pe=d.events.length,_e=Array.from(c);return{from:pe,restore:Z};function Z(){i=V,d.previous=F,d.currentConstruct=P,d.events.length=pe,c=_e,U()}}function U(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function k6(t,e){const n=e.start._index,i=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let l;if(n===s)l=[t[n].slice(i,a)];else{if(l=t.slice(n,s),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}function L6(t,e){let n=-1;const i=[];let s;for(;++n<t.length;){const a=t[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,i.push(l)}return i.join("")}function V6(t){const i={constructs:HO([M6,...(t||{}).extensions||[]]),content:s(WO),defined:[],document:s(ZO),flow:s(y6),lazy:{},string:s(E6),text:s(T6)};return i;function s(a){return l;function l(c){return P6(i,a,c)}}}function U6(t){for(;!TI(t););return t}const xA=/[\0\t\n\r]/g;function O6(){let t=1,e="",n=!0,i;return s;function s(a,l,c){const h=[];let d,m,_,T,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(xA.lastIndex=_,d=xA.exec(a),T=d&&d.index!==void 0?d.index:a.length,x=a.charCodeAt(T),!d){e=a.slice(_);break}if(x===10&&_===T&&i)h.push(-3),i=void 0;else switch(i&&(h.push(-5),i=void 0),_<T&&(h.push(a.slice(_,T)),t+=T-_),x){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:i=!0,t=1}_=T+1}return c&&(i&&h.push(-5),e&&h.push(e),h.push(null)),h}}const F6=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function B6(t){return t.replace(F6,q6)}function q6(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return yI(n.slice(a?2:1),a?16:10)}return Mv(n)||t}const bI={}.hasOwnProperty;function z6(t,e,n){return typeof e!="string"&&(n=e,e=void 0),H6(n)(U6(V6(n).document().write(O6()(t,e,!0))))}function H6(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(It),autolinkProtocol:N,autolinkEmail:N,atxHeading:a(is),blockQuote:a(Rn),characterEscape:N,characterReference:N,codeFenced:a(Ei),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Ei,l),codeText:a(ts,l),codeTextData:N,data:N,codeFlowValue:N,definition:a(ns),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(ni),hardBreakEscape:a(Bi),hardBreakTrailing:a(Bi),htmlFlow:a(rs,l),htmlFlowData:N,htmlText:a(rs,l),htmlTextData:N,image:a(uo),label:l,link:a(It),listItem:a(qi),listItemValue:T,listOrdered:a(Dt,_),listUnordered:a(Dt),paragraph:a(Vl),reference:L,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(is),strong:a(sa),thematicBreak:a(Sr)},exit:{atxHeading:h(),atxHeadingSequence:fe,autolink:h(),autolinkEmail:rt,autolinkProtocol:dt,blockQuote:h(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:Ce,characterReference:ze,codeFenced:h(O),codeFencedFence:D,codeFencedFenceInfo:x,codeFencedFenceMeta:I,codeFlowValue:U,codeIndented:h(B),codeText:h(_e),codeTextData:U,data:U,definition:h(),definitionDestinationString:re,definitionLabelString:G,definitionTitleString:H,emphasis:h(),hardBreakEscape:h(F),hardBreakTrailing:h(F),htmlFlow:h(P),htmlFlowData:U,htmlText:h(pe),htmlTextData:U,image:h(de),label:Ue,labelText:Te,lineEnding:V,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ye,resourceDestinationString:q,resourceTitleString:Y,resource:se,setextHeading:h(k),setextHeadingLineSequence:M,setextHeadingText:j,strong:h(),thematicBreak:h()}};II(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(oe){let me={type:"root",children:[]};const Re={stack:[me],tokenStack:[],config:e,enter:c,exit:d,buffer:l,resume:m,data:n},He=[];let et=-1;for(;++et<oe.length;)if(oe[et][1].type==="listOrdered"||oe[et][1].type==="listUnordered")if(oe[et][0]==="enter")He.push(et);else{const vn=He.pop();et=s(oe,vn,et)}for(et=-1;++et<oe.length;){const vn=e[oe[et][0]];bI.call(vn,oe[et][1].type)&&vn[oe[et][1].type].call(Object.assign({sliceSerialize:oe[et][2].sliceSerialize},Re),oe[et][1])}if(Re.tokenStack.length>0){const vn=Re.tokenStack[Re.tokenStack.length-1];(vn[1]||AA).call(Re,void 0,vn[0])}for(me.position={start:Us(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:Us(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<e.transforms.length;)me=e.transforms[et](me)||me;return me}function s(oe,me,Re){let He=me-1,et=-1,vn=!1,ii,kt,Rt,rn;for(;++He<=Re;){const We=oe[He];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?et++:et--,rn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(ii&&!rn&&!et&&!Rt&&(Rt=He),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!et&&We[0]==="enter"&&We[1].type==="listItemPrefix"||et===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(ii){let Ti=He;for(kt=void 0;Ti--;){const _n=oe[Ti];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;kt&&(oe[kt][1].type="lineEndingBlank",vn=!0),_n[1].type="lineEnding",kt=Ti}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}Rt&&(!kt||Rt<kt)&&(ii._spread=!0),ii.end=Object.assign({},kt?oe[kt][1].start:We[1].end),oe.splice(kt||He,0,["exit",ii,We[2]]),He++,Re++}if(We[1].type==="listItemPrefix"){const Ti={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};ii=Ti,oe.splice(He,0,["enter",Ti,We[2]]),He++,Re++,Rt=void 0,rn=!0}}}return oe[me][1]._spread=vn,Re}function a(oe,me){return Re;function Re(He){c.call(this,oe(He),He),me&&me.call(this,He)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(oe,me,Re){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([me,Re||void 0]),oe.position={start:Us(me.start),end:void 0}}function h(oe){return me;function me(Re){oe&&oe.call(this,Re),d.call(this,Re)}}function d(oe,me){const Re=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==oe.type&&(me?me.call(this,oe,He[0]):(He[1]||AA).call(this,oe,He[0]));else throw new Error("Cannot close `"+oe.type+"` ("+nc({start:oe.start,end:oe.end})+"): it’s not open");Re.position.end=Us(oe.end)}function m(){return qO(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function T(oe){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function x(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.lang=oe}function I(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.meta=oe}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function B(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe.replace(/(\r?\n|\r)$/g,"")}function G(oe){const me=this.resume(),Re=this.stack[this.stack.length-1];Re.label=me,Re.identifier=al(this.sliceSerialize(oe)).toLowerCase()}function H(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.title=oe}function re(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.url=oe}function fe(oe){const me=this.stack[this.stack.length-1];if(!me.depth){const Re=this.sliceSerialize(oe).length;me.depth=Re}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(oe){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function N(oe){const Re=this.stack[this.stack.length-1].children;let He=Re[Re.length-1];(!He||He.type!=="text")&&(He=un(),He.position={start:Us(oe.start),end:void 0},Re.push(He)),this.stack.push(He)}function U(oe){const me=this.stack.pop();me.value+=this.sliceSerialize(oe),me.position.end=Us(oe.end)}function V(oe){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=me.children[me.children.length-1];Re.position.end=Us(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(me.type)&&(N.call(this,oe),U.call(this,oe))}function F(){this.data.atHardBreak=!0}function P(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe}function pe(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe}function _e(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe}function Z(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=me,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function de(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=me,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function Te(oe){const me=this.sliceSerialize(oe),Re=this.stack[this.stack.length-2];Re.label=B6(me),Re.identifier=al(me).toLowerCase()}function Ue(){const oe=this.stack[this.stack.length-1],me=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const He=oe.children;Re.children=He}else Re.alt=me}function q(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.url=oe}function Y(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.title=oe}function se(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ye(oe){const me=this.resume(),Re=this.stack[this.stack.length-1];Re.label=me,Re.identifier=al(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function Ie(oe){this.data.characterReferenceType=oe.type}function Ce(oe){const me=this.sliceSerialize(oe),Re=this.data.characterReferenceType;let He;Re?(He=yI(me,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=Mv(me);const et=this.stack[this.stack.length-1];et.value+=He}function ze(oe){const me=this.stack.pop();me.position.end=Us(oe.end)}function dt(oe){U.call(this,oe);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(oe)}function rt(oe){U.call(this,oe);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(oe)}function Rn(){return{type:"blockquote",children:[]}}function Ei(){return{type:"code",lang:null,meta:null,value:""}}function ts(){return{type:"inlineCode",value:""}}function ns(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ni(){return{type:"emphasis",children:[]}}function is(){return{type:"heading",depth:0,children:[]}}function Bi(){return{type:"break"}}function rs(){return{type:"html",value:""}}function uo(){return{type:"image",title:null,url:"",alt:null}}function It(){return{type:"link",title:null,url:"",children:[]}}function Dt(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function qi(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function Vl(){return{type:"paragraph",children:[]}}function sa(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function Sr(){return{type:"thematicBreak"}}}function Us(t){return{line:t.line,column:t.column,offset:t.offset}}function II(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?II(t,i):G6(t,i)}}function G6(t,e){let n;for(n in e)if(bI.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function AA(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+nc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+nc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+nc({start:e.start,end:e.end})+") is still open")}function Y6(t){const e=this;e.parser=n;function n(i){return z6(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function J6(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function K6(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function $6(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function j6(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Q6(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function W6(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=Ml(i.toLowerCase()),a=t.footnoteOrder.indexOf(i);let l,c=t.footnoteCounts.get(i);c===void 0?(c=0,t.footnoteOrder.push(i),l=t.footnoteOrder.length):l=a+1,c+=1,t.footnoteCounts.set(i,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,d),t.applyData(e,d)}function X6(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Z6(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function RI(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=i:s.push({type:"text",value:i}),s}function e3(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return RI(t,e);const s={src:Ml(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function t3(t,e){const n={src:Ml(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function n3(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function i3(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return RI(t,e);const s={href:Ml(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function r3(t,e){const n={href:Ml(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function s3(t,e,n){const i=t.all(e),s=n?o3(n):NI(e),a={},l=[];if(typeof e.checked=="boolean"){const m=i[0];let _;m&&m.type==="element"&&m.tagName==="p"?_=m:(_={type:"element",tagName:"p",properties:{},children:[]},i.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const m=i[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?l.push(...m.children):l.push(m)}const h=i[i.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:l};return t.patch(e,d),t.applyData(e,d)}function o3(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=NI(n[i])}return e}function NI(t){const e=t.spread;return e??t.children.length>1}function a3(t,e){const n={},i=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<i.length;){const l=i[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function l3(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function u3(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function c3(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function f3(t,e){const n=t.all(e),i=n.shift(),s=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=Iv(e.children[1]),h=cI(e.children[e.children.length-1]);c&&h&&(l.position={start:c,end:h}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function d3(t,e,n){const i=n?n.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let h=-1;const d=[];for(;++h<c;){const _=e.children[h],T={},x=l?l[h]:void 0;x&&(T.align=x);let I={type:"element",tagName:a,properties:T,children:[]};_&&(I.children=t.all(_),t.patch(_,I),I=t.applyData(_,I)),d.push(I)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function h3(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const CA=9,wA=32;function p3(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),s=0;const a=[];for(;i;)a.push(bA(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(e);return a.push(bA(e.slice(s),s>0,!1)),a.join("")}function bA(t,e,n){let i=0,s=t.length;if(e){let a=t.codePointAt(i);for(;a===CA||a===wA;)i++,a=t.codePointAt(i)}if(n){let a=t.codePointAt(s-1);for(;a===CA||a===wA;)s--,a=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function m3(t,e){const n={type:"text",value:p3(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function g3(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const y3={blockquote:J6,break:K6,code:$6,delete:j6,emphasis:Q6,footnoteReference:W6,heading:X6,html:Z6,imageReference:e3,image:t3,inlineCode:n3,linkReference:i3,link:r3,listItem:s3,list:a3,paragraph:l3,root:u3,strong:c3,table:f3,tableCell:h3,tableRow:d3,text:m3,thematicBreak:g3,toml:gd,yaml:gd,definition:gd,footnoteDefinition:gd};function gd(){}const DI=-1,Oh=0,rc=1,nh=2,Lv=3,Vv=4,Uv=5,Ov=6,MI=7,PI=8,IA=typeof self=="object"?self:globalThis,v3=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),i=s=>{if(t.has(s))return t.get(s);const[a,l]=e[s];switch(a){case Oh:case DI:return n(l,s);case rc:{const c=n([],s);for(const h of l)c.push(i(h));return c}case nh:{const c=n({},s);for(const[h,d]of l)c[i(h)]=i(d);return c}case Lv:return n(new Date(l),s);case Vv:{const{source:c,flags:h}=l;return n(new RegExp(c,h),s)}case Uv:{const c=n(new Map,s);for(const[h,d]of l)c.set(i(h),i(d));return c}case Ov:{const c=n(new Set,s);for(const h of l)c.add(i(h));return c}case MI:{const{name:c,message:h}=l;return n(new IA[c](h),s)}case PI:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new IA[a](l),s)};return i},RA=t=>v3(new Map,t)(0),$a="",{toString:_3}={},{keys:E3}=Object,zu=t=>{const e=typeof t;if(e!=="object"||!t)return[Oh,e];const n=_3.call(t).slice(8,-1);switch(n){case"Array":return[rc,$a];case"Object":return[nh,$a];case"Date":return[Lv,$a];case"RegExp":return[Vv,$a];case"Map":return[Uv,$a];case"Set":return[Ov,$a];case"DataView":return[rc,n]}return n.includes("Array")?[rc,n]:n.includes("Error")?[MI,n]:[nh,n]},yd=([t,e])=>t===Oh&&(e==="function"||e==="symbol"),T3=(t,e,n,i)=>{const s=(l,c)=>{const h=i.push(l)-1;return n.set(c,h),h},a=l=>{if(n.has(l))return n.get(l);let[c,h]=zu(l);switch(c){case Oh:{let m=l;switch(h){case"bigint":c=PI,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return s([DI],l)}return s([c,m],l)}case rc:{if(h){let T=l;return h==="DataView"?T=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(T=new Uint8Array(l)),s([h,[...T]],l)}const m=[],_=s([c,m],l);for(const T of l)m.push(a(T));return _}case nh:{if(h)switch(h){case"BigInt":return s([h,l.toString()],l);case"Boolean":case"Number":case"String":return s([h,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const m=[],_=s([c,m],l);for(const T of E3(l))(t||!yd(zu(l[T])))&&m.push([a(T),a(l[T])]);return _}case Lv:return s([c,l.toISOString()],l);case Vv:{const{source:m,flags:_}=l;return s([c,{source:m,flags:_}],l)}case Uv:{const m=[],_=s([c,m],l);for(const[T,x]of l)(t||!(yd(zu(T))||yd(zu(x))))&&m.push([a(T),a(x)]);return _}case Ov:{const m=[],_=s([c,m],l);for(const T of l)(t||!yd(zu(T)))&&m.push(a(T));return _}}const{message:d}=l;return s([c,{name:h,message:d}],l)};return a},NA=(t,{json:e,lossy:n}={})=>{const i=[];return T3(!(e||n),!!e,new Map,i)(t),i},ih=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?RA(NA(t,e)):structuredClone(t):(t,e)=>RA(NA(t,e));function S3(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function x3(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function A3(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||S3,i=t.options.footnoteBackLabel||x3,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[h]);if(!d)continue;const m=t.all(d),_=String(d.identifier).toUpperCase(),T=Ml(_.toLowerCase());let x=0;const I=[],D=t.footnoteCounts.get(_);for(;D!==void 0&&++x<=D;){I.length>0&&I.push({type:"text",value:" "});let G=typeof n=="string"?n:n(h,x);typeof G=="string"&&(G={type:"text",value:G}),I.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(h,x),className:["data-footnote-backref"]},children:Array.isArray(G)?G:[G]})}const O=m[m.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const G=O.children[O.children.length-1];G&&G.type==="text"?G.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...I)}else m.push(...I);const B={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(m,!0)};t.patch(d,B),c.push(B)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ih(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const kI=(function(t){if(t==null)return I3;if(typeof t=="function")return Fh(t);if(typeof t=="object")return Array.isArray(t)?C3(t):w3(t);if(typeof t=="string")return b3(t);throw new Error("Expected function, string, or object as test")});function C3(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=kI(t[n]);return Fh(i);function i(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function w3(t){const e=t;return Fh(n);function n(i){const s=i;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function b3(t){return Fh(e);function e(n){return n&&n.type===t}}function Fh(t){return e;function e(n,i,s){return!!(R3(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function I3(){return!0}function R3(t){return t!==null&&typeof t=="object"&&"type"in t}const LI=[],N3=!0,DA=!1,D3="skip";function M3(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;const a=kI(s),l=i?-1:1;c(t,void 0,[])();function c(h,d,m){const _=h&&typeof h=="object"?h:{};if(typeof _.type=="string"){const x=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(h.type+(x?"<"+x+">":""))+")"})}return T;function T(){let x=LI,I,D,O;if((!e||a(h,d,m[m.length-1]||void 0))&&(x=P3(n(h,m)),x[0]===DA))return x;if("children"in h&&h.children){const B=h;if(B.children&&x[0]!==D3)for(D=(i?B.children.length:-1)+l,O=m.concat(B);D>-1&&D<B.children.length;){const G=B.children[D];if(I=c(G,D,O)(),I[0]===DA)return I;D=typeof I[1]=="number"?I[1]:D+l}}return x}}}function P3(t){return Array.isArray(t)?t:typeof t=="number"?[N3,t]:t==null?LI:[t]}function VI(t,e,n,i){let s,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=i),M3(t,a,c,s);function c(h,d){const m=d[d.length-1],_=m?m.children.indexOf(h):void 0;return l(h,_,m)}}const ay={}.hasOwnProperty,k3={};function L3(t,e){const n=e||k3,i=new Map,s=new Map,a=new Map,l={...y3,...n.handlers},c={all:d,applyData:U3,definitionById:i,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:h,options:n,patch:V3,wrap:F3};return VI(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const _=m.type==="definition"?i:s,T=String(m.identifier).toUpperCase();_.has(T)||_.set(T,m)}}),c;function h(m,_){const T=m.type,x=c.handlers[T];if(ay.call(c.handlers,T)&&x)return x(c,m,_);if(c.options.passThrough&&c.options.passThrough.includes(T)){if("children"in m){const{children:D,...O}=m,B=ih(O);return B.children=c.all(m),B}return ih(m)}return(c.options.unknownHandler||O3)(c,m,_)}function d(m){const _=[];if("children"in m){const T=m.children;let x=-1;for(;++x<T.length;){const I=c.one(T[x],m);if(I){if(x&&T[x-1].type==="break"&&(!Array.isArray(I)&&I.type==="text"&&(I.value=MA(I.value)),!Array.isArray(I)&&I.type==="element")){const D=I.children[0];D&&D.type==="text"&&(D.value=MA(D.value))}Array.isArray(I)?_.push(...I):_.push(I)}}}return _}}function V3(t,e){t.position&&(e.position=_O(t))}function U3(t,e){let n=e;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,ih(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function O3(t,e){const n=e.data||{},i="value"in e&&!(ay.call(n,"hProperties")||ay.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function F3(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function MA(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function PA(t,e){const n=L3(t,e),i=n.one(t,void 0),s=A3(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function B3(t,e){return t&&"run"in t?async function(n,i){const s=PA(n,{file:i,...e});await t.run(s,i)}:function(n,i){return PA(n,{file:i,...t||e})}}function kA(t){if(t)throw t}var gg,LA;function q3(){if(LA)return gg;LA=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),_=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!_)return!1;var T;for(T in d);return typeof T>"u"||t.call(d,T)},l=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(i)return i(d,m).value}else return;return d[m]};return gg=function h(){var d,m,_,T,x,I,D=arguments[0],O=1,B=arguments.length,G=!1;for(typeof D=="boolean"&&(G=D,D=arguments[1]||{},O=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});O<B;++O)if(d=arguments[O],d!=null)for(m in d)_=c(D,m),T=c(d,m),D!==T&&(G&&T&&(a(T)||(x=s(T)))?(x?(x=!1,I=_&&s(_)?_:[]):I=_&&a(_)?_:{},l(D,{name:m,newValue:h(G,I,T)})):typeof T<"u"&&l(D,{name:m,newValue:T}));return D},gg}var z3=q3();const yg=ah(z3);function ly(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function H3(){const t=[],e={run:n,use:i};return e;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(h,...d){const m=t[++a];let _=-1;if(h){l(h);return}for(;++_<s.length;)(d[_]===null||d[_]===void 0)&&(d[_]=s[_]);s=d,m?G3(m,c)(...d):l(null,...d)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function G3(t,e){let n;return i;function i(...l){const c=t.length>l.length;let h;c&&l.push(s);try{h=t.apply(this,l)}catch(d){const m=d;if(c&&n)throw m;return s(m)}c||(h&&h.then&&typeof h.then=="function"?h.then(a,s):h instanceof Error?s(h):a(h))}function s(l,...c){n||(n=!0,e(l,...c))}function a(l){s(null,l)}}const ur={basename:Y3,dirname:J3,extname:K3,join:$3,sep:"/"};function Y3(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Vc(t);let n=0,i=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else i<0&&(a=!0,i=s+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let l=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(i=s):(c=-1,i=l));return n===i?i=l:i<0&&(i=t.length),t.slice(n,i)}function J3(t){if(Vc(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function K3(t){Vc(t);let e=t.length,n=-1,i=0,s=-1,a=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===i+1?"":t.slice(s,n)}function $3(...t){let e=-1,n;for(;++e<t.length;)Vc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":j3(n)}function j3(t){Vc(t);const e=t.codePointAt(0)===47;let n=Q3(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Q3(t,e){let n="",i=0,s=-1,a=0,l=-1,c,h;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",i=0):(n=n.slice(0,h),i=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",i=0,s=l,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(s+1,l):n=t.slice(s+1,l),i=l-s-1;s=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function Vc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const W3={cwd:X3};function X3(){return"/"}function uy(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Z3(t){if(typeof t=="string")t=new URL(t);else if(!uy(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return eF(t)}function eF(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const vg=["history","path","basename","stem","extname","dirname"];class UI{constructor(e){let n;e?uy(e)?n={path:e}:typeof e=="string"||tF(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":W3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<vg.length;){const a=vg[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)vg.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ur.basename(this.path):void 0}set basename(e){Eg(e,"basename"),_g(e,"basename"),this.path=ur.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ur.dirname(this.path):void 0}set dirname(e){VA(this.basename,"dirname"),this.path=ur.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ur.extname(this.path):void 0}set extname(e){if(_g(e,"extname"),VA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ur.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){uy(e)&&(e=Z3(e)),Eg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ur.basename(this.path,this.extname):void 0}set stem(e){Eg(e,"stem"),_g(e,"stem"),this.path=ur.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){const s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){const s=new wn(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function _g(t,e){if(t&&t.includes(ur.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ur.sep+"`")}function Eg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function VA(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tF(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nF=(function(t){const i=this.constructor.prototype,s=i[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),iF={}.hasOwnProperty;class Fv extends nF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=H3()}copy(){const e=new Fv;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(yg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(xg("data",this.frozen),this.namespace[e]=n,this):iF.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=vd(e),i=this.parser||this.Parser;return Tg("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Tg("process",this.parser||this.Parser),Sg("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const c=vd(e),h=i.parse(c);i.run(h,c,function(m,_,T){if(m||!_||!T)return d(m);const x=_,I=i.stringify(x,T);oF(I)?T.value=I:T.result=I,d(m,T)});function d(m,_){m||!_?l(m):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,i;return this.freeze(),Tg("processSync",this.parser||this.Parser),Sg("processSync",this.compiler||this.Compiler),this.process(e,s),OA("processSync","process",n),i;function s(a,l){n=!0,kA(a),i=l}}run(e,n,i){UA(e),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){const h=vd(n);s.run(e,h,d);function d(m,_,T){const x=_||e;m?c(m):l?l(x):i(void 0,x,T)}}}runSync(e,n){let i=!1,s;return this.run(e,n,a),OA("runSync","run",i),s;function a(l,c){kA(l),s=c,i=!0}}stringify(e,n){this.freeze();const i=vd(n),s=this.compiler||this.Compiler;return Sg("stringify",s),UA(e),s(e,i)}use(e,...n){const i=this.attachers,s=this.namespace;if(xg("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,..._]=d;h(m,_)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=yg(!0,s.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const _=d[m];a(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,m){let _=-1,T=-1;for(;++_<i.length;)if(i[_][0]===d){T=_;break}if(T===-1)i.push([d,...m]);else if(m.length>0){let[x,...I]=m;const D=i[T][1];ly(D)&&ly(x)&&(x=yg(!0,D,x)),i[T]=[d,x,...I]}}}}const rF=new Fv().freeze();function Tg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Sg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function xg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UA(t){if(!ly(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function OA(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function vd(t){return sF(t)?t:new UI(t)}function sF(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function oF(t){return typeof t=="string"||aF(t)}function aF(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",FA=[],BA={allowDangerousHtml:!0},uF=/^(https?|ircs?|mailto|xmpp)$/i,cF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fF(t){const e=dF(t),n=hF(t);return pF(e.runSync(e.parse(n),n),t)}function dF(t){const e=t.rehypePlugins||FA,n=t.remarkPlugins||FA,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...BA}:BA;return rF().use(Y6).use(n).use(B3,i).use(e)}function hF(t){const e=t.children||"",n=new UI;return typeof e=="string"&&(n.value=e),n}function pF(t,e){const n=e.allowedElements,i=e.allowElement,s=e.components,a=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,h=e.urlTransform||mF;for(const m of cF)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+lF+m.id,void 0);return VI(t,d),AO(t,{Fragment:S.Fragment,components:s,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function d(m,_,T){if(m.type==="raw"&&T&&typeof _=="number")return l?T.children.splice(_,1):T.children[_]={type:"text",value:m.value},_;if(m.type==="element"){let x;for(x in hg)if(Object.hasOwn(hg,x)&&Object.hasOwn(m.properties,x)){const I=m.properties[x],D=hg[x];(D===null||D.includes(m.tagName))&&(m.properties[x]=h(String(I||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&i&&typeof _=="number"&&(x=!i(m,_,T)),x&&T&&typeof _=="number")return c&&m.children?T.children.splice(_,1,...m.children):T.children.splice(_,1),_}}}function mF(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||i!==-1&&e>i||uF.test(t.slice(0,e))?t:""}const OI=t=>bc(Zr,"blogPosts",t,"comments"),gF=async t=>{const e=OI(t),n=ta(e,Rh("date","desc"));return(await so(n)).docs.map(s=>{const a=s.data();return{id:s.id,...a,date:a.date.toDate().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}})},yF=async(t,e)=>{const n=OI(t),i={...e,postId:t,date:vt.now()};return{id:(await Nc(n,i)).id,...e,postId:t,date:i.date.toDate().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}},vF=async(t,e)=>{const n=zn(Zr,"blogPosts",t,"comments",e);await Nh(n)},_F=({postId:t})=>{const[e,n]=$.useState([]),[i,s]=$.useState({author:"",content:""}),[a,l]=$.useState(!0),{isAuthenticated:c}=kc(),h=async()=>{try{const T=await gF(t);n(T)}catch(T){console.error("Failed to fetch comments:",T)}finally{l(!1)}};$.useEffect(()=>{h()},[t]);const d=T=>{const{name:x,value:I}=T.target;s(D=>({...D,[x]:I}))},m=async T=>{if(T.preventDefault(),!i.author||!i.content){alert("Please fill in both your name and comment.");return}await yF(t,i),s({author:"",content:""}),h()},_=async T=>{window.confirm("Are you sure you want to delete this comment?")&&(await vF(t,T),h())};return S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-6",children:"Leave a Comment"}),S.jsxs("form",{onSubmit:m,className:"bg-[var(--bg-primary)] p-6 rounded-lg border border-[var(--border-color)] space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Your Name"}),S.jsx("input",{type:"text",id:"author",name:"author",value:i.author,onChange:d,className:"w-full px-4 py-2 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Your Comment"}),S.jsx("textarea",{id:"content",name:"content",value:i.content,onChange:d,rows:4,className:"w-full px-4 py-2 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",required:!0})]}),S.jsx("button",{type:"submit",className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-5 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors",children:"Submit Comment"})]})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-6",children:a?"Loading...":`${e.length} Comment(s)`}),S.jsx("div",{className:"space-y-6",children:e.length>0?e.map(T=>S.jsxs("div",{className:"bg-[var(--bg-primary)] p-5 rounded-lg border border-[var(--border-color)]",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-[var(--text-primary)]",children:T.author}),S.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:T.date})]}),c&&S.jsx("button",{onClick:()=>_(T.id),className:"text-xs text-red-500 hover:text-red-700 font-semibold",children:"Delete"})]}),S.jsx("p",{className:"mt-3 text-[var(--text-secondary)]",children:T.content})]},T.id)):!a&&S.jsx("p",{className:"text-[var(--text-secondary)]",children:"Be the first to comment on this post."})})]})]})},EF=()=>{const[t,e]=$.useState(null),[n,i]=$.useState(!0),{id:s}=uh();return $.useEffect(()=>{(async()=>{if(s)try{const l=await eI(s);e(l||null)}catch(l){console.error("Failed to fetch post:",l),e(null)}i(!1)})()},[s]),n?S.jsx("div",{className:"text-center py-20 text-[var(--text-primary)]",children:"Loading post..."}):!t||!s?S.jsxs("div",{className:"text-center py-20 text-[var(--text-primary)]",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Post not found"}),S.jsx(tn,{to:"/blog",className:"text-[var(--accent-primary)] hover:underline",children:"Back to Blog"})]}):S.jsx("div",{className:"bg-[var(--bg-backdrop)] py-12 sm:py-16",children:S.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-2xl shadow-xl overflow-hidden",children:[S.jsxs("div",{className:"p-6 md:p-10",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-[var(--text-primary)] tracking-tight",children:t.title}),S.jsxs("p",{className:"mt-4 text-lg text-[var(--text-secondary)]",children:["By ",t.author," on ",t.date]})]}),S.jsx("article",{className:"prose lg:prose-xl max-w-none text-[var(--text-primary)] prose-headings:text-[var(--text-primary)] prose-strong:text-[var(--text-primary)] prose-a:text-[var(--accent-primary)]",children:S.jsx(fF,{children:t.content})}),S.jsx("div",{className:"mt-12 text-center",children:S.jsx(tn,{to:"/blog",className:"inline-block bg-[var(--accent-primary)] text-white font-bold py-3 px-6 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors",children:"← Back to All Posts"})})]}),S.jsx("div",{className:"bg-[var(--bg-secondary)] p-6 md:p-10 border-t border-[var(--border-color)]",children:S.jsx(_F,{postId:s})})]})})})},TF=()=>{var x,I;const[t,e]=$.useState(""),[n,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(!1),{login:h}=kc(),d=Tl(),_=((I=(x=Tr().state)==null?void 0:x.from)==null?void 0:I.pathname)||"/admin",T=async D=>{D.preventDefault(),c(!0),a("");try{await h(t,n),d(_,{replace:!0})}catch(O){O.code==="auth/user-not-found"||O.code==="auth/wrong-password"||O.code==="auth/invalid-credential"?a("Invalid email or password. Please try again."):a("An unexpected error occurred. Please try again later."),console.error(O)}finally{c(!1)}};return S.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] bg-[var(--bg-backdrop)] p-4",children:S.jsxs("div",{className:"w-full max-w-md bg-[var(--bg-primary)] rounded-2xl shadow-2xl p-8 border border-[var(--border-color)]",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-[var(--accent-primary)] mb-2",children:"Admin Login"}),S.jsx("p",{className:"text-center text-[var(--text-secondary)] mb-8",children:"Access the NAFORD content dashboard."}),S.jsxs("form",{onSubmit:T,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Email"}),S.jsx("input",{type:"email",id:"email",value:t,onChange:D=>e(D.target.value),className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",placeholder:"admin@example.com",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Password"}),S.jsx("input",{type:"password",id:"password",value:n,onChange:D=>i(D.target.value),className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",placeholder:"Enter your password",required:!0})]}),s&&S.jsx("p",{className:"text-red-500 text-sm text-center",children:s}),S.jsxs("button",{type:"submit",disabled:l,className:"w-full bg-[var(--accent-primary)] text-white font-bold py-3 px-4 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:[l&&S.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l?"Signing In...":"Sign In"]})]})]})})},SF=({children:t})=>{const{isAuthenticated:e}=kc();return e?S.jsx(S.Fragment,{children:t}):S.jsx(q1,{to:"/login",replace:!0})},xF=()=>{const{isAuthenticated:t,logout:e}=kc(),[n,i]=$.useState(localStorage.getItem("theme")||"light"),[s,a]=$.useState(!1),[l,c]=$.useState(!1);$.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]),$.useEffect(()=>{const I=()=>{c(window.scrollY>50)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const h=()=>{i(I=>I==="dark"?"light":"dark")},d=()=>{a(!s)},m=()=>{s&&a(!1)},_="text-[var(--text-primary)] font-semibold transition-colors duration-300 relative py-1 after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-[var(--accent-primary)] after:transition-all after:duration-300 hover:text-[var(--accent-primary)] hover:after:w-full",T="text-xl text-[var(--text-primary)] font-semibold",x=[{path:"/#home",name:"Home"},{path:"/#about-us",name:"About Us"},{path:"/#team",name:"Team"},{path:"/gallery",name:"Gallery"},{path:"/blog",name:"Blog"},{path:"/#register",name:"Register"}];return S.jsxs(S.Fragment,{children:[S.jsx("header",{className:`sticky top-0 z-50 py-3 transition-all duration-300 ${l?"border-b border-[var(--border-color)] shadow-sm bg-[var(--header-bg)] backdrop-blur-lg":"border-b border-transparent"}`,children:S.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto px-5",children:[S.jsxs(tn,{to:"/",className:"flex items-center gap-3 text-decoration-none",children:[S.jsx("img",{src:"https://naford.netlify.app/naford_logo.jpg",alt:"NAFORD Logo",className:"h-12 w-12 rounded-full object-cover border-2 border-[var(--border-color)] transition-transform duration-500 hover:rotate-360"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold text-[var(--accent-primary)] leading-tight",children:"NAFORD"}),S.jsx("div",{className:"text-sm font-semibold text-[var(--text-secondary)] leading-tight",children:"AIIMS & INIs"})]})]}),S.jsxs("div",{className:"flex items-center gap-5",children:[S.jsx("nav",{className:"hidden lg:block",children:S.jsxs("ul",{className:"flex list-none gap-6 items-center",children:[x.map(I=>S.jsx("li",{children:S.jsx(tn,{to:I.path,onClick:m,className:_,children:I.name})},I.name)),t?S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(zr,{to:"/admin",className:_,children:"Admin"})}),S.jsx("li",{children:S.jsx("button",{onClick:e,className:`${_} !text-red-500`,children:"Logout"})})]}):S.jsx("li",{children:S.jsx(tn,{to:"/login",className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors text-sm",children:"Login"})})]})}),S.jsx("button",{onClick:h,"aria-label":"Toggle dark mode",className:"bg-none border-none text-[var(--text-secondary)] text-2xl cursor-pointer transition-colors duration-300 hover:text-[var(--accent-primary)]",children:S.jsx("i",{className:`fa-solid ${n==="dark"?"fa-sun":"fa-moon"}`})}),S.jsx("button",{className:"lg:hidden text-2xl text-[var(--text-primary)] z-[1001]",onClick:d,children:S.jsx("i",{className:`fa-solid ${s?"fa-xmark":"fa-bars"}`})})]})]})}),S.jsx("div",{className:`fixed top-0 left-0 w-full h-full bg-black/50 z-[998] transition-opacity duration-300 lg:hidden ${s?"opacity-100 visible":"opacity-0 invisible"}`,onClick:d}),S.jsx("div",{className:`fixed top-0 right-0 h-full w-4/5 max-w-xs bg-[var(--bg-primary)] shadow-lg z-[999] transform transition-transform duration-300 ease-in-out lg:hidden ${s?"translate-x-0":"translate-x-full"}`,children:S.jsxs("ul",{className:"flex flex-col items-center justify-center h-full gap-8",children:[x.map(I=>S.jsx("li",{children:S.jsx(tn,{to:I.path,onClick:d,className:T,children:I.name})},I.name)),t?S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(zr,{to:"/admin",onClick:d,className:T,children:"Admin"})}),S.jsx("li",{children:S.jsx("button",{onClick:()=>{e(),d()},className:"text-xl text-red-500 font-semibold",children:"Logout"})})]}):S.jsx("li",{children:S.jsx(tn,{to:"/login",onClick:d,className:"bg-[var(--accent-primary)] text-white font-bold py-3 px-6 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors text-lg",children:"Login"})})]})})]})},AF=()=>S.jsx("footer",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] py-12 border-t border-[var(--border-color)]",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-5",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mb-10 text-center md:text-left",children:[S.jsxs("div",{className:"footer-col",children:[S.jsx("h4",{className:"font-bold text-lg mb-4 text-[var(--text-primary)]",children:"About NAFORD"}),S.jsx("p",{children:"The National Federation of Resident Doctors for AIIMS and INIs is the premier voice for resident doctors, advocating for excellence in medical education and healthcare delivery."})]}),S.jsxs("div",{className:"footer-col",children:[S.jsx("h4",{className:"font-bold text-lg mb-4 text-[var(--text-primary)]",children:"Contact Persons"}),S.jsxs("p",{children:["Dr. Devesh Dubey (President)",S.jsx("br",{}),S.jsx("a",{href:"tel:+918588028459",className:"hover:text-[var(--accent-primary)] transition-colors",children:"8588028459"})]}),S.jsxs("p",{children:["Dr. Raghunandan Dixit",S.jsx("br",{}),S.jsx("a",{href:"tel:+919650941820",className:"hover:text-[var(--accent-primary)] transition-colors",children:"9650941820"})]}),S.jsxs("p",{children:["Dr. Piyush Bharti",S.jsx("br",{}),S.jsx("a",{href:"tel:+918989123311",className:"hover:text-[var(--accent-primary)] transition-colors",children:"8989123311"})]})]}),S.jsxs("div",{className:"footer-col",children:[S.jsx("h4",{className:"font-bold text-lg mb-4 text-[var(--text-primary)]",children:"Follow Us"}),S.jsx("p",{children:S.jsx("a",{href:"mailto:nafordaiims@gmail.com",className:"hover:text-[var(--accent-primary)] transition-colors",children:"nafordaiims@gmail.com"})}),S.jsxs("div",{className:"flex justify-center md:justify-start gap-4 mt-4 text-xl",children:[S.jsx("a",{href:"https://www.instagram.com/nafordaiims/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"hover:text-[var(--accent-primary)] transition-transform hover:-translate-y-1",children:S.jsx("i",{className:"fab fa-instagram"})}),S.jsx("a",{href:"https://x.com/NAFORDAIIMS",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"hover:text-[var(--accent-primary)] transition-transform hover:-translate-y-1",children:S.jsx("i",{className:"fab fa-twitter"})})]})]})]}),S.jsxs("div",{className:"footer-bottom text-center border-t border-[var(--border-color)] pt-8 text-sm",children:[S.jsxs("p",{children:["© ",new Date().getFullYear()," NAFORD. All Rights Reserved."]}),S.jsxs("div",{className:"footer-links mt-2",children:[S.jsx("a",{href:"/#/privacy",className:"hover:text-[var(--accent-primary)] transition-colors",children:"Privacy Policy"})," | ",S.jsx("a",{href:"/#/terms",className:"hover:text-[var(--accent-primary)] transition-colors",children:"Terms of Service"})]})]})]})}),_d=({title:t,count:e,link:n,icon:i})=>S.jsx(tn,{to:n,className:"block p-6 bg-[var(--bg-primary)] rounded-xl border border-[var(--border-color)] shadow-md hover:shadow-xl hover:-translate-y-1 transition-all",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-[var(--text-secondary)]",children:t}),S.jsx("p",{className:"text-3xl font-bold text-[var(--text-primary)]",children:e})]}),S.jsx("div",{className:"text-4xl text-[var(--accent-primary)]",children:S.jsx("i",{className:`fa-solid ${i}`})})]})}),CF=()=>{const[t,e]=$.useState({posts:0,team:0,events:0,registrations:0}),[n,i]=$.useState(!0);return $.useEffect(()=>{(async()=>{try{const[a,l,c,h]=await Promise.all([Vh(),Av(),Cv(),nI()]);e({posts:a.length,team:l.length,events:c.length,registrations:h.length})}catch(a){console.error("Failed to fetch stats:",a)}finally{i(!1)}})()},[]),S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)] mb-8",children:"Admin Dashboard"}),n?S.jsx("p",{children:"Loading stats..."}):S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsx(_d,{title:"Blog Posts",count:t.posts,link:"/admin/posts",icon:"fa-newspaper"}),S.jsx(_d,{title:"Team Members",count:t.team,link:"/admin/team",icon:"fa-users"}),S.jsx(_d,{title:"Events",count:t.events,link:"/admin/events",icon:"fa-calendar-days"}),S.jsx(_d,{title:"Registrations",count:t.registrations,link:"/admin/registrations",icon:"fa-address-card"})]})]})},wF=()=>{const[t,e]=$.useState([]),[n,i]=$.useState(!0);$.useEffect(()=>{s()},[]);const s=async()=>{i(!0);try{const l=await Vh();e(l)}catch(l){console.error("Failed to load posts:",l)}finally{i(!1)}},a=async l=>{window.confirm("Are you sure you want to delete this post?")&&(await JU(l),s())};return S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)]",children:"Manage Blog Posts"}),S.jsxs(tn,{to:"/admin/posts/new",className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors flex items-center gap-2",children:[S.jsx("i",{className:"fa-solid fa-plus"}),"Create New Post"]})]}),S.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl shadow-lg border border-[var(--border-color)] overflow-hidden",children:n?S.jsx("p",{className:"p-6 text-center text-[var(--text-secondary)]",children:"Loading posts..."}):S.jsx("ul",{className:"divide-y divide-[var(--border-color)]",children:t.length>0?t.map(l=>S.jsx("li",{className:"p-4 sm:p-6 hover:bg-[var(--bg-secondary)] transition-colors",children:S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)]",children:l.title}),S.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:["By ",l.author," on ",l.date]})]}),S.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[S.jsx(tn,{to:`/admin/posts/edit/${l.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800 bg-blue-100 px-3 py-1 rounded-md",children:"Edit"}),S.jsx("button",{onClick:()=>a(l.id),className:"text-sm font-medium text-red-600 hover:text-red-800 bg-red-100 px-3 py-1 rounded-md",children:"Delete"})]})]})},l.id)):S.jsx("li",{className:"p-6 text-center text-[var(--text-secondary)]",children:"No posts found. Create one to get started!"})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bF,IF;function RF(){return{geminiUrl:bF,vertexUrl:IF}}function NF(t,e,n,i){var s,a;if(!(t!=null&&t.baseUrl)){const l=RF();return e?(s=l.vertexUrl)!==null&&s!==void 0?s:n:(a=l.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ra{}function xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function y(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];y(m,e.slice(a+1),n[d])}else for(const d of h)y(d,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];y(h[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>p(c,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function DF(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),a=i.split("."),l=new Set;let c=-1;for(let h=0;h<s.length;h++)if(s[h]==="*"){c=h;break}if(c!==-1&&a.length>c)for(let h=c;h<a.length;h++){const d=a[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}cy(t,s,a,0,l)}}function cy(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const l=a.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const h of c[l])cy(h,e,n,i+1,s)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!s.has(d)),h={};for(const d of c)h[d]=l[d];for(const[d,m]of Object.entries(h)){const _=[];for(const T of n.slice(i))T==="*"?_.push(d):_.push(T);y(l,_,m)}for(const d of c)delete l[d]}}else{const l=t;a in l&&cy(l[a],e,n,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bv(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MF(t){const e={},n=p(t,["operationName"]);n!=null&&y(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&y(e,["_url","resourceName"],i),e}function PF(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["metadata"]);i!=null&&y(e,["metadata"],i);const s=p(t,["done"]);s!=null&&y(e,["done"],s);const a=p(t,["error"]);a!=null&&y(e,["error"],a);const l=p(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],LF(l)),e}function kF(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["metadata"]);i!=null&&y(e,["metadata"],i);const s=p(t,["done"]);s!=null&&y(e,["done"],s);const a=p(t,["error"]);a!=null&&y(e,["error"],a);const l=p(t,["response"]);return l!=null&&y(e,["response"],VF(l)),e}function LF(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>UF(l))),y(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function VF(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>OF(l))),y(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function UF(t){const e={},n=p(t,["video"]);return n!=null&&y(e,["video"],qF(n)),e}function OF(t){const e={},n=p(t,["_self"]);return n!=null&&y(e,["video"],zF(n)),e}function FF(t){const e={},n=p(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function BF(t){const e={},n=p(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function qF(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&y(e,["videoBytes"],Bv(i));const s=p(t,["encoding"]);return s!=null&&y(e,["mimeType"],s),e}function zF(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],Bv(i));const s=p(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qA;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qA||(qA={}));var zA;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(zA||(zA={}));var HA;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(HA||(HA={}));var Hs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Hs||(Hs={}));var GA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GA||(GA={}));var YA;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(YA||(YA={}));var JA;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(JA||(JA={}));var KA;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(KA||(KA={}));var $A;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($A||($A={}));var jA;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(jA||(jA={}));var QA;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(QA||(QA={}));var WA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(WA||(WA={}));var XA;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(XA||(XA={}));var ZA;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ZA||(ZA={}));var eC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(eC||(eC={}));var tC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tC||(tC={}));var rh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(rh||(rh={}));var nC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nC||(nC={}));var iC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(iC||(iC={}));var rC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rC||(rC={}));var fy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(fy||(fy={}));var sC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(sC||(sC={}));var oC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oC||(oC={}));var aC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(aC||(aC={}));var lC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(lC||(lC={}));var uC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(uC||(uC={}));var cC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(cC||(cC={}));var fC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fC||(fC={}));var dC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dC||(dC={}));var hC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hC||(hC={}));var pC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pC||(pC={}));var mC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mC||(mC={}));var gC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gC||(gC={}));var yC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yC||(yC={}));var vC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vC||(vC={}));var _C;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_C||(_C={}));var EC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(EC||(EC={}));var TC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(TC||(TC={}));var SC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(SC||(SC={}));var xC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(xC||(xC={}));var AC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(AC||(AC={}));var CC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CC||(CC={}));var wC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(wC||(wC={}));var bC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bC||(bC={}));var IC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(IC||(IC={}));var RC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RC||(RC={}));var NC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(NC||(NC={}));var DC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(DC||(DC={}));var MC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(MC||(MC={}));var el;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(el||(el={}));class dy{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hu{get text(){var e,n,i,s,a,l,c,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const _=[];for(const T of(h=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[x,I]of Object.entries(T))x!=="text"&&x!=="thought"&&(I!==null||I!==void 0)&&_.push(x);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;m=!0,d+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,i,s,a,l,c,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const _ of(h=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[T,x]of Object.entries(_))T!=="inlineData"&&(x!==null||x!==void 0)&&m.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(d+=atob(_.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,s,a,l,c,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,s,a,l,c,h,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,s,a,l,c,h,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class PC{}class kC{}class HF{}class GF{}class YF{}class JF{}class LC{}class VC{}class UC{}class KF{}class sh{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new sh;let s;const a=e;return n?s=kF(a):s=PF(a),Object.assign(i,s),i}}class OC{}class FC{}class BC{}class $F{}class jF{}class QF{}class qC{}class WF{get text(){var e,n,i;let s="",a=!1;const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&l.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,s+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,h]of Object.entries(l))c!=="inlineData"&&h!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class XF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function it(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function FI(t,e){const n=it(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function BI(t){return Array.isArray(t)?t.map(e=>oh(e)):[oh(t)]}function oh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function qI(t){const e=oh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zI(t){const e=oh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function HI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zC(e)):[zC(t)]}function hy(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function HC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function GC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function An(t){if(t==null)throw new Error("ContentUnion is required");return hy(t)?t:{role:"user",parts:HI(t)}}function qv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=An(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=An(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>An(n)):[An(e)]}function vi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(HC(t)||GC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[An(t)]}const e=[],n=[],i=hy(t[0]);for(const s of t){const a=hy(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(HC(s)||GC(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:HI(n)}),e}function ZF(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Hs).includes(n[0].toUpperCase())?n[0].toUpperCase():Hs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Hs).includes(i.toUpperCase())?i.toUpperCase():Hs.TYPE_UNSPECIFIED})}}function ll(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&ZF(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Hs).includes(c.toUpperCase())?c.toUpperCase():Hs.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=ll(c);else if(i.includes(l)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(ll(d))}e[l]=h}else if(s.includes(l)){const h={};for(const[d,m]of Object.entries(c))h[d]=ll(m);e[l]=h}else{if(l==="additionalProperties")continue;e[l]=c}return e}function zv(t){return ll(t)}function Hv(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Gv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Pl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ll(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ll(e.response));return t}function kl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function eB(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function es(t,e){if(typeof e!="string")throw new Error("name must be a string");return eB(t,e,"cachedContents")}function GI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lo(t){return Bv(t)}function tB(t){return t!=null&&typeof t=="object"&&"name"in t}function nB(t){return t!=null&&typeof t=="object"&&"video"in t}function iB(t){return t!=null&&typeof t=="object"&&"uri"in t}function YI(t){var e;let n;if(tB(t)&&(n=t.name),!(iB(t)&&(n=t.uri,n===void 0))&&!(nB(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function JI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function KI(t){for(const e of["models","tunedModels","publisherModels"])if(rB(t,e))return t[e];return[]}function rB(t,e){return t!==null&&typeof t=="object"&&e in t}function sB(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function oB(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=sB(s,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function $I(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function aB(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function jI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let a=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const h=l.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ll(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function QI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lB(t){const e={},n=p(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>FB(l))),y(e,["inlinedResponses"],a)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["inlinedEmbedContentResponses"],a)}return e}function uB(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&y(e,["gcsUri"],i);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&y(e,["bigqueryUri"],s),e}function cB(t){const e={},n=p(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&y(e,["gcsDestination","outputUriPrefix"],i);const s=p(t,["bigqueryUri"]);if(s!=null&&y(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pd(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&y(e,["displayName"],i);const s=p(t,["metadata","state"]);s!=null&&y(e,["state"],QI(s));const a=p(t,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const l=p(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const c=p(t,["metadata","updateTime"]);c!=null&&y(e,["updateTime"],c);const h=p(t,["metadata","model"]);h!=null&&y(e,["model"],h);const d=p(t,["metadata","output"]);return d!=null&&y(e,["dest"],lB(jI(d))),e}function py(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["displayName"]);i!=null&&y(e,["displayName"],i);const s=p(t,["state"]);s!=null&&y(e,["state"],QI(s));const a=p(t,["error"]);a!=null&&y(e,["error"],a);const l=p(t,["createTime"]);l!=null&&y(e,["createTime"],l);const c=p(t,["startTime"]);c!=null&&y(e,["startTime"],c);const h=p(t,["endTime"]);h!=null&&y(e,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const m=p(t,["model"]);m!=null&&y(e,["model"],m);const _=p(t,["inputConfig"]);_!=null&&y(e,["src"],fB(_));const T=p(t,["outputConfig"]);return T!=null&&y(e,["dest"],uB(jI(T))),e}function fB(t){const e={},n=p(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&y(e,["gcsUri"],i);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&y(e,["bigqueryUri"],s),e}function dB(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&y(n,["fileName"],i);const s=p(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>OB(t,l))),y(n,["requests","requests"],a)}return n}function hB(t){const e={},n=p(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&y(e,["gcsSource","uris"],i);const s=p(t,["bigqueryUri"]);if(s!=null&&y(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function pB(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function mB(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],Ll(t,i)),n}function gB(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],Ll(t,i)),n}function yB(t){const e={},n=p(t,["content"]);n!=null&&y(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],vB(i));const s=p(t,["tokenCount"]);s!=null&&y(e,["tokenCount"],s);const a=p(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const l=p(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&y(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(x=>x)),y(e,["safetyRatings"],T)}const _=p(t,["urlContextMetadata"]);return _!=null&&y(e,["urlContextMetadata"],_),e}function vB(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["citations"],i)}return e}function WI(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>JB(a))),y(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&y(e,["role"],i),e}function _B(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&y(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function EB(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const s=p(t,["dest"]);return e!==void 0&&s!=null&&y(e,["outputConfig"],cB(aB(s))),n}function YC(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["src"]);s!=null&&y(n,["batch","inputConfig"],dB(t,$I(t,s)));const a=p(e,["config"]);return a!=null&&_B(a,n),n}function TB(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["model"],it(t,i));const s=p(e,["src"]);s!=null&&y(n,["inputConfig"],hB($I(t,s)));const a=p(e,["config"]);return a!=null&&EB(a,n),n}function SB(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&y(e,["batch","displayName"],i),n}function xB(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["src"]);s!=null&&y(n,["batch","inputConfig"],NB(t,s));const a=p(e,["config"]);return a!=null&&SB(a,n),n}function AB(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],Ll(t,i)),n}function CB(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],Ll(t,i)),n}function wB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&y(e,["name"],i);const s=p(t,["done"]);s!=null&&y(e,["done"],s);const a=p(t,["error"]);return a!=null&&y(e,["error"],a),e}function bB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&y(e,["name"],i);const s=p(t,["done"]);s!=null&&y(e,["done"],s);const a=p(t,["error"]);return a!=null&&y(e,["error"],a),e}function IB(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=qv(t,i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const s=p(e,["config"]);return s!=null&&(y(n,["_self"],RB(s,n)),DF(n,{"requests[].*":"requests[].request.*"})),n}function RB(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const s=p(t,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function NB(t,e){const n={},i=p(e,["fileName"]);i!=null&&y(n,["file_name"],i);const s=p(e,["inlinedRequests"]);return s!=null&&y(n,["requests"],IB(t,s)),n}function DB(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function MB(t,e,n){const i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],WI(An(s)));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&y(i,["topP"],l);const c=p(e,["topK"]);c!=null&&y(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&y(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&y(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&y(i,["responseLogprobs"],_);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const x=p(e,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const I=p(e,["frequencyPenalty"]);I!=null&&y(i,["frequencyPenalty"],I);const D=p(e,["seed"]);D!=null&&y(i,["seed"],D);const O=p(e,["responseMimeType"]);O!=null&&y(i,["responseMimeType"],O);const B=p(e,["responseSchema"]);B!=null&&y(i,["responseSchema"],zv(B));const G=p(e,["responseJsonSchema"]);if(G!=null&&y(i,["responseJsonSchema"],G),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=p(e,["safetySettings"]);if(n!==void 0&&H!=null){let F=H;Array.isArray(F)&&(F=F.map(P=>KB(P))),y(n,["safetySettings"],F)}const re=p(e,["tools"]);if(n!==void 0&&re!=null){let F=kl(re);Array.isArray(F)&&(F=F.map(P=>$B(Pl(P)))),y(n,["tools"],F)}const fe=p(e,["toolConfig"]);if(n!==void 0&&fe!=null&&y(n,["toolConfig"],fe),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&y(n,["cachedContent"],es(t,j));const M=p(e,["responseModalities"]);M!=null&&y(i,["responseModalities"],M);const k=p(e,["mediaResolution"]);k!=null&&y(i,["mediaResolution"],k);const N=p(e,["speechConfig"]);if(N!=null&&y(i,["speechConfig"],Hv(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=p(e,["thinkingConfig"]);U!=null&&y(i,["thinkingConfig"],U);const V=p(e,["imageConfig"]);return V!=null&&y(i,["imageConfig"],V),i}function PB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>yB(d))),y(e,["candidates"],h)}const s=p(t,["modelVersion"]);s!=null&&y(e,["modelVersion"],s);const a=p(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const l=p(t,["responseId"]);l!=null&&y(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function kB(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],Ll(t,i)),n}function LB(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],Ll(t,i)),n}function VB(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function UB(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function OB(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["request","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let c=vi(s);Array.isArray(c)&&(c=c.map(h=>WI(h))),y(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=p(e,["config"]);return l!=null&&y(n,["request","generationConfig"],MB(t,l,p(n,["request"],{}))),n}function FB(t){const e={},n=p(t,["response"]);n!=null&&y(e,["response"],PB(n));const i=p(t,["error"]);return i!=null&&y(e,["error"],i),e}function BB(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function qB(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&y(e,["_query","pageToken"],s);const a=p(t,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),n}function zB(t){const e={},n=p(t,["config"]);return n!=null&&BB(n,e),e}function HB(t){const e={},n=p(t,["config"]);return n!=null&&qB(n,e),e}function GB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Pd(l))),y(e,["batchJobs"],a)}return e}function YB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>py(l))),y(e,["batchJobs"],a)}return e}function JB(t){const e={},n=p(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const i=p(t,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&y(e,["fileData"],DB(a));const l=p(t,["functionResponse"]);l!=null&&y(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&y(e,["inlineData"],pB(c));const h=p(t,["text"]);h!=null&&y(e,["text"],h);const d=p(t,["thought"]);d!=null&&y(e,["thought"],d);const m=p(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=p(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function KB(t){const e={},n=p(t,["category"]);if(n!=null&&y(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function $B(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=p(t,["googleMaps"]);s!=null&&y(e,["googleMaps"],VB(s));const a=p(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=p(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],UB(c));const h=p(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_RAG_STORES="ragStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qo||(Qo={}));class Uc{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jB extends ra{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Uc(Qo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=YC(this.apiClient,e),i=n._url,s=xe("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,h=c.requests,d=[];for(const m of h){const _=Object.assign({},m);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const x=_.request;x.systemInstruction=T,_.request=x}d.push(_)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(l)i.dest=`${l}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=TB(this.apiClient,e);return c=xe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>py(m))}else{const d=YC(this.apiClient,e);return c=xe("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Pd(m))}}async createEmbeddingsInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xB(this.apiClient,e);return a=xe("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Pd(h))}}async get(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=LB(this.apiClient,e);return c=xe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>py(m))}else{const d=kB(this.apiClient,e);return c=xe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Pd(m))}}async cancel(e){var n,i,s,a;let l="",c={};if(this.apiClient.isVertexAI()){const h=gB(this.apiClient,e);l=xe("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=mB(this.apiClient,e);l=xe("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=HB(e);return c=xe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=YB(m),T=new qC;return Object.assign(T,_),T})}else{const d=zB(e);return c=xe("batches",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=GB(m),T=new qC;return Object.assign(T,_),T})}}async delete(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=CB(this.apiClient,e);return c=xe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>bB(m))}else{const d=AB(this.apiClient,e);return c=xe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>wB(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QB(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function JC(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>yq(a))),y(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&y(e,["role"],i),e}function WB(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&y(e,["expireTime"],s);const a=p(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let m=vi(l);Array.isArray(m)&&(m=m.map(_=>JC(_))),y(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],JC(An(c)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(_=>vq(_))),y(e,["tools"],m)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],d),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function XB(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&y(e,["expireTime"],s);const a=p(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let _=vi(l);Array.isArray(_)&&(_=_.map(T=>T)),y(e,["contents"],_)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],An(c));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>_q(T))),y(e,["tools"],_)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&y(e,["encryption_spec","kmsKeyName"],m),n}function ZB(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["model"],FI(t,i));const s=p(e,["config"]);return s!=null&&WB(s,n),n}function eq(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["model"],FI(t,i));const s=p(e,["config"]);return s!=null&&XB(s,n),n}function tq(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],es(t,i)),n}function nq(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],es(t,i)),n}function iq(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function rq(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function sq(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function oq(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&y(e,["description"],n);const i=p(t,["name"]);i!=null&&y(e,["name"],i);const s=p(t,["parameters"]);s!=null&&y(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&y(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function aq(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],es(t,i)),n}function lq(t,e){const n={},i=p(e,["name"]);return i!=null&&y(n,["_url","name"],es(t,i)),n}function uq(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function cq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function fq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function dq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function hq(t){const e={},n=p(t,["config"]);return n!=null&&fq(n,e),e}function pq(t){const e={},n=p(t,["config"]);return n!=null&&dq(n,e),e}function mq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["cachedContents"],a)}return e}function gq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["cachedContents"],a)}return e}function yq(t){const e={},n=p(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const i=p(t,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&y(e,["fileData"],sq(a));const l=p(t,["functionResponse"]);l!=null&&y(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&y(e,["inlineData"],QB(c));const h=p(t,["text"]);h!=null&&y(e,["text"],h);const d=p(t,["thought"]);d!=null&&y(e,["thought"],d);const m=p(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=p(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function vq(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=p(t,["googleMaps"]);s!=null&&y(e,["googleMaps"],uq(s));const a=p(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=p(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],cq(c));const h=p(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function _q(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>oq(T))),y(e,["functionDeclarations"],_)}const i=p(t,["retrieval"]);i!=null&&y(e,["retrieval"],i);const s=p(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],a);const l=p(t,["computerUse"]);l!=null&&y(e,["computerUse"],l);const c=p(t,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(t,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const d=p(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&y(e,["urlContext"],m),e}function Eq(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&y(e,["expireTime"],s),n}function Tq(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&y(e,["expireTime"],s),n}function Sq(t,e){const n={},i=p(e,["name"]);i!=null&&y(n,["_url","name"],es(t,i));const s=p(e,["config"]);return s!=null&&Eq(s,n),n}function xq(t,e){const n={},i=p(e,["name"]);i!=null&&y(n,["_url","name"],es(t,i));const s=p(e,["config"]);return s!=null&&Tq(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aq extends ra{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Uc(Qo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=eq(this.apiClient,e);return c=xe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=ZB(this.apiClient,e);return c=xe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=lq(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=aq(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=nq(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=rq(m),T=new FC;return Object.assign(T,_),T})}else{const d=tq(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=iq(m),T=new FC;return Object.assign(T,_),T})}}async update(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=xq(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const d=Sq(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=pq(e);return c=xe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=gq(m),T=new BC;return Object.assign(T,_),T})}else{const d=hq(e);return c=xe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=mq(m),T=new BC;return Object.assign(T,_),T})}}}function KC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(t){return this instanceof At?(this.v=t,this):new At(t)}function ul(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(x){return function(I){return Promise.resolve(I).then(x,_)}}function c(x,I){i[x]&&(s[x]=function(D){return new Promise(function(O,B){a.push([x,D,O,B])>1||h(x,D)})},I&&(s[x]=I(s[x])))}function h(x,I){try{d(i[x](I))}catch(D){T(a[0][3],D)}}function d(x){x.value instanceof At?Promise.resolve(x.value.v).then(m,_):T(a[0][2],x)}function m(x){h("next",x)}function _(x){h("throw",x)}function T(x,I){x(I),a.shift(),a.length&&h(a[0][0],a[0][1])}}function sc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KC=="function"?KC(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(l){return new Promise(function(c,h){l=t[a](l),s(c,h,l.done,l.value)})}}function s(a,l,c,h){Promise.resolve(h).then(function(d){a({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cq(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:XI(n)}function XI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wq(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $C(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!XI(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class bq{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Iq(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Iq{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),wq(a)}async sendMessage(e){var n;await this.sendPromise;const i=An(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const h=await s,d=(l=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,m=h.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];m!=null&&(T=(c=m.slice(_))!==null&&c!==void 0?c:[]);const x=d?[d]:[];this.recordHistory(i,x,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=An(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?$C(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,s;return ul(this,arguments,function*(){var l,c,h,d;const m=[];try{for(var _=!0,T=sc(e),x;x=yield At(T.next()),l=x.done,!l;_=!0){d=x.value,_=!1;const I=d;if(Cq(I)){const D=(s=(i=I.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;D!==void 0&&m.push(D)}yield yield At(I)}}catch(I){c={error:I}}finally{try{!_&&!l&&(h=T.return)&&(yield At(h.call(T)))}finally{if(c)throw c.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$C(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rq(t){const e={},n=p(t,["file"]);return n!=null&&y(e,["file"],n),e}function Nq(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Dq(t){const e={},n=p(t,["name"]);return n!=null&&y(e,["_url","file"],YI(n)),e}function Mq(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Pq(t){const e={},n=p(t,["name"]);return n!=null&&y(e,["_url","file"],YI(n)),e}function kq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function Lq(t){const e={},n=p(t,["config"]);return n!=null&&kq(n,e),e}function Vq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uq extends ra{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Uc(Qo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Lq(e);return a=xe("files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const d=Vq(h),m=new $F;return Object.assign(m,d),m})}}async createInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Rq(e);return a=xe("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const d=Nq(h),m=new jF;return Object.assign(m,d),m})}}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Pq(e);return a=xe("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Dq(e);return a=xe("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const d=Mq(h),m=new QF;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kd(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Oq(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Zq(a))),y(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&y(e,["role"],i),e}function Fq(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Bq(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&y(e,["description"],n);const i=p(t,["name"]);i!=null&&y(e,["name"],i);const s=p(t,["parameters"]);s!=null&&y(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&y(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function qq(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const i=p(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&y(e,["candidateCount"],s);const a=p(t,["enableAffectiveDialog"]);a!=null&&y(e,["enableAffectiveDialog"],a);const l=p(t,["frequencyPenalty"]);l!=null&&y(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const h=p(t,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const d=p(t,["mediaResolution"]);d!=null&&y(e,["mediaResolution"],d);const m=p(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=p(t,["responseJsonSchema"]);_!=null&&y(e,["responseJsonSchema"],_);const T=p(t,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const x=p(t,["responseMimeType"]);x!=null&&y(e,["responseMimeType"],x);const I=p(t,["responseModalities"]);I!=null&&y(e,["responseModalities"],I);const D=p(t,["responseSchema"]);D!=null&&y(e,["responseSchema"],D);const O=p(t,["routingConfig"]);O!=null&&y(e,["routingConfig"],O);const B=p(t,["seed"]);B!=null&&y(e,["seed"],B);const G=p(t,["speechConfig"]);G!=null&&y(e,["speechConfig"],ZI(G));const H=p(t,["stopSequences"]);H!=null&&y(e,["stopSequences"],H);const re=p(t,["temperature"]);re!=null&&y(e,["temperature"],re);const fe=p(t,["thinkingConfig"]);fe!=null&&y(e,["thinkingConfig"],fe);const j=p(t,["topK"]);j!=null&&y(e,["topK"],j);const M=p(t,["topP"]);if(M!=null&&y(e,["topP"],M),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zq(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Hq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Gq(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const a=p(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","speechConfig"],Gv(_));const T=p(t,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],x);const I=p(t,["systemInstruction"]);e!==void 0&&I!=null&&y(e,["setup","systemInstruction"],Oq(An(I)));const D=p(t,["tools"]);if(e!==void 0&&D!=null){let j=kl(D);Array.isArray(j)&&(j=j.map(M=>tz(Pl(M)))),y(e,["setup","tools"],j)}const O=p(t,["sessionResumption"]);e!==void 0&&O!=null&&y(e,["setup","sessionResumption"],ez(O));const B=p(t,["inputAudioTranscription"]);e!==void 0&&B!=null&&y(e,["setup","inputAudioTranscription"],B);const G=p(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&y(e,["setup","outputAudioTranscription"],G);const H=p(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&y(e,["setup","realtimeInputConfig"],H);const re=p(t,["contextWindowCompression"]);e!==void 0&&re!=null&&y(e,["setup","contextWindowCompression"],re);const fe=p(t,["proactivity"]);return e!==void 0&&fe!=null&&y(e,["setup","proactivity"],fe),n}function Yq(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],qq(i));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const a=p(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","speechConfig"],ZI(Gv(_)));const T=p(t,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],x);const I=p(t,["systemInstruction"]);e!==void 0&&I!=null&&y(e,["setup","systemInstruction"],An(I));const D=p(t,["tools"]);if(e!==void 0&&D!=null){let j=kl(D);Array.isArray(j)&&(j=j.map(M=>nz(Pl(M)))),y(e,["setup","tools"],j)}const O=p(t,["sessionResumption"]);e!==void 0&&O!=null&&y(e,["setup","sessionResumption"],O);const B=p(t,["inputAudioTranscription"]);e!==void 0&&B!=null&&y(e,["setup","inputAudioTranscription"],B);const G=p(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&y(e,["setup","outputAudioTranscription"],G);const H=p(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&y(e,["setup","realtimeInputConfig"],H);const re=p(t,["contextWindowCompression"]);e!==void 0&&re!=null&&y(e,["setup","contextWindowCompression"],re);const fe=p(t,["proactivity"]);return e!==void 0&&fe!=null&&y(e,["setup","proactivity"],fe),n}function Jq(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["setup","model"],it(t,i));const s=p(e,["config"]);return s!=null&&y(n,["config"],Gq(s,n)),n}function Kq(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["setup","model"],it(t,i));const s=p(e,["config"]);return s!=null&&y(n,["config"],Yq(s,n)),n}function $q(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function jq(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["weightedPrompts"],i)}return e}function Qq(t){const e={},n=p(t,["media"]);if(n!=null){let d=BI(n);Array.isArray(d)&&(d=d.map(m=>kd(m))),y(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&y(e,["audio"],kd(zI(i)));const s=p(t,["audioStreamEnd"]);s!=null&&y(e,["audioStreamEnd"],s);const a=p(t,["video"]);a!=null&&y(e,["video"],kd(qI(a)));const l=p(t,["text"]);l!=null&&y(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&y(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&y(e,["activityEnd"],h),e}function Wq(t){const e={},n=p(t,["media"]);if(n!=null){let d=BI(n);Array.isArray(d)&&(d=d.map(m=>m)),y(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&y(e,["audio"],zI(i));const s=p(t,["audioStreamEnd"]);s!=null&&y(e,["audioStreamEnd"],s);const a=p(t,["video"]);a!=null&&y(e,["video"],qI(a));const l=p(t,["text"]);l!=null&&y(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&y(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&y(e,["activityEnd"],h),e}function Xq(t){const e={},n=p(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&y(e,["serverContent"],i);const s=p(t,["toolCall"]);s!=null&&y(e,["toolCall"],s);const a=p(t,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const l=p(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],iz(l));const c=p(t,["goAway"]);c!=null&&y(e,["goAway"],c);const h=p(t,["sessionResumptionUpdate"]);return h!=null&&y(e,["sessionResumptionUpdate"],h),e}function Zq(t){const e={},n=p(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const i=p(t,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&y(e,["fileData"],Fq(a));const l=p(t,["functionResponse"]);l!=null&&y(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&y(e,["inlineData"],kd(c));const h=p(t,["text"]);h!=null&&y(e,["text"],h);const d=p(t,["thought"]);d!=null&&y(e,["thought"],d);const m=p(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=p(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function ez(t){const e={},n=p(t,["handle"]);if(n!=null&&y(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZI(t){const e={},n=p(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const i=p(t,["voiceConfig"]);if(i!=null&&y(e,["voiceConfig"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function tz(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=p(t,["googleMaps"]);s!=null&&y(e,["googleMaps"],zq(s));const a=p(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=p(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Hq(c));const h=p(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function nz(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>Bq(T))),y(e,["functionDeclarations"],_)}const i=p(t,["retrieval"]);i!=null&&y(e,["retrieval"],i);const s=p(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],a);const l=p(t,["computerUse"]);l!=null&&y(e,["computerUse"],l);const c=p(t,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(t,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const d=p(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&y(e,["urlContext"],m),e}function iz(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&y(e,["cachedContentTokenCount"],i);const s=p(t,["candidatesTokenCount"]);s!=null&&y(e,["responseTokenCount"],s);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const l=p(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const c=p(t,["totalTokenCount"]);c!=null&&y(e,["totalTokenCount"],c);const h=p(t,["promptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(I=>I)),y(e,["promptTokensDetails"],x)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(I=>I)),y(e,["cacheTokensDetails"],x)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(I=>I)),y(e,["responseTokensDetails"],x)}const _=p(t,["toolUsePromptTokensDetails"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(I=>I)),y(e,["toolUsePromptTokensDetails"],x)}const T=p(t,["trafficType"]);return T!=null&&y(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rz(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function sz(t){const e={},n=p(t,["content"]);n!=null&&y(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],oz(i));const s=p(t,["tokenCount"]);s!=null&&y(e,["tokenCount"],s);const a=p(t,["finishReason"]);a!=null&&y(e,["finishReason"],a);const l=p(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&y(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(x=>x)),y(e,["safetyRatings"],T)}const _=p(t,["urlContextMetadata"]);return _!=null&&y(e,["urlContextMetadata"],_),e}function oz(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["citations"],i)}return e}function az(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let a=vi(s);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function lz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["tokensInfo"],s)}return e}function uz(t){const e={},n=p(t,["values"]);n!=null&&y(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&y(e,["statistics"],cz(i)),e}function cz(t){const e={},n=p(t,["truncated"]);n!=null&&y(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&y(e,["tokenCount"],i),e}function qh(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>m9(a))),y(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&y(e,["role"],i),e}function fz(t){const e={},n=p(t,["controlType"]);n!=null&&y(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&y(e,["computeControl"],i),e}function dz(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hz(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&y(e,["systemInstruction"],An(i));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>rR(c))),y(e,["tools"],l)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],n9(a)),n}function pz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let l=vi(s);Array.isArray(l)&&(l=l.map(c=>qh(c))),y(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&dz(a),n}function mz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let l=vi(s);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&hz(a,n),n}function gz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&y(e,["totalTokens"],i);const s=p(t,["cachedContentTokenCount"]);return s!=null&&y(e,["cachedContentTokenCount"],s),e}function yz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&y(e,["totalTokens"],i),e}function vz(t,e){const n={},i=p(e,["model"]);return i!=null&&y(n,["_url","name"],it(t,i)),n}function _z(t,e){const n={},i=p(e,["model"]);return i!=null&&y(n,["_url","name"],it(t,i)),n}function Ez(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Tz(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Sz(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&y(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&y(e,["parameters","personGeneration"],m);const _=p(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&y(e,["parameters","includeSafetyAttributes"],_);const T=p(t,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const x=p(t,["language"]);e!==void 0&&x!=null&&y(e,["parameters","language"],x);const I=p(t,["outputMimeType"]);e!==void 0&&I!=null&&y(e,["parameters","outputOptions","mimeType"],I);const D=p(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&y(e,["parameters","outputOptions","compressionQuality"],D);const O=p(t,["addWatermark"]);e!==void 0&&O!=null&&y(e,["parameters","addWatermark"],O);const B=p(t,["labels"]);e!==void 0&&B!=null&&y(e,["labels"],B);const G=p(t,["editMode"]);e!==void 0&&G!=null&&y(e,["parameters","editMode"],G);const H=p(t,["baseSteps"]);return e!==void 0&&H!=null&&y(e,["parameters","editConfig","baseSteps"],H),n}function xz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>T9(h))),y(n,["instances[0]","referenceImages"],c)}const l=p(e,["config"]);return l!=null&&Sz(l,n),n}function Az(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>zh(a))),y(e,["generatedImages"],s)}return e}function Cz(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const s=p(t,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wz(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&y(e,["instances[]","task_type"],i);const s=p(t,["title"]);e!==void 0&&s!=null&&y(e,["instances[]","title"],s);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const l=p(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&y(e,["parameters","autoTruncate"],c),n}function bz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let c=qv(t,s);Array.isArray(c)&&(c=c.map(h=>h)),y(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&Cz(a,n);const l=p(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],it(t,l)),n}function Iz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let l=qv(t,s);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["instances[]","content"],l)}const a=p(e,["config"]);return a!=null&&wz(a,n),n}function Rz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["embeddings"],a)}const s=p(t,["metadata"]);return s!=null&&y(e,["metadata"],s),e}function Nz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>uz(l))),y(e,["embeddings"],a)}const s=p(t,["metadata"]);return s!=null&&y(e,["metadata"],s),e}function Dz(t){const e={},n=p(t,["endpoint"]);n!=null&&y(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&y(e,["deployedModelId"],i),e}function Mz(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Pz(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&y(e,["description"],n);const i=p(t,["name"]);i!=null&&y(e,["name"],i);const s=p(t,["parameters"]);s!=null&&y(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&y(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function kz(t,e,n){const i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],qh(An(s)));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&y(i,["topP"],l);const c=p(e,["topK"]);c!=null&&y(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&y(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&y(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&y(i,["responseLogprobs"],_);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const x=p(e,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const I=p(e,["frequencyPenalty"]);I!=null&&y(i,["frequencyPenalty"],I);const D=p(e,["seed"]);D!=null&&y(i,["seed"],D);const O=p(e,["responseMimeType"]);O!=null&&y(i,["responseMimeType"],O);const B=p(e,["responseSchema"]);B!=null&&y(i,["responseSchema"],zv(B));const G=p(e,["responseJsonSchema"]);if(G!=null&&y(i,["responseJsonSchema"],G),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=p(e,["safetySettings"]);if(n!==void 0&&H!=null){let F=H;Array.isArray(F)&&(F=F.map(P=>S9(P))),y(n,["safetySettings"],F)}const re=p(e,["tools"]);if(n!==void 0&&re!=null){let F=kl(re);Array.isArray(F)&&(F=F.map(P=>I9(Pl(P)))),y(n,["tools"],F)}const fe=p(e,["toolConfig"]);if(n!==void 0&&fe!=null&&y(n,["toolConfig"],fe),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&y(n,["cachedContent"],es(t,j));const M=p(e,["responseModalities"]);M!=null&&y(i,["responseModalities"],M);const k=p(e,["mediaResolution"]);k!=null&&y(i,["mediaResolution"],k);const N=p(e,["speechConfig"]);if(N!=null&&y(i,["speechConfig"],Hv(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=p(e,["thinkingConfig"]);U!=null&&y(i,["thinkingConfig"],U);const V=p(e,["imageConfig"]);return V!=null&&y(i,["imageConfig"],V),i}function Lz(t,e,n){const i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],An(s));const a=p(e,["temperature"]);a!=null&&y(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&y(i,["topP"],l);const c=p(e,["topK"]);c!=null&&y(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&y(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&y(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&y(i,["responseLogprobs"],_);const T=p(e,["logprobs"]);T!=null&&y(i,["logprobs"],T);const x=p(e,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const I=p(e,["frequencyPenalty"]);I!=null&&y(i,["frequencyPenalty"],I);const D=p(e,["seed"]);D!=null&&y(i,["seed"],D);const O=p(e,["responseMimeType"]);O!=null&&y(i,["responseMimeType"],O);const B=p(e,["responseSchema"]);B!=null&&y(i,["responseSchema"],zv(B));const G=p(e,["responseJsonSchema"]);G!=null&&y(i,["responseJsonSchema"],G);const H=p(e,["routingConfig"]);H!=null&&y(i,["routingConfig"],H);const re=p(e,["modelSelectionConfig"]);re!=null&&y(i,["modelConfig"],re);const fe=p(e,["safetySettings"]);if(n!==void 0&&fe!=null){let Z=fe;Array.isArray(Z)&&(Z=Z.map(de=>de)),y(n,["safetySettings"],Z)}const j=p(e,["tools"]);if(n!==void 0&&j!=null){let Z=kl(j);Array.isArray(Z)&&(Z=Z.map(de=>rR(Pl(de)))),y(n,["tools"],Z)}const M=p(e,["toolConfig"]);n!==void 0&&M!=null&&y(n,["toolConfig"],M);const k=p(e,["labels"]);n!==void 0&&k!=null&&y(n,["labels"],k);const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],es(t,N));const U=p(e,["responseModalities"]);U!=null&&y(i,["responseModalities"],U);const V=p(e,["mediaResolution"]);V!=null&&y(i,["mediaResolution"],V);const F=p(e,["speechConfig"]);F!=null&&y(i,["speechConfig"],iR(Hv(F)));const P=p(e,["audioTimestamp"]);P!=null&&y(i,["audioTimestamp"],P);const pe=p(e,["thinkingConfig"]);pe!=null&&y(i,["thinkingConfig"],pe);const _e=p(e,["imageConfig"]);return _e!=null&&y(i,["imageConfig"],_e),i}function jC(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let l=vi(s);Array.isArray(l)&&(l=l.map(c=>qh(c))),y(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&y(n,["generationConfig"],kz(t,a,n)),n}function QC(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["contents"]);if(s!=null){let l=vi(s);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&y(n,["generationConfig"],Lz(t,a,n)),n}function WC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>sz(d))),y(e,["candidates"],h)}const s=p(t,["modelVersion"]);s!=null&&y(e,["modelVersion"],s);const a=p(t,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const l=p(t,["responseId"]);l!=null&&y(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function XC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>m)),y(e,["candidates"],d)}const s=p(t,["createTime"]);s!=null&&y(e,["createTime"],s);const a=p(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const l=p(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&y(e,["responseId"],c);const h=p(t,["usageMetadata"]);return h!=null&&y(e,["usageMetadata"],h),e}function Vz(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&y(e,["parameters","includeSafetyAttributes"],h);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const m=p(t,["language"]);e!==void 0&&m!=null&&y(e,["parameters","language"],m);const _=p(t,["outputMimeType"]);e!==void 0&&_!=null&&y(e,["parameters","outputOptions","mimeType"],_);const T=p(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&y(e,["parameters","outputOptions","compressionQuality"],T),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&y(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Uz(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&y(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&y(e,["parameters","personGeneration"],m);const _=p(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&y(e,["parameters","includeSafetyAttributes"],_);const T=p(t,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const x=p(t,["language"]);e!==void 0&&x!=null&&y(e,["parameters","language"],x);const I=p(t,["outputMimeType"]);e!==void 0&&I!=null&&y(e,["parameters","outputOptions","mimeType"],I);const D=p(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&y(e,["parameters","outputOptions","compressionQuality"],D);const O=p(t,["addWatermark"]);e!==void 0&&O!=null&&y(e,["parameters","addWatermark"],O);const B=p(t,["labels"]);e!==void 0&&B!=null&&y(e,["labels"],B);const G=p(t,["imageSize"]);e!==void 0&&G!=null&&y(e,["parameters","sampleImageSize"],G);const H=p(t,["enhancePrompt"]);return e!==void 0&&H!=null&&y(e,["parameters","enhancePrompt"],H),n}function Oz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const a=p(e,["config"]);return a!=null&&Vz(a,n),n}function Fz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const a=p(e,["config"]);return a!=null&&Uz(a,n),n}function Bz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Xz(l))),y(e,["generatedImages"],a)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&y(e,["positivePromptSafetyAttributes"],tR(s)),e}function qz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>zh(l))),y(e,["generatedImages"],a)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&y(e,["positivePromptSafetyAttributes"],nR(s)),e}function zz(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const l=p(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&y(e,["parameters","negativePrompt"],h);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&y(e,["instances[0]","lastFrame"],Hh(m));const _=p(t,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(x=>q9(x))),y(e,["instances[0]","referenceImages"],T)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Hz(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);const a=p(t,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const l=p(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&y(e,["parameters","aspectRatio"],h);const d=p(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&y(e,["parameters","personGeneration"],m);const _=p(t,["pubsubTopic"]);e!==void 0&&_!=null&&y(e,["parameters","pubsubTopic"],_);const T=p(t,["negativePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","negativePrompt"],T);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&y(e,["parameters","enhancePrompt"],x);const I=p(t,["generateAudio"]);e!==void 0&&I!=null&&y(e,["parameters","generateAudio"],I);const D=p(t,["lastFrame"]);e!==void 0&&D!=null&&y(e,["instances[0]","lastFrame"],Fi(D));const O=p(t,["referenceImages"]);if(e!==void 0&&O!=null){let H=O;Array.isArray(H)&&(H=H.map(re=>z9(re))),y(e,["instances[0]","referenceImages"],H)}const B=p(t,["mask"]);e!==void 0&&B!=null&&y(e,["instances[0]","mask"],B9(B));const G=p(t,["compressionQuality"]);return e!==void 0&&G!=null&&y(e,["parameters","compressionQuality"],G),n}function Gz(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["metadata"]);i!=null&&y(e,["metadata"],i);const s=p(t,["done"]);s!=null&&y(e,["done"],s);const a=p(t,["error"]);a!=null&&y(e,["error"],a);const l=p(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],$z(l)),e}function Yz(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["metadata"]);i!=null&&y(e,["metadata"],i);const s=p(t,["done"]);s!=null&&y(e,["done"],s);const a=p(t,["error"]);a!=null&&y(e,["error"],a);const l=p(t,["response"]);return l!=null&&y(e,["response"],jz(l)),e}function Jz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const a=p(e,["image"]);a!=null&&y(n,["instances[0]","image"],Hh(a));const l=p(e,["video"]);l!=null&&y(n,["instances[0]","video"],sR(l));const c=p(e,["source"]);c!=null&&Qz(c,n);const h=p(e,["config"]);return h!=null&&zz(h,n),n}function Kz(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const a=p(e,["image"]);a!=null&&y(n,["instances[0]","image"],Fi(a));const l=p(e,["video"]);l!=null&&y(n,["instances[0]","video"],oR(l));const c=p(e,["source"]);c!=null&&Wz(c,n);const h=p(e,["config"]);return h!=null&&Hz(h,n),n}function $z(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>e9(l))),y(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function jz(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>t9(l))),y(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function Qz(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=p(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],Hh(s));const a=p(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],sR(a)),n}function Wz(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=p(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],Fi(s));const a=p(t,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],oR(a)),n}function Xz(t){const e={},n=p(t,["_self"]);n!=null&&y(e,["image"],a9(n));const i=p(t,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const s=p(t,["_self"]);return s!=null&&y(e,["safetyAttributes"],tR(s)),e}function zh(t){const e={},n=p(t,["_self"]);n!=null&&y(e,["image"],eR(n));const i=p(t,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const s=p(t,["_self"]);s!=null&&y(e,["safetyAttributes"],nR(s));const a=p(t,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function Zz(t){const e={},n=p(t,["_self"]);n!=null&&y(e,["mask"],eR(n));const i=p(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["labels"],s)}return e}function e9(t){const e={},n=p(t,["video"]);return n!=null&&y(e,["video"],O9(n)),e}function t9(t){const e={},n=p(t,["_self"]);return n!=null&&y(e,["video"],F9(n)),e}function n9(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const i=p(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&y(e,["candidateCount"],s);const a=p(t,["enableAffectiveDialog"]);a!=null&&y(e,["enableAffectiveDialog"],a);const l=p(t,["frequencyPenalty"]);l!=null&&y(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const h=p(t,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const d=p(t,["mediaResolution"]);d!=null&&y(e,["mediaResolution"],d);const m=p(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=p(t,["responseJsonSchema"]);_!=null&&y(e,["responseJsonSchema"],_);const T=p(t,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const x=p(t,["responseMimeType"]);x!=null&&y(e,["responseMimeType"],x);const I=p(t,["responseModalities"]);I!=null&&y(e,["responseModalities"],I);const D=p(t,["responseSchema"]);D!=null&&y(e,["responseSchema"],D);const O=p(t,["routingConfig"]);O!=null&&y(e,["routingConfig"],O);const B=p(t,["seed"]);B!=null&&y(e,["seed"],B);const G=p(t,["speechConfig"]);G!=null&&y(e,["speechConfig"],iR(G));const H=p(t,["stopSequences"]);H!=null&&y(e,["stopSequences"],H);const re=p(t,["temperature"]);re!=null&&y(e,["temperature"],re);const fe=p(t,["thinkingConfig"]);fe!=null&&y(e,["thinkingConfig"],fe);const j=p(t,["topK"]);j!=null&&y(e,["topK"],j);const M=p(t,["topP"]);if(M!=null&&y(e,["topP"],M),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function i9(t,e){const n={},i=p(e,["model"]);return i!=null&&y(n,["_url","name"],it(t,i)),n}function r9(t,e){const n={},i=p(e,["model"]);return i!=null&&y(n,["_url","name"],it(t,i)),n}function s9(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function o9(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function a9(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],lo(n));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function eR(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&y(e,["imageBytes"],lo(i));const s=p(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function Hh(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],lo(n));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Fi(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&y(e,["bytesBase64Encoded"],lo(i));const s=p(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function l9(t,e,n){const i={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&y(n,["_query","pageSize"],s);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=p(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],JI(t,c)),i}function u9(t,e,n){const i={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&y(n,["_query","pageSize"],s);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=p(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],JI(t,c)),i}function c9(t,e){const n={},i=p(e,["config"]);return i!=null&&l9(t,i,n),n}function f9(t,e){const n={},i=p(e,["config"]);return i!=null&&u9(t,i,n),n}function d9(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["_self"]);if(s!=null){let a=KI(s);Array.isArray(a)&&(a=a.map(l=>my(l))),y(e,["models"],a)}return e}function h9(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=p(t,["_self"]);if(s!=null){let a=KI(s);Array.isArray(a)&&(a=a.map(l=>gy(l))),y(e,["models"],a)}return e}function p9(t){const e={},n=p(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&y(e,["maskClasses"],i);const s=p(t,["maskDilation"]);return s!=null&&y(e,["dilation"],s),e}function my(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["displayName"]);i!=null&&y(e,["displayName"],i);const s=p(t,["description"]);s!=null&&y(e,["description"],s);const a=p(t,["version"]);a!=null&&y(e,["version"],a);const l=p(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],R9(l));const c=p(t,["inputTokenLimit"]);c!=null&&y(e,["inputTokenLimit"],c);const h=p(t,["outputTokenLimit"]);h!=null&&y(e,["outputTokenLimit"],h);const d=p(t,["supportedGenerationMethods"]);return d!=null&&y(e,["supportedActions"],d),e}function gy(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const i=p(t,["displayName"]);i!=null&&y(e,["displayName"],i);const s=p(t,["description"]);s!=null&&y(e,["description"],s);const a=p(t,["versionId"]);a!=null&&y(e,["version"],a);const l=p(t,["deployedModels"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(T=>Dz(T))),y(e,["endpoints"],_)}const c=p(t,["labels"]);c!=null&&y(e,["labels"],c);const h=p(t,["_self"]);h!=null&&y(e,["tunedModelInfo"],N9(h));const d=p(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const m=p(t,["checkpoints"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>T)),y(e,["checkpoints"],_)}return e}function m9(t){const e={},n=p(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const i=p(t,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&y(e,["fileData"],Mz(a));const l=p(t,["functionResponse"]);l!=null&&y(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&y(e,["inlineData"],rz(c));const h=p(t,["text"]);h!=null&&y(e,["text"],h);const d=p(t,["thought"]);d!=null&&y(e,["thought"],d);const m=p(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=p(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function g9(t){const e={},n=p(t,["productImage"]);return n!=null&&y(e,["image"],Fi(n)),e}function y9(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&y(e,["parameters","editConfig","baseSteps"],s);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const _=p(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_);const T=p(t,["enhancePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","enhancePrompt"],T);const x=p(t,["labels"]);return e!==void 0&&x!=null&&y(e,["labels"],x),n}function v9(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["source"]);s!=null&&E9(s,n);const a=p(e,["config"]);return a!=null&&y9(a,n),n}function _9(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zh(s))),y(e,["generatedImages"],i)}return e}function E9(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=p(t,["personImage"]);e!==void 0&&s!=null&&y(e,["instances[0]","personImage","image"],Fi(s));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>g9(c))),y(e,["instances[0]","productImages"],l)}return n}function T9(t){const e={},n=p(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Fi(n));const i=p(t,["referenceId"]);i!=null&&y(e,["referenceId"],i);const s=p(t,["referenceType"]);s!=null&&y(e,["referenceType"],s);const a=p(t,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],p9(a));const l=p(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],fz(l));const c=p(t,["styleImageConfig"]);c!=null&&y(e,["styleImageConfig"],c);const h=p(t,["subjectImageConfig"]);return h!=null&&y(e,["subjectImageConfig"],h),e}function tR(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const s=p(t,["contentType"]);return s!=null&&y(e,["contentType"],s),e}function nR(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const s=p(t,["contentType"]);return s!=null&&y(e,["contentType"],s),e}function S9(t){const e={},n=p(t,["category"]);if(n!=null&&y(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function x9(t){const e={},n=p(t,["image"]);return n!=null&&y(e,["image"],Fi(n)),e}function A9(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&y(e,["parameters","mode"],i);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&y(e,["parameters","maxPredictions"],s);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const l=p(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&y(e,["parameters","binaryColorThreshold"],c);const h=p(t,["labels"]);return e!==void 0&&h!=null&&y(e,["labels"],h),n}function C9(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["source"]);s!=null&&b9(s,n);const a=p(e,["config"]);return a!=null&&A9(a,n),n}function w9(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Zz(s))),y(e,["generatedMasks"],i)}return e}function b9(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=p(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],Fi(s));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],x9(a)),n}function iR(t){const e={},n=p(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const i=p(t,["voiceConfig"]);if(i!=null&&y(e,["voiceConfig"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function I9(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=p(t,["googleMaps"]);s!=null&&y(e,["googleMaps"],s9(s));const a=p(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=p(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],o9(c));const h=p(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function rR(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>Pz(T))),y(e,["functionDeclarations"],_)}const i=p(t,["retrieval"]);i!=null&&y(e,["retrieval"],i);const s=p(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],a);const l=p(t,["computerUse"]);l!=null&&y(e,["computerUse"],l);const c=p(t,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const h=p(t,["enterpriseWebSearch"]);h!=null&&y(e,["enterpriseWebSearch"],h);const d=p(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&y(e,["urlContext"],m),e}function R9(t){const e={},n=p(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&y(e,["createTime"],i);const s=p(t,["updateTime"]);return s!=null&&y(e,["updateTime"],s),e}function N9(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&y(e,["createTime"],i);const s=p(t,["updateTime"]);return s!=null&&y(e,["updateTime"],s),e}function D9(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const s=p(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function M9(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const s=p(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),n}function P9(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","name"],it(t,i));const s=p(e,["config"]);return s!=null&&D9(s,n),n}function k9(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["config"]);return s!=null&&M9(s,n),n}function L9(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const l=p(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","mimeType"],c);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","compressionQuality"],h);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const _=p(t,["labels"]);e!==void 0&&_!=null&&y(e,["labels"],_);const T=p(t,["numberOfImages"]);e!==void 0&&T!=null&&y(e,["parameters","sampleCount"],T);const x=p(t,["mode"]);return e!==void 0&&x!=null&&y(e,["parameters","mode"],x),n}function V9(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["_url","model"],it(t,i));const s=p(e,["image"]);s!=null&&y(n,["instances[0]","image"],Fi(s));const a=p(e,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=p(e,["config"]);return l!=null&&L9(l,n),n}function U9(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>zh(a))),y(e,["generatedImages"],s)}return e}function O9(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&y(e,["videoBytes"],lo(i));const s=p(t,["encoding"]);return s!=null&&y(e,["mimeType"],s),e}function F9(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],lo(i));const s=p(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function B9(t){const e={},n=p(t,["image"]);n!=null&&y(e,["_self"],Fi(n));const i=p(t,["maskMode"]);return i!=null&&y(e,["maskMode"],i),e}function q9(t){const e={},n=p(t,["image"]);n!=null&&y(e,["image"],Hh(n));const i=p(t,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function z9(t){const e={},n=p(t,["image"]);n!=null&&y(e,["image"],Fi(n));const i=p(t,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function sR(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&y(e,["encodedVideo"],lo(i));const s=p(t,["mimeType"]);return s!=null&&y(e,["encoding"],s),e}function oR(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&y(e,["bytesBase64Encoded"],lo(i));const s=p(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H9="Content-Type",G9="X-Server-Timeout",Y9="User-Agent",yy="x-goog-api-client",J9="1.28.0",K9=`google-genai-sdk/${J9}`,$9="v1beta1",j9="v1beta",ZC=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Q9{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:$9,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:j9,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))s.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&W9(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await ew(s),new dy(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await ew(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return ul(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:h}=yield At(s.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(h,{stream:!0});try{const _=JSON.parse(d);if("error"in _){const T=JSON.parse(JSON.stringify(_.error)),x=T.status,I=T.code,D=`got status: ${x}. ${JSON.stringify(_)}`;if(I>=400&&I<600)throw new Bh({message:D,status:I})}}catch(_){if(_.name==="ApiError")throw _}l+=d;let m=l.match(ZC);for(;m;){const _=m[1];try{const T=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield At(new dy(T)),l=l.slice(m[0].length),m=l.match(ZC)}catch(T){throw new Error(`exception parsing stream chunk ${_}. ${T}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=K9+" "+this.clientOptions.userAgentExtra;return e[Y9]=n,e[yy]=n,e[H9]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(G9,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}async uploadFile(e,n){var i,s;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;let d="";typeof e=="string"&&(d=e.replace(/[/\\]+$/,""),d=(s=d.split(/[/\\]/).pop())!==null&&s!==void 0?s:"");const m=await this.fetchUploadUrl(a,d,n);return l.upload(e,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i){var s;let a={};i!=null&&i.httpOptions?a=i.httpOptions:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`},n?{"X-Goog-Upload-File-Name":n}:{})};const l={file:e},c=await this.request({path:xe("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function ew(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new Bh({message:s,status:n}):new Error(s)}}function W9(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const c=Object.assign({},a);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const d=l[h],m=c[h];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[h]=i(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[h]=d)}return c}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X9="mcp_used/unknown";let Z9=!1;function aR(t){for(const e of t)if(e5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Z9}function lR(t){var e;const n=(e=t[yy])!==null&&e!==void 0?e:"";t[yy]=(n+` ${X9}`).trimStart()}function e5(t){return t!==null&&typeof t=="object"&&t instanceof Yv}function t5(t,e=100){return ul(this,arguments,function*(){let i,s=0;for(;s<e;){const a=yield At(t.listTools({cursor:i}));for(const l of a.tools)yield yield At(l),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class Yv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Yv(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},l=[];for(const m of this.mcpClients)try{for(var c=!0,h=(n=void 0,sc(t5(m))),d;d=await h.next(),e=d.done,!e;c=!0){s=d.value,c=!1;const _=s;l.push(_);const T=_.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=m}}catch(_){n={error:_}}finally{try{!c&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),oB(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n5(t,e,n){const i=new XF;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class i5{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=o5(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(H=>{d=H}),_=e.callbacks,T=function(){d({})},x=this.apiClient,I={onopen:T,onmessage:H=>{n5(x,_.onmessage,H)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(H){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(H){}},D=this.webSocketFactory.create(h,s5(l),I);D.connect(),await m;const G={setup:{model:it(this.apiClient,e.model)}};return D.send(JSON.stringify(G)),new r5(D,this.apiClient)}}class r5{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=jq(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=$q(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(el.PLAY)}pause(){this.sendPlaybackControl(el.PAUSE)}stop(){this.sendPlaybackControl(el.STOP)}resetContext(){this.sendPlaybackControl(el.RESET_CONTEXT)}close(){this.conn.close()}}function s5(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function o5(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function l5(t,e,n){const i=new WF;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const l=Xq(a);Object.assign(i,l)}else Object.assign(i,a);e(i)}class u5{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new i5(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&aR(e.config.tools)&&lR(_);const T=h5(_);if(this.apiClient.isVertexAI())m=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,m);else{const N=this.apiClient.getApiKey();let U="BidiGenerateContent",V="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",V="access_token"),m=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${U}?${V}=${N}`}let x=()=>{};const I=new Promise(N=>{x=N}),D=e.callbacks,O=function(){var N;(N=D==null?void 0:D.onopen)===null||N===void 0||N.call(D),x({})},B=this.apiClient,G={onopen:O,onmessage:N=>{l5(B,D.onmessage,N)},onerror:(n=D==null?void 0:D.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=D==null?void 0:D.onclose)!==null&&i!==void 0?i:function(N){}},H=this.webSocketFactory.create(m,d5(T),G);H.connect(),await I;let re=it(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&re.startsWith("publishers/")){const N=this.apiClient.getProject(),U=this.apiClient.getLocation();re=`projects/${N}/locations/${U}/`+re}let fe={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rh.AUDIO]}:e.config.responseModalities=[rh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],M=[];for(const N of j)if(this.isCallableTool(N)){const U=N;M.push(await U.tool())}else M.push(N);M.length>0&&(e.config.tools=M);const k={model:re,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?fe=Kq(this.apiClient,k):fe=Jq(this.apiClient,k),delete fe.config,H.send(JSON.stringify(fe)),new f5(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const c5={turnComplete:!0};class f5{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=vi(n.turns),e.isVertexAI()||(i=i.map(s=>qh(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(a5)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},c5),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Wq(e)}:n={realtimeInput:Qq(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function d5(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function h5(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tw=10;function nw(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(cl(l)){s=!0;break}if(!s)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function cl(t){return"callTool"in t&&typeof t.callTool=="function"}function p5(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>cl(s)))!==null&&i!==void 0?i:!1}function m5(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!cl(s)))!==null&&i!==void 0?i:!1}function iw(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g5 extends ra{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,l,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!p5(n)||nw(n.config))return await this.generateContentInternal(h);if(m5(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,m;const _=vi(h.contents),T=(a=(s=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:tw;let x=0;for(;x<T&&(d=await this.generateContentInternal(h),!(!d.functionCalls||d.functionCalls.length===0));){const I=d.candidates[0].content,D=[];for(const O of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(cl(O)){const G=await O.callTool(d.functionCalls);D.push(...G)}x++,m={role:"user",parts:D},h.contents=vi(h.contents),h.contents.push(I),h.contents.push(m),iw(h.config)&&(_.push(I),_.push(m))}return iw(h.config)&&(d.automaticFunctionCallingHistory=_),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),nw(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const l=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((s=h==null?void 0:h.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=h==null?void 0:h.safetyAttributes:l.push(h);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Uc(Qo.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,a,l,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async h=>cl(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&aR(e.config.tools)){const h=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),lR(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(cl(l)){const c=l,h=await c.tool();for(const d of(s=h.functionDeclarations)!==null&&s!==void 0?s:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:tw;let l=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(d,m,_){var T,x;return ul(this,arguments,function*(){for(var I,D,O,B;c<a;){l&&(c++,l=!1);const fe=yield At(d.processParamsMaybeAddMcpUsage(_)),j=yield At(d.generateContentStreamInternal(fe)),M=[],k=[];try{for(var G=!0,H=(D=void 0,sc(j)),re;re=yield At(H.next()),I=re.done,!I;G=!0){B=re.value,G=!1;const N=B;if(yield yield At(N),N.candidates&&(!((T=N.candidates[0])===null||T===void 0)&&T.content)){k.push(N.candidates[0].content);for(const U of(x=N.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(c<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(U.functionCall.name)){const V=yield At(m.get(U.functionCall.name).callTool([U.functionCall]));M.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(N){D={error:N}}finally{try{!G&&!I&&(O=H.return)&&(yield At(O.call(H)))}finally{if(D)throw D.error}}if(M.length>0){l=!0;const N=new Hu;N.candidates=[{content:{role:"user",parts:M}}],yield yield At(N);const U=[];U.push(...k),U.push({role:"user",parts:M});const V=vi(_.contents).concat(U);_.contents=V}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=QC(this.apiClient,e);return c=xe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=XC(m),T=new Hu;return Object.assign(T,_),T})}else{const d=jC(this.apiClient,e);return c=xe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=WC(m),T=new Hu;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=QC(this.apiClient,e);return c=xe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(_){return ul(this,arguments,function*(){var T,x,I,D;try{for(var O=!0,B=sc(_),G;G=yield At(B.next()),T=G.done,!T;O=!0){D=G.value,O=!1;const H=D,re=XC(yield At(H.json()));re.sdkHttpResponse={headers:H.headers};const fe=new Hu;Object.assign(fe,re),yield yield At(fe)}}catch(H){x={error:H}}finally{try{!O&&!T&&(I=B.return)&&(yield At(I.call(B)))}finally{if(x)throw x.error}}})})}else{const d=jC(this.apiClient,e);return c=xe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(_){return ul(this,arguments,function*(){var T,x,I,D;try{for(var O=!0,B=sc(_),G;G=yield At(B.next()),T=G.done,!T;O=!0){D=G.value,O=!1;const H=D,re=WC(yield At(H.json()));re.sdkHttpResponse={headers:H.headers};const fe=new Hu;Object.assign(fe,re),yield yield At(fe)}}catch(H){x={error:H}}finally{try{!O&&!T&&(I=B.return)&&(yield At(I.call(B)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=Iz(this.apiClient,e);return c=xe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Nz(m),T=new PC;return Object.assign(T,_),T})}else{const d=bz(this.apiClient,e);return c=xe("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Rz(m),T=new PC;return Object.assign(T,_),T})}}async generateImagesInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=Fz(this.apiClient,e);return c=xe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=qz(m),T=new kC;return Object.assign(T,_),T})}else{const d=Oz(this.apiClient,e);return c=xe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Bz(m),T=new kC;return Object.assign(T,_),T})}}async editImageInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=xz(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const d=Az(h),m=new HF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=V9(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const d=U9(h),m=new GF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=v9(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const d=_9(h),m=new YF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=C9(this.apiClient,e);return a=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const d=w9(h),m=new JF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=r9(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>gy(m))}else{const d=i9(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>my(m))}}async listInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=f9(this.apiClient,e);return c=xe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=h9(m),T=new LC;return Object.assign(T,_),T})}else{const d=c9(this.apiClient,e);return c=xe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=d9(m),T=new LC;return Object.assign(T,_),T})}}async update(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=k9(this.apiClient,e);return c=xe("{model}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>gy(m))}else{const d=P9(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>my(m))}}async delete(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=_z(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Tz(m),T=new VC;return Object.assign(T,_),T})}else{const d=vz(this.apiClient,e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Ez(m),T=new VC;return Object.assign(T,_),T})}}async countTokens(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=mz(this.apiClient,e);return c=xe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=yz(m),T=new UC;return Object.assign(T,_),T})}else{const d=pz(this.apiClient,e);return c=xe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=gz(m),T=new UC;return Object.assign(T,_),T})}}async computeTokens(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=az(this.apiClient,e);return a=xe("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const d=lz(h),m=new KF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=Kz(this.apiClient,e);return c=xe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>{const _=Yz(m),T=new sh;return Object.assign(T,_),T})}else{const d=Jz(this.apiClient,e);return c=xe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>{const _=Gz(m),T=new sh;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y5 extends ra{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=BF(e);return c=xe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l}else{const d=FF(e);return c=xe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=MF(e);return a=xe("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v5(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function _5(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>b5(a))),y(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&y(e,["role"],i),e}function E5(t,e,n){const i={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&y(n,["expireTime"],s);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=p(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],w5(t,c));const h=p(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&y(n,["fieldMask"],h),i}function T5(t,e){const n={},i=p(e,["config"]);return i!=null&&y(n,["config"],E5(t,i,n)),n}function S5(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function x5(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function A5(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function C5(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const a=p(t,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","speechConfig"],Gv(_));const T=p(t,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],x);const I=p(t,["systemInstruction"]);e!==void 0&&I!=null&&y(e,["setup","systemInstruction"],_5(An(I)));const D=p(t,["tools"]);if(e!==void 0&&D!=null){let j=kl(D);Array.isArray(j)&&(j=j.map(M=>R5(Pl(M)))),y(e,["setup","tools"],j)}const O=p(t,["sessionResumption"]);e!==void 0&&O!=null&&y(e,["setup","sessionResumption"],I5(O));const B=p(t,["inputAudioTranscription"]);e!==void 0&&B!=null&&y(e,["setup","inputAudioTranscription"],B);const G=p(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&y(e,["setup","outputAudioTranscription"],G);const H=p(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&y(e,["setup","realtimeInputConfig"],H);const re=p(t,["contextWindowCompression"]);e!==void 0&&re!=null&&y(e,["setup","contextWindowCompression"],re);const fe=p(t,["proactivity"]);return e!==void 0&&fe!=null&&y(e,["setup","proactivity"],fe),n}function w5(t,e){const n={},i=p(e,["model"]);i!=null&&y(n,["setup","model"],it(t,i));const s=p(e,["config"]);return s!=null&&y(n,["config"],C5(s,n)),n}function b5(t){const e={},n=p(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const i=p(t,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&y(e,["fileData"],S5(a));const l=p(t,["functionResponse"]);l!=null&&y(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&y(e,["inlineData"],v5(c));const h=p(t,["text"]);h!=null&&y(e,["text"],h);const d=p(t,["thought"]);d!=null&&y(e,["thought"],d);const m=p(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=p(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function I5(t){const e={},n=p(t,["handle"]);if(n!=null&&y(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R5(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=p(t,["googleMaps"]);s!=null&&y(e,["googleMaps"],x5(s));const a=p(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=p(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],A5(c));const h=p(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N5(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function D5(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=N5(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(d=>l.includes(d)?`generationConfig.${d}`:d));const h=[];a&&h.push(a),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class M5 extends ra{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=T5(this.apiClient,e);a=xe("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const h=D5(c,e.config);return s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P5(t,e){const n={},i=p(t,["name"]);return i!=null&&y(n,["_url","name"],i),n}function k5(t,e){const n={},i=p(t,["name"]);return i!=null&&y(n,["_url","name"],i),n}function L5(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&y(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const l=p(t,["learningRateMultiplier"]);if(l!=null&&y(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","batchSize"],c);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&y(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function V5(t,e,n){const i={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&y(e,["supervisedTuningSpec"],rw(x))}else if(s==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&y(e,["preferenceOptimizationSpec"],rw(x))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const l=p(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(h==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(m==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=p(t,["labels"]);e!==void 0&&_!=null&&y(e,["labels"],_);const T=p(t,["beta"]);return e!==void 0&&T!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function U5(t,e){const n={},i=p(t,["baseModel"]);i!=null&&y(n,["baseModel"],i);const s=p(t,["preTunedModel"]);s!=null&&y(n,["preTunedModel"],s);const a=p(t,["trainingDataset"]);a!=null&&$5(a);const l=p(t,["config"]);return l!=null&&L5(l,n),n}function O5(t,e){const n={},i=p(t,["baseModel"]);i!=null&&y(n,["baseModel"],i);const s=p(t,["preTunedModel"]);s!=null&&y(n,["preTunedModel"],s);const a=p(t,["trainingDataset"]);a!=null&&j5(a,n,e);const l=p(t,["config"]);return l!=null&&V5(l,n,e),n}function F5(t,e){const n={},i=p(t,["name"]);return i!=null&&y(n,["_url","name"],i),n}function B5(t,e){const n={},i=p(t,["name"]);return i!=null&&y(n,["_url","name"],i),n}function q5(t,e,n){const i={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),i}function z5(t,e,n){const i={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),i}function H5(t,e){const n={},i=p(t,["config"]);return i!=null&&q5(i,n),n}function G5(t,e){const n={},i=p(t,["config"]);return i!=null&&z5(i,n),n}function Y5(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const s=p(t,["nextPageToken"]);s!=null&&y(n,["nextPageToken"],s);const a=p(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>uR(c))),y(n,["tuningJobs"],l)}return n}function J5(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const s=p(t,["nextPageToken"]);s!=null&&y(n,["nextPageToken"],s);const a=p(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>vy(c))),y(n,["tuningJobs"],l)}return n}function K5(t,e){const n={},i=p(t,["name"]);i!=null&&y(n,["model"],i);const s=p(t,["name"]);return s!=null&&y(n,["endpoint"],s),n}function $5(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),y(n,["examples","examples"],s)}return n}function j5(t,e,n){const i={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function uR(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const s=p(t,["name"]);s!=null&&y(n,["name"],s);const a=p(t,["state"]);a!=null&&y(n,["state"],GI(a));const l=p(t,["createTime"]);l!=null&&y(n,["createTime"],l);const c=p(t,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&y(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const m=p(t,["description"]);m!=null&&y(n,["description"],m);const _=p(t,["baseModel"]);_!=null&&y(n,["baseModel"],_);const T=p(t,["_self"]);return T!=null&&y(n,["tunedModel"],K5(T)),n}function vy(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const s=p(t,["name"]);s!=null&&y(n,["name"],s);const a=p(t,["state"]);a!=null&&y(n,["state"],GI(a));const l=p(t,["createTime"]);l!=null&&y(n,["createTime"],l);const c=p(t,["startTime"]);c!=null&&y(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&y(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const m=p(t,["error"]);m!=null&&y(n,["error"],m);const _=p(t,["description"]);_!=null&&y(n,["description"],_);const T=p(t,["baseModel"]);T!=null&&y(n,["baseModel"],T);const x=p(t,["tunedModel"]);x!=null&&y(n,["tunedModel"],x);const I=p(t,["preTunedModel"]);I!=null&&y(n,["preTunedModel"],I);const D=p(t,["supervisedTuningSpec"]);D!=null&&y(n,["supervisedTuningSpec"],D);const O=p(t,["preferenceOptimizationSpec"]);O!=null&&y(n,["preferenceOptimizationSpec"],O);const B=p(t,["tuningDataStats"]);B!=null&&y(n,["tuningDataStats"],B);const G=p(t,["encryptionSpec"]);G!=null&&y(n,["encryptionSpec"],G);const H=p(t,["partnerModelTuningSpec"]);H!=null&&y(n,["partnerModelTuningSpec"],H);const re=p(t,["customBaseModel"]);re!=null&&y(n,["customBaseModel"],re);const fe=p(t,["experiment"]);fe!=null&&y(n,["experiment"],fe);const j=p(t,["labels"]);j!=null&&y(n,["labels"],j);const M=p(t,["outputUri"]);M!=null&&y(n,["outputUri"],M);const k=p(t,["pipelineJob"]);k!=null&&y(n,["pipelineJob"],k);const N=p(t,["serviceAccount"]);N!=null&&y(n,["serviceAccount"],N);const U=p(t,["tunedModelDisplayName"]);U!=null&&y(n,["tunedModelDisplayName"],U);const V=p(t,["veoTuningSpec"]);return V!=null&&y(n,["veoTuningSpec"],V),n}function Q5(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const s=p(t,["name"]);s!=null&&y(n,["name"],s);const a=p(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=p(t,["done"]);l!=null&&y(n,["done"],l);const c=p(t,["error"]);return c!=null&&y(n,["error"],c),n}function rw(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&y(n,["validationDatasetUri"],i);const s=p(t,["vertexDatasetResource"]);return s!=null&&y(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W5 extends ra{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Uc(Qo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),a=await this.tuneMldevInternal(s);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:fy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=B5(e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>vy(m))}else{const d=F5(e);return c=xe("{name}",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>uR(m))}}async listInternal(e){var n,i,s,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const d=G5(e);return c=xe("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=J5(m),T=new OC;return Object.assign(T,_),T})}else{const d=H5(e);return c=xe("tunedModels",d._url),h=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:m.headers},T})),l.then(m=>{const _=Y5(m),T=new OC;return Object.assign(T,_),T})}}async cancel(e){var n,i,s,a;let l="",c={};if(this.apiClient.isVertexAI()){const h=k5(e);l=xe("{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=P5(e);l=xe("{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=O5(e,e);return a=xe("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>vy(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=U5(e);return a=xe("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>Q5(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X5{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Z5=1024*1024*8,eH=3,tH=1e3,nH=2,Ag="x-goog-upload-status";async function iH(t,e,n){var i,s,a;let l=0,c=0,h=new dy(new Response),d="upload";for(l=t.size;c<l;){const _=Math.min(Z5,l-c),T=t.slice(c,c+_);c+_>=l&&(d+=", finalize");let x=0,I=tH;for(;x<eH&&(h=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(c),"Content-Length":String(_)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[Ag]));)x++,await sH(I),I=I*nH;if(c+=_,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s[Ag])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(h==null?void 0:h.json());if(((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[Ag])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function rH(t){return{size:t.size,type:t.type}}function sH(t){return new Promise(e=>setTimeout(e,t))}class oH{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iH(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rH(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aH{create(e,n,i){return new lH(e,n,i)}}class lH{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sw="x-goog-api-key";class uH{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(sw)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sw,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cH="gl-node/";class fH{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=NF(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const s=new uH(this.apiKey);this.apiClient=new Q9({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:cH+"web",uploader:new oH,downloader:new X5}),this.models=new g5(this.apiClient),this.live=new u5(this.apiClient,s,new aH),this.batches=new jB(this.apiClient),this.chats=new bq(this.models,this.apiClient),this.caches=new Aq(this.apiClient),this.files=new Uq(this.apiClient),this.operations=new y5(this.apiClient),this.authTokens=new M5(this.apiClient),this.tunings=new W5(this.apiClient)}}const dH=async t=>{try{const e=new fH({apiKey:"PLACEHOLDER_API_KEY"}),n=`Write a blog post titled "${t}". The tone should be professional, insightful, and informative, suitable for an audience of medical professionals and resident doctors. The post should be in Markdown format. Start with a compelling introduction, provide a structured body with headings, and end with a concise conclusion.`;return(await e.models.generateContent({model:"gemini-2.5-flash",contents:n})).text}catch(e){throw console.error("Error generating content with Gemini API:",e),new Error("Failed to generate content. Please check your network connection and try again.")}},ow=()=>{const{id:t}=uh(),e=Tl(),[n,i]=$.useState({title:"",author:"NAFORD Admin",content:""}),[s,a]=$.useState(!1),[l,c]=$.useState(!1),[h,d]=$.useState(!0),m=!!t;$.useEffect(()=>{(async()=>{if(m&&t){const D=await eI(t);D?i(D):e("/admin/posts")}d(!1)})()},[t,m,e]);const _=I=>{const{id:D,value:O}=I.target;i(B=>({...B,[D]:O}))},T=async()=>{if(!n.title){alert("Please enter a title first to generate content.");return}c(!0);try{const I=await dH(n.title);i(D=>({...D,content:I}))}catch(I){console.error(I),alert("Failed to generate content. Check console for details.")}finally{c(!1)}},x=async I=>{if(I.preventDefault(),!n.title||!n.author||!n.content){alert("Please fill all fields");return}a(!0);try{m&&t?await YU(t,{title:n.title,author:n.author,content:n.content}):await GU({title:n.title,author:n.author,content:n.content}),e("/admin/posts")}catch(D){console.error("Failed to save post:",D),alert("Failed to save post. Check console for details.")}finally{a(!1)}};return h?S.jsx("p",{className:"p-8",children:"Loading post..."}):S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)] mb-8",children:m?"Edit Post":"Create New Post"}),S.jsxs("form",{onSubmit:x,className:"bg-[var(--bg-primary)] p-8 rounded-xl shadow-lg border border-[var(--border-color)] space-y-6 max-w-2xl mx-auto",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Title"}),S.jsx("input",{type:"text",id:"title",value:n.title,onChange:_,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Author"}),S.jsx("input",{type:"text",id:"author",value:n.author,onChange:_,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",required:!0})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-[var(--text-secondary)]",children:"Content (Markdown supported)"}),S.jsxs("button",{type:"button",onClick:T,disabled:l,className:"flex items-center gap-2 text-sm bg-purple-100 text-purple-700 font-semibold px-3 py-1 rounded-md hover:bg-purple-200 disabled:opacity-50 disabled:cursor-wait",children:[S.jsx("i",{className:`fa-solid ${l?"fa-spinner fa-spin":"fa-wand-magic-sparkles"}`}),l?"Generating...":"Generate with AI"]})]}),S.jsx("textarea",{id:"content",value:n.content,onChange:_,rows:15,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono text-sm",placeholder:"Write your blog post here...",required:!0})]}),S.jsxs("div",{className:"flex justify-end gap-4",children:[S.jsx("button",{type:"button",onClick:()=>e("/admin/posts"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),S.jsx("button",{type:"submit",disabled:s,className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors disabled:bg-gray-400",children:s?"Saving...":"Save Post"})]})]})]})},hH=()=>{const[t,e]=$.useState([]),[n,i]=$.useState(!0);$.useEffect(()=>{s()},[]);const s=async()=>{i(!0);try{const l=await Av();e(l)}catch(l){console.error("Failed to load team members:",l)}finally{i(!1)}},a=async l=>{window.confirm("Are you sure you want to delete this team member?")&&(await LU(l),s())};return S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)]",children:"Manage Team"}),S.jsxs(tn,{to:"/admin/team/new",className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors flex items-center gap-2",children:[S.jsx("i",{className:"fa-solid fa-plus"}),"Add Member"]})]}),S.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl shadow-lg border border-[var(--border-color)] overflow-hidden",children:S.jsx("div",{className:"overflow-x-auto",children:n?S.jsx("p",{className:"p-6 text-center text-[var(--text-secondary)]",children:"Loading team members..."}):S.jsxs("table",{className:"min-w-full divide-y divide-[var(--border-color)]",children:[S.jsx("thead",{className:"bg-[var(--bg-secondary)]",children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Name"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Role"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Type"}),S.jsx("th",{scope:"col",className:"relative px-6 py-3",children:S.jsx("span",{className:"sr-only",children:"Actions"})})]})}),S.jsx("tbody",{className:"bg-[var(--bg-primary)] divide-y divide-[var(--border-color)]",children:t.length>0?t.map(l=>S.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)]",children:[S.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:S.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:l.imageUrl,alt:l.name})}),S.jsx("div",{className:"ml-4",children:S.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.name})})]})}),S.jsx("td",{className:"px-6 py-4 whitespace-pre-line text-sm text-[var(--text-secondary)]",children:l.role}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)] capitalize",children:l.type}),S.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3",children:[S.jsx(tn,{to:`/admin/team/edit/${l.id}`,className:"text-blue-600 hover:text-blue-900",children:"Edit"}),S.jsx("button",{onClick:()=>a(l.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},l.id)):S.jsx("tr",{children:S.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-[var(--text-secondary)]",children:"No team members found."})})})]})})})]})},aw=()=>{const{id:t}=uh(),e=Tl(),[n,i]=$.useState({name:"",role:"",bio:"",imageUrl:"",type:"committee"}),[s,a]=$.useState(!1),[l,c]=$.useState(!0),h=!!t;$.useEffect(()=>{(async()=>{if(h&&t){const T=await MU(t);T?i(T):e("/admin/team")}c(!1)})()},[t,h,e]);const d=_=>{const{name:T,value:x}=_.target;i(I=>({...I,[T]:x}))},m=async _=>{_.preventDefault(),a(!0);try{h&&t?await kU(t,n):await PU(n),e("/admin/team")}catch(T){console.error("Failed to save team member:",T),alert("Failed to save member. See console for details.")}finally{a(!1)}};return l?S.jsx("p",{className:"p-8",children:"Loading member details..."}):S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)] mb-8",children:h?"Edit Team Member":"Add New Team Member"}),S.jsxs("form",{onSubmit:m,className:"bg-[var(--bg-primary)] p-8 rounded-xl shadow-lg border border-[var(--border-color)] space-y-6 max-w-2xl mx-auto",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Name"}),S.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:d,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Role"}),S.jsx("textarea",{id:"role",name:"role",value:n.role,onChange:d,rows:3,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Image URL"}),S.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:n.imageUrl,onChange:d,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Member Type"}),S.jsxs("select",{id:"type",name:"type",value:n.type,onChange:d,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0,children:[S.jsx("option",{value:"committee",children:"Core Committee"}),S.jsx("option",{value:"founder",children:"Founder Member"})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Bio"}),S.jsx("textarea",{id:"bio",name:"bio",value:n.bio,onChange:d,rows:4,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{className:"flex justify-end gap-4",children:[S.jsx("button",{type:"button",onClick:()=>e("/admin/team"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"}),S.jsx("button",{type:"submit",disabled:s,className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] disabled:bg-gray-400",children:s?"Saving...":"Save Member"})]})]})]})},pH=()=>{const[t,e]=$.useState([]),[n,i]=$.useState(!0);$.useEffect(()=>{s()},[]);const s=async()=>{i(!0);try{const l=await Cv();e(l)}catch(l){console.error("Failed to load events:",l)}finally{i(!1)}},a=async l=>{window.confirm("Are you sure you want to delete this event?")&&(await qU(l),s())};return S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)]",children:"Manage Events"}),S.jsxs(tn,{to:"/admin/events/new",className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] transition-colors flex items-center gap-2",children:[S.jsx("i",{className:"fa-solid fa-plus"}),"Add Event"]})]}),S.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl shadow-lg border border-[var(--border-color)] overflow-hidden",children:n?S.jsx("p",{className:"p-6 text-center text-[var(--text-secondary)]",children:"Loading events..."}):S.jsx("ul",{className:"divide-y divide-[var(--border-color)]",children:t.length>0?t.map(l=>S.jsx("li",{className:"p-4 sm:p-6 hover:bg-[var(--bg-secondary)] transition-colors",children:S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:l.name}),S.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:[new Date(l.date).toLocaleDateString("en-US",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric"})," | ",l.location]})]}),S.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[S.jsx(tn,{to:`/admin/events/edit/${l.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:"Edit"}),S.jsx("button",{onClick:()=>a(l.id),className:"text-sm font-medium text-red-600 hover:text-red-800",children:"Delete"})]})]})},l.id)):S.jsx("li",{className:"p-6 text-center text-[var(--text-secondary)]",children:"No events found."})})})]})},lw=()=>{const{id:t}=uh(),e=Tl(),[n,i]=$.useState({name:"",date:"",location:"",description:""}),[s,a]=$.useState(!1),[l,c]=$.useState(!0),h=!!t;$.useEffect(()=>{(async()=>{if(h&&t){const T=await OU(t);T?i(T):e("/admin/events")}c(!1)})()},[t,h,e]);const d=_=>{const{name:T,value:x}=_.target;i(I=>({...I,[T]:x}))},m=async _=>{_.preventDefault(),a(!0);try{h&&t?await BU(t,n):await FU(n),e("/admin/events")}catch(T){console.error("Failed to save event:",T),alert("Failed to save event. See console for details.")}finally{a(!1)}};return l?S.jsx("p",{className:"p-8",children:"Loading event details..."}):S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)] mb-8",children:h?"Edit Event":"Add New Event"}),S.jsxs("form",{onSubmit:m,className:"bg-[var(--bg-primary)] p-8 rounded-xl shadow-lg border border-[var(--border-color)] space-y-6 max-w-2xl mx-auto",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Event Name"}),S.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:d,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Date"}),S.jsx("input",{type:"date",id:"date",name:"date",value:n.date,onChange:d,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Location"}),S.jsx("input",{type:"text",id:"location",name:"location",value:n.location,onChange:d,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Description"}),S.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:d,rows:4,className:"w-full px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg",required:!0})]}),S.jsxs("div",{className:"flex justify-end gap-4",children:[S.jsx("button",{type:"button",onClick:()=>e("/admin/events"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"}),S.jsx("button",{type:"submit",disabled:s,className:"bg-[var(--accent-primary)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--accent-secondary)] disabled:bg-gray-400",children:s?"Saving...":"Save Event"})]})]})]})},mH=()=>{const[t,e]=$.useState([]),[n,i]=$.useState(!0);return $.useEffect(()=>{(async()=>{i(!0);try{const a=await nI();e(a)}catch(a){console.error("Failed to load registrations:",a)}finally{i(!1)}})()},[]),S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)] mb-8",children:"Registrations"}),S.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl shadow-lg border border-[var(--border-color)] overflow-hidden",children:S.jsx("div",{className:"overflow-x-auto",children:n?S.jsx("p",{className:"p-6 text-center text-[var(--text-secondary)]",children:"Loading registrations..."}):S.jsxs("table",{className:"min-w-full divide-y divide-[var(--border-color)]",children:[S.jsx("thead",{className:"bg-[var(--bg-secondary)]",children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Date Submitted"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Name"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Phone"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Institute (INI)"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Year"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Stream"}),S.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Degree"})]})}),S.jsx("tbody",{className:"bg-[var(--bg-primary)] divide-y divide-[var(--border-color)]",children:t.length>0?t.map(s=>S.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)]",children:[S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:s.submittedAt.toDate().toLocaleString()}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[var(--text-primary)]",children:s.name}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:s.phone}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:s.ini}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:s.year}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:s.stream}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:s.degree})]},s.id)):S.jsx("tr",{children:S.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-[var(--text-secondary)]",children:"No registrations found."})})})]})})})]})},gH=()=>S.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[S.jsx("h1",{className:"text-4xl font-bold text-[var(--text-primary)] mb-8",children:"Settings"}),S.jsx("div",{className:"max-w-2xl mx-auto",children:S.jsxs("div",{className:"bg-[var(--bg-primary)] p-8 rounded-xl shadow-lg border border-[var(--border-color)]",children:[S.jsx("h2",{className:"text-lg font-medium text-[var(--text-primary)] mb-2",children:"AI Configuration"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"The Gemini API key is configured securely via environment variables. No action is required here."})]})})]}),yH=()=>{const t="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",e="bg-[var(--accent-primary)] text-white font-semibold",n="text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] hover:text-[var(--text-primary)]",i=({isActive:s})=>`${t} ${s?e:n}`;return S.jsxs("div",{className:"flex min-h-[calc(100vh-150px)] bg-[var(--bg-backdrop)]",children:[S.jsx("aside",{className:"w-64 bg-[var(--bg-primary)] p-4 border-r border-[var(--border-color)] flex-shrink-0",children:S.jsx("nav",{children:S.jsxs("ul",{className:"space-y-2",children:[S.jsx("li",{children:S.jsxs(zr,{to:"/admin",end:!0,className:i,children:[S.jsx("i",{className:"fa-solid fa-gauge-high w-5 text-center"})," Dashboard"]})}),S.jsx("li",{children:S.jsxs(zr,{to:"/admin/posts",className:i,children:[S.jsx("i",{className:"fa-solid fa-newspaper w-5 text-center"})," Blog Posts"]})}),S.jsx("li",{children:S.jsxs(zr,{to:"/admin/team",className:i,children:[S.jsx("i",{className:"fa-solid fa-users w-5 text-center"})," Team Members"]})}),S.jsx("li",{children:S.jsxs(zr,{to:"/admin/events",className:i,children:[S.jsx("i",{className:"fa-solid fa-calendar-days w-5 text-center"})," Events"]})}),S.jsx("li",{children:S.jsxs(zr,{to:"/admin/registrations",className:i,children:[S.jsx("i",{className:"fa-solid fa-address-card w-5 text-center"})," Registrations"]})}),S.jsx("hr",{className:"my-2 border-[var(--border-color)]"}),S.jsx("li",{children:S.jsxs(zr,{to:"/admin/settings",className:i,children:[S.jsx("i",{className:"fa-solid fa-gear w-5 text-center"})," Settings"]})})]})})}),S.jsx("main",{className:"flex-1",children:S.jsxs(vw,{children:[S.jsx(Ot,{index:!0,element:S.jsx(CF,{})}),S.jsx(Ot,{path:"posts",element:S.jsx(wF,{})}),S.jsx(Ot,{path:"posts/new",element:S.jsx(ow,{})}),S.jsx(Ot,{path:"posts/edit/:id",element:S.jsx(ow,{})}),S.jsx(Ot,{path:"team",element:S.jsx(hH,{})}),S.jsx(Ot,{path:"team/new",element:S.jsx(aw,{})}),S.jsx(Ot,{path:"team/edit/:id",element:S.jsx(aw,{})}),S.jsx(Ot,{path:"events",element:S.jsx(pH,{})}),S.jsx(Ot,{path:"events/new",element:S.jsx(lw,{})}),S.jsx(Ot,{path:"events/edit/:id",element:S.jsx(lw,{})}),S.jsx(Ot,{path:"registrations",element:S.jsx(mH,{})}),S.jsx(Ot,{path:"settings",element:S.jsx(gH,{})})]})})]})},Cg={rgkar:[{id:1,thumb:"https://i.ibb.co/S4wx1LbG/NAFORD-STANDS-WITH-RG-KAR-MEDICAL-COLLEGE-1.webp",full:"https://ibb.co/hJFMnqbw",alt:"NAFORD stands with RGKAR 1"},{id:2,thumb:"https://i.ibb.co/4n5jknVQ/NAFORD-STANDS-WITH-RG-KAR-MEDICAL-COLLEGE-2.webp",full:"https://ibb.co/wFxKtFzv",alt:"NAFORD stands with RGKAR 2"},{id:3,thumb:"https://i.ibb.co/0Rt9y6nR/NAFORD-STANDS-WITH-RG-KAR-MEDICAL-COLLEGE-3.webp",full:"https://ibb.co/S4rmwM64",alt:"NAFORD stands with RGKAR 3"},{id:4,thumb:"https://i.ibb.co/HpG7ZTR0/NAFORD-STANDS-WITH-RG-KAR-MEDICAL-COLLEGE-4.webp",full:"https://ibb.co/KzV6nxBY",alt:"NAFORD stands with RGKAR 4"},{id:5,thumb:"https://i.ibb.co/zh4Qw33Y/NAFORD-STANDS-WITH-RG-KAR-MEDICAL-COLLEGE-5.webp",full:"https://ibb.co/pvLbpHH8",alt:"NAFORD stands with RGKAR 5"}],academics:[{id:6,thumb:"https://i.ibb.co/S7Q7Yqvh/mental-health.webp",full:"https://ibb.co/k636bYcR",alt:"Academics: Mental Health Awareness"},{id:7,thumb:"https://i.ibb.co/MDNDDDKL/Thesis-101-From-Start-to-Stellar.webp",full:"https://ibb.co/SXvXXXHp",alt:"Academics: Thesis 101 Workshop"},{id:8,thumb:"https://i.ibb.co/nMx9W0Dy/White-and-Grey-Simple-Webinar-Poster-Landscape.webp",full:"https://ibb.co/JjDVhdzT",alt:"Academics: Webinar Poster"}],activism:[{id:9,thumb:"https://i.ibb.co/35DMYnDs/1-YEAR-OF-INJUSTICE-2.webp",full:"https://ibb.co/Y4zyTxzW",alt:"Activism Poster: 1 Year of Injustice"},{id:10,thumb:"https://i.ibb.co/fVG04vd5/Whats-App-Image-2025-10-15-at-14-39-40-1.webp",full:"https://ibb.co/Gf3PcTQL",alt:"Activism Event Image 1"},{id:11,thumb:"https://i.ibb.co/8nr7JSM6/Whats-App-Image-2025-10-15-at-14-42-22-2.webp",full:"https://ibb.co/6cHW2fYg",alt:"Activism Event Image 2"}]},wg=({title:t,images:e})=>S.jsxs("div",{className:"mb-12",children:[S.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[var(--text-primary)] mb-6 px-4 md:px-0",children:t}),S.jsx("div",{className:"relative",children:S.jsx("div",{className:"flex gap-5 overflow-x-auto pb-4 px-4 md:px-0 scroll-smooth snap-x snap-mandatory",children:e.map(n=>S.jsx("a",{href:n.full,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 w-64 h-64 md:w-80 md:h-80 snap-start block rounded-xl overflow-hidden border border-[var(--border-color)] shadow-md hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group",children:S.jsx("img",{src:n.thumb,alt:n.alt,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})},n.id))})})]}),vH=()=>S.jsx("div",{className:"bg-[var(--bg-primary)]",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-[var(--accent-primary)] tracking-tight",children:"Our Gallery"}),S.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-xl text-[var(--text-secondary)]",children:"A visual journey through our activities, achievements, academic pursuits, and community engagement across India's premier medical institutions."})]}),S.jsxs("div",{className:"mt-16",children:[S.jsx(wg,{title:"NAFORD stands with RGKAR",images:Cg.rgkar}),S.jsx(wg,{title:"Academics",images:Cg.academics}),S.jsx(wg,{title:"Activism",images:Cg.activism})]})]})}),_H=()=>S.jsx("div",{className:"bg-[var(--bg-primary)]",children:S.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[S.jsx("h1",{className:"text-4xl font-extrabold text-[var(--accent-primary)] text-center mb-8",children:"Privacy Policy"}),S.jsxs("div",{className:"prose lg:prose-lg max-w-none text-[var(--text-secondary)] prose-headings:text-[var(--text-primary)]",children:[S.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),S.jsx("h2",{children:"1. Introduction"}),S.jsx("p",{children:"Welcome to NAFORD. We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website."}),S.jsx("h2",{children:"2. Information We Collect"}),S.jsx("p",{children:"We may collect personal information from you in a variety of ways, including when you register on the site. The types of personal information collected may include:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Name"}),S.jsx("li",{children:"Contact information (phone number, email address)"}),S.jsx("li",{children:"Professional information (Institute, year of joining, stream, degree)"})]}),S.jsx("h2",{children:"3. How We Use Your Information"}),S.jsx("p",{children:"We use the information we collect to:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Create and manage your membership account."}),S.jsx("li",{children:"Communicate with you about events and news."}),S.jsx("li",{children:"Improve our website and services."}),S.jsx("li",{children:"Compile anonymous statistical data for our own use."})]}),S.jsx("h2",{children:"4. Disclosure of Your Information"}),S.jsx("p",{children:"We do not sell, trade, or otherwise transfer to outside parties your Personally Identifiable Information unless we provide users with advance notice. This does not include website hosting partners and other parties who assist us in operating our website, so long as those parties agree to keep this information confidential."}),S.jsx("h2",{children:"5. Security of Your Information"}),S.jsx("p",{children:"We use administrative, technical, and physical security measures to help protect your personal information. While we have taken reasonable steps to secure the personal information you provide to us, please be aware that despite our efforts, no security measures are perfect or impenetrable."}),S.jsx("h2",{children:"6. Contact Us"}),S.jsxs("p",{children:["If you have questions or comments about this Privacy Policy, please contact us at ",S.jsx("a",{href:"mailto:nafordaiims@gmail.com",className:"text-[var(--accent-primary)]",children:"nafordaiims@gmail.com"}),"."]})]})]})}),EH=()=>S.jsx("div",{className:"bg-[var(--bg-primary)]",children:S.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[S.jsx("h1",{className:"text-4xl font-extrabold text-[var(--accent-primary)] text-center mb-8",children:"Terms of Service"}),S.jsxs("div",{className:"prose lg:prose-lg max-w-none text-[var(--text-secondary)] prose-headings:text-[var(--text-primary)]",children:[S.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),S.jsx("h2",{children:"1. Agreement to Terms"}),S.jsx("p",{children:"By accessing and using our website, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."}),S.jsx("h2",{children:"2. Use License"}),S.jsx("p",{children:"Permission is granted to temporarily download one copy of the materials on NAFORD's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title."}),S.jsx("h2",{children:"3. Disclaimer"}),S.jsx("p",{children:"The materials on NAFORD's website are provided on an 'as is' basis. NAFORD makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."}),S.jsx("h2",{children:"4. Limitations"}),S.jsx("p",{children:"In no event shall NAFORD or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on NAFORD's website."}),S.jsx("h2",{children:"5. Modifications"}),S.jsx("p",{children:"NAFORD may revise these terms of service for its website at any time without notice. By using this website you are agreeing to be bound by the then current version of these terms of service."}),S.jsx("h2",{children:"6. Governing Law"}),S.jsx("p",{children:"These terms and conditions are governed by and construed in accordance with the laws of India and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location."})]})]})}),TH=()=>S.jsx(RU,{children:S.jsx(fD,{children:S.jsxs("div",{className:"flex flex-col min-h-screen",children:[S.jsx(xF,{}),S.jsx("main",{className:"flex-grow",children:S.jsxs(vw,{children:[S.jsx(Ot,{path:"/",element:S.jsx($U,{})}),S.jsx(Ot,{path:"/blog",element:S.jsx(jU,{})}),S.jsx(Ot,{path:"/blog/:id",element:S.jsx(EF,{})}),S.jsx(Ot,{path:"/gallery",element:S.jsx(vH,{})}),S.jsx(Ot,{path:"/login",element:S.jsx(TF,{})}),S.jsx(Ot,{path:"/privacy",element:S.jsx(_H,{})}),S.jsx(Ot,{path:"/terms",element:S.jsx(EH,{})}),S.jsx(Ot,{path:"/admin/*",element:S.jsx(SF,{children:S.jsx(yH,{})})})]})}),S.jsx(AF,{})]})})}),cR=document.getElementById("root");if(!cR)throw new Error("Could not find root element to mount to");const SH=XN.createRoot(cR);SH.render(S.jsx(GN.StrictMode,{children:S.jsx(TH,{})}));
